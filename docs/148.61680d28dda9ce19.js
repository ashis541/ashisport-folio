(self.webpackChunkashis=self.webpackChunkashis||[]).push([[148],{1148:(G,a,P)=>{"use strict";P.r(a),P.d(a,{ResumeModule:()=>ue});var i=P(6895),F=P(8095),C=P(8256),H=P(4456),T=P(1593),E=P(3359),A=P(8421),N=P(9751),j=P(5577),z=P(1144),I=P(576),W=P(3268);const g=["addListener","removeListener"],x=["addEventListener","removeEventListener"],m=["on","off"];function S(ne,re,D,q){if((0,I.m)(D)&&(q=D,D=void 0),q)return S(ne,re,D).pipe((0,W.Z)(q));const[te,fe]=function n(ne){return(0,I.m)(ne.addEventListener)&&(0,I.m)(ne.removeEventListener)}(ne)?x.map(se=>w=>ne[se](re,w,D)):function y(ne){return(0,I.m)(ne.addListener)&&(0,I.m)(ne.removeListener)}(ne)?g.map(b(ne,re)):function t(ne){return(0,I.m)(ne.on)&&(0,I.m)(ne.off)}(ne)?m.map(b(ne,re)):[];if(!te&&(0,z.z)(ne))return(0,j.z)(se=>S(se,re,D))((0,A.Xf)(ne));if(!te)throw new TypeError("Invalid event target");return new N.y(se=>{const w=(...J)=>se.next(1<J.length?J:J[0]);return te(w),()=>fe(w)})}function b(ne,re){return D=>q=>ne[D](re,q)}var h=P(7579),v=P(2076),d=P(4482),_=P(5403),p=P(5032);function c(ne){return(0,d.e)((re,D)=>{(0,A.Xf)(ne).subscribe((0,_.x)(D,()=>D.complete(),p.Z)),!D.closed&&re.subscribe(D)})}var L=P(727);class M extends L.w0{constructor(re,D){super()}schedule(re,D=0){return this}}const V={setInterval(ne,re,...D){const{delegate:q}=V;return q?.setInterval?q.setInterval(ne,re,...D):setInterval(ne,re,...D)},clearInterval(ne){const{delegate:re}=V;return(re?.clearInterval||clearInterval)(ne)},delegate:void 0};var K=P(8737);const ee={now:()=>(ee.delegate||Date).now(),delegate:void 0};class oe{constructor(re,D=oe.now){this.schedulerActionCtor=re,this.now=D}schedule(re,D=0,q){return new this.schedulerActionCtor(this,re).schedule(q,D)}}oe.now=ee.now;const de=new class ge extends oe{constructor(re,D=oe.now){super(re,D),this.actions=[],this._active=!1}flush(re){const{actions:D}=this;if(this._active)return void D.push(re);let q;this._active=!0;do{if(q=re.execute(re.state,re.delay))break}while(re=D.shift());if(this._active=!1,q){for(;re=D.shift();)re.unsubscribe();throw q}}}(class Z extends M{constructor(re,D){super(re,D),this.scheduler=re,this.work=D,this.pending=!1}schedule(re,D=0){var q;if(this.closed)return this;this.state=re;const te=this.id,fe=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(fe,te,D)),this.pending=!0,this.delay=D,this.id=null!==(q=this.id)&&void 0!==q?q:this.requestAsyncId(fe,this.id,D),this}requestAsyncId(re,D,q=0){return V.setInterval(re.flush.bind(re,this),q)}recycleAsyncId(re,D,q=0){if(null!=q&&this.delay===q&&!1===this.pending)return D;null!=D&&V.clearInterval(D)}execute(re,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(re,D);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,D){let te,q=!1;try{this.work(re)}catch(fe){q=!0,te=fe||new Error("Scheduled action threw falsy error")}if(q)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:re,scheduler:D}=this,{actions:q}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,K.P)(q,this),null!=re&&(this.id=this.recycleAsyncId(D,re,null)),this.delay=null,super.unsubscribe()}}});var e=P(9300),s=P(6036),o=P.t(s,2),u=P(2813),f=P.t(u,2);const l=["pdfViewerContainer"];function B(ne,re,D){ne[re]=D}function Y(){return typeof window>"u"}Y()||B(o,"verbosity",s.VerbosityLevel.INFOS);var $=(()=>{return(ne=$||($={}))[ne.DISABLED=0]="DISABLED",ne[ne.ENABLED=1]="ENABLED",ne[ne.ENHANCED=2]="ENHANCED",$;var ne})();let ie=(()=>{class ne{constructor(D,q){if(this.element=D,this.ngZone=q,this.isVisible=!1,this._cMapsUrl=typeof o<"u"?`https://unpkg.com/pdfjs-dist@${s.version}/cmaps/`:null,this._imageResourcesPath=typeof o<"u"?`https://unpkg.com/pdfjs-dist@${s.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=$.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new h.x,this.afterLoadComplete=new C.vpe,this.pageRendered=new C.vpe,this.pageInitialized=new C.vpe,this.textLayerRendered=new C.vpe,this.onError=new C.vpe,this.onProgress=new C.vpe,this.pageChange=new C.vpe(!0),Y())return;let te;const fe=s.version;te=window[`pdfWorkerSrc${fe}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${fe}/legacy/build/pdf.worker.min.js`),B(s.GlobalWorkerOptions,"workerSrc",te)}set cMapsUrl(D){this._cMapsUrl=D}set page(D){const q=D=parseInt(D,10)||1;this._pdf&&(D=this.getValidPageNumber(D)),this._page=D,q!==D&&this.pageChange.emit(D)}set renderText(D){this._renderText=D}set renderTextMode(D){this._renderTextMode=D}set originalSize(D){this._originalSize=D}set showAll(D){this._showAll=D}set stickToPage(D){this._stickToPage=D}set zoom(D){D<=0||(this._zoom=D)}get zoom(){return this._zoom}set zoomScale(D){this._zoomScale=D}get zoomScale(){return this._zoomScale}set rotation(D){"number"==typeof D&&D%90==0?this._rotation=D:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(D){this._externalLinkTarget=D}set autoresize(D){this._canAutoResize=Boolean(D)}set fitToPage(D){this._fitToPage=Boolean(D)}set showBorders(D){this._showBorders=Boolean(D)}static getLinkTarget(D){switch(D){case"blank":return u.LinkTarget.BLANK;case"none":return u.LinkTarget.NONE;case"self":return u.LinkTarget.SELF;case"parent":return u.LinkTarget.PARENT;case"top":return u.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const D=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=D?!1===this.isVisible&&null!=D&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(D){if(!Y()&&this.isVisible)if("src"in D)this.loadPDF();else if(this._pdf){if("renderText"in D?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:$.DISABLED,this.resetPdfDocument()):"showAll"in D&&(this.setupViewer(),this.resetPdfDocument()),"page"in D){const{page:q}=D;if(q.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,v.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(c(this.destroy$)).subscribe({next:D=>{const q=this._rotation||D.rotate,te=D.getViewport({scale:this._zoom,rotation:q}).width*ne.CSS_UNITS;let fe=this._zoom,se=!0;if(!this._originalSize||this._fitToPage&&te>this.pdfViewerContainer.nativeElement.clientWidth){const w=D.getViewport({scale:1,rotation:q});fe=this.getScale(w.width,w.height),se=!this._stickToPage}this.pdfViewer._setScale(fe,se)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const D=ne.getLinkTarget(this._externalLinkTarget);return D?{externalLinkTarget:D}:{}}initEventBus(){this.eventBus=function k(ne,re){const D=new ne.EventBus;return function Q(ne,re){S(ne,"documentload").pipe(c(re)).subscribe(()=>{const D=document.createEvent("CustomEvent");D.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(D)}),S(ne,"pagerendered").pipe(c(re)).subscribe(({pageNumber:D,cssTransform:q,source:te})=>{const fe=document.createEvent("CustomEvent");fe.initCustomEvent("pagerendered",!0,!0,{pageNumber:D,cssTransform:q}),te.div.dispatchEvent(fe)}),S(ne,"textlayerrendered").pipe(c(re)).subscribe(({pageNumber:D,source:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:D}),q.textLayerDiv.dispatchEvent(te)}),S(ne,"pagechanging").pipe(c(re)).subscribe(({pageNumber:D,source:q})=>{const te=document.createEvent("UIEvents");te.initEvent("pagechanging",!0,!0),te.pageNumber=D,q.container.dispatchEvent(te)}),S(ne,"pagesinit").pipe(c(re)).subscribe(({source:D})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("pagesinit",!0,!0,null),D.container.dispatchEvent(q)}),S(ne,"pagesloaded").pipe(c(re)).subscribe(({pagesCount:D,source:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("pagesloaded",!0,!0,{pagesCount:D}),q.container.dispatchEvent(te)}),S(ne,"scalechange").pipe(c(re)).subscribe(({scale:D,presetValue:q,source:te})=>{const fe=document.createEvent("UIEvents");fe.initEvent("scalechange",!0,!0),fe.scale=D,fe.presetValue=q,te.container.dispatchEvent(fe)}),S(ne,"updateviewarea").pipe(c(re)).subscribe(({location:D,source:q})=>{const te=document.createEvent("UIEvents");te.initEvent("updateviewarea",!0,!0),te.location=D,q.container.dispatchEvent(te)}),S(ne,"find").pipe(c(re)).subscribe(({source:D,type:q,query:te,phraseSearch:fe,caseSensitive:se,highlightAll:w,findPrevious:J})=>{if(D===window)return;const he=document.createEvent("CustomEvent");he.initCustomEvent("find"+q,!0,!0,{query:te,phraseSearch:fe,caseSensitive:se,highlightAll:w,findPrevious:J}),window.dispatchEvent(he)}),S(ne,"attachmentsloaded").pipe(c(re)).subscribe(({attachmentsCount:D,source:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:D}),q.container.dispatchEvent(te)}),S(ne,"sidebarviewchanged").pipe(c(re)).subscribe(({view:D,source:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("sidebarviewchanged",!0,!0,{view:D}),q.outerContainer.dispatchEvent(te)}),S(ne,"pagemode").pipe(c(re)).subscribe(({mode:D,source:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("pagemode",!0,!0,{mode:D}),q.pdfViewer.container.dispatchEvent(te)}),S(ne,"namedaction").pipe(c(re)).subscribe(({action:D,source:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("namedaction",!0,!0,{action:D}),q.pdfViewer.container.dispatchEvent(te)}),S(ne,"presentationmodechanged").pipe(c(re)).subscribe(({active:D,switchInProgress:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("presentationmodechanged",!0,!0,{active:D,switchInProgress:q}),window.dispatchEvent(te)}),S(ne,"outlineloaded").pipe(c(re)).subscribe(({outlineCount:D,source:q})=>{const te=document.createEvent("CustomEvent");te.initCustomEvent("outlineloaded",!0,!0,{outlineCount:D}),q.container.dispatchEvent(te)})}(D,re),D}(f,this.destroy$),S(this.eventBus,"pagerendered").pipe(c(this.destroy$)).subscribe(D=>{this.pageRendered.emit(D)}),S(this.eventBus,"pagesinit").pipe(c(this.destroy$)).subscribe(D=>{this.pageInitialized.emit(D)}),S(this.eventBus,"pagechanging").pipe(c(this.destroy$)).subscribe(({pageNumber:D})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=D,this.pageChange.emit(D)},100)}),S(this.eventBus,"textlayerrendered").pipe(c(this.destroy$)).subscribe(D=>{this.textLayerRendered.emit(D)})}initPDFServices(){this.pdfLinkService=new u.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new u.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:$.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){B(o,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new u.PDFViewer(this.getPDFOptions()):new u.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(D){return D<1?1:D>this._pdf.numPages?this._pdf.numPages:D}getDocumentParams(){const D=typeof this.src;if(!this._cMapsUrl)return this.src;const q={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===D?q.url=this.src:"object"===D&&(void 0!==this.src.byteLength?q.data=this.src:Object.assign(q,this.src)),q}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=s.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=q=>{this.onProgress.emit(q)};const D=this.src;(0,v.D)(this.loadingTask.promise).pipe(c(this.destroy$)).subscribe({next:q=>{this._pdf=q,this.lastLoaded=D,this.afterLoadComplete.emit(q),this.resetPdfDocument(),this.update()},error:q=>{this.lastLoaded=null,this.onError.emit(q)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(D,q){const te=this._showBorders?2*ne.BORDER_WIDTH:0,fe=this.pdfViewerContainer.nativeElement.clientWidth-te,se=this.pdfViewerContainer.nativeElement.clientHeight-te;if(0===se||0===q||0===fe||0===D)return 1;let w=1;switch(this._zoomScale){case"page-fit":w=Math.min(se/q,fe/D);break;case"page-height":w=se/q;break;default:w=fe/D}return this._zoom*w/ne.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Y()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Y()||this.ngZone.runOutsideAngular(()=>{S(window,"resize").pipe(function r(ne,re=de){return(0,d.e)((D,q)=>{let te=null,fe=null,se=null;const w=()=>{if(te){te.unsubscribe(),te=null;const he=fe;fe=null,q.next(he)}};function J(){const he=se+ne,be=re.now();if(be<he)return te=this.schedule(void 0,he-be),void q.add(te);w()}D.subscribe((0,_.x)(q,he=>{fe=he,se=re.now(),te||(te=re.schedule(J,ne),q.add(te))},()=>{w(),q.complete()},void 0,()=>{fe=te=null}))})}(100),(0,e.h)(()=>this._canAutoResize&&!!this._pdf),c(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return ne.CSS_UNITS=96/72,ne.BORDER_WIDTH=9,ne.\u0275fac=function(D){return new(D||ne)(C.Y36(C.SBq),C.Y36(C.R0b))},ne.\u0275cmp=C.Xpm({type:ne,selectors:[["pdf-viewer"]],viewQuery:function(D,q){if(1&D&&C.Gf(l,5),2&D){let te;C.iGM(te=C.CRH())&&(q.pdfViewerContainer=te.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[C.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(D,q){1&D&&(C.TgZ(0,"div",0,1),C._UZ(2,"div",2),C.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),ne})(),ae=(()=>{class ne{}return ne.\u0275fac=function(D){return new(D||ne)},ne.\u0275mod=C.oAB({type:ne}),ne.\u0275inj=C.cJS({}),ne})();const Ae=[{path:"",component:(()=>{class ne{constructor(){this.pdfSrc="../../assets/Ashis's+Resume.pdf"}}return ne.\u0275fac=function(D){return new(D||ne)},ne.\u0275cmp=C.Xpm({type:ne,selectors:[["app-resume"]],decls:11,vars:2,consts:[[1,"button"],["href","../../assets/Ashis's+Resume.pdf","download",""],[1,"bi","bi-download"],["id","outerContainer","data-aos","zoom-out-left"],[1,"pdf-container"],[2,"width","50%","height","1100px",3,"src","original-size"]],template:function(D,q){1&D&&(C._UZ(0,"app-particle")(1,"app-header"),C.TgZ(2,"div",0)(3,"a",1)(4,"button"),C._uU(5,"Downlod CV"),C._UZ(6,"i",2),C.qZA()()(),C.TgZ(7,"div",3)(8,"div",4),C._UZ(9,"pdf-viewer",5),C.qZA()(),C._UZ(10,"app-footer")),2&D&&(C.xp6(9),C.Q6J("src",q.pdfSrc)("original-size",!1))},dependencies:[H.G,T.A,E.c,ie],styles:[".pdf-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}pdf-viewer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;filter:drop-shadow(5px 5px 5px #222222);padding-top:100px}textarea[_ngcontent-%COMP%]{margin-top:15px;display:block;margin-left:auto;margin-right:auto;width:100%}.button[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex;height:7rem;padding-top:100px}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:2rem;color:#fff;border-radius:9px;background:#70097e;font-family:Poppins}@media screen and (max-width: 400px){pdf-viewer[_ngcontent-%COMP%]{width:70%;height:100vw}}"]}),ne})()}];let ve=(()=>{class ne{}return ne.\u0275fac=function(D){return new(D||ne)},ne.\u0275mod=C.oAB({type:ne}),ne.\u0275inj=C.cJS({imports:[F.Bz.forChild(Ae),F.Bz]}),ne})();var ye=P(5051);let ue=(()=>{class ne{}return ne.\u0275fac=function(D){return new(D||ne)},ne.\u0275mod=C.oAB({type:ne}),ne.\u0275inj=C.cJS({imports:[i.ez,ve,ye.D,ae]}),ne})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,P;P=()=>(()=>{"use strict";var __webpack_modules__=[,(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=B,a.arraysToBytes=function Y(X){const O=X.length;if(1===O&&X[0]instanceof Uint8Array)return X[0];let U=0;for(let Te=0;Te<O;Te++)U+=B(X[Te]);let le=0;const Se=new Uint8Array(U);for(let Te=0;Te<O;Te++){let ce=X[Te];ce instanceof Uint8Array||(ce="string"==typeof ce?Q(ce):new Uint8Array(ce));const pe=ce.byteLength;Se.set(ce,le),le+=pe}return Se},a.assert=function ee(X,O){X||Z(O)},a.bytesToString=function k(X){("object"!=typeof X||null===X||void 0===X.length)&&Z("Invalid argument for bytesToString");const O=X.length,U=8192;if(O<U)return String.fromCharCode.apply(null,X);const le=[];for(let Se=0;Se<O;Se+=U){const Te=Math.min(Se+U,O),ce=X.subarray(Se,Te);le.push(String.fromCharCode.apply(null,ce))}return le.join("")},a.createPromiseCapability=function be(){const X=Object.create(null);let O=!1;return Object.defineProperty(X,"settled",{get:()=>O}),X.promise=new Promise(function(U,le){X.resolve=function(Se){O=!0,U(Se)},X.reject=function(Se){O=!0,le(Se)}}),X},a.createValidAbsoluteUrl=function ge(X,O=null,U=null){if(!X)return null;try{if(U&&"string"==typeof X){if(U.addDefaultProtocol&&X.startsWith("www.")){const Se=X.match(/\./g);Se&&Se.length>=2&&(X=`http://${X}`)}if(U.tryConvertEncoding)try{X=fe(X)}catch{}}const le=O?new URL(X,O):new URL(X);if(function oe(X){if(!X)return!1;switch(X.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(le))return le}catch{}return null},a.escapeString=function D(X){return X.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},a.getModificationDate=function he(X=new Date){return[X.getUTCFullYear().toString(),(X.getUTCMonth()+1).toString().padStart(2,"0"),X.getUTCDate().toString().padStart(2,"0"),X.getUTCHours().toString().padStart(2,"0"),X.getUTCMinutes().toString().padStart(2,"0"),X.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function M(){return c},a.info=function V(X){c>=h.INFOS&&console.log(`Info: ${X}`)},a.isArrayBuffer=function w(X){return"object"==typeof X&&null!==X&&void 0!==X.byteLength},a.isArrayEqual=function J(X,O){if(X.length!==O.length)return!1;for(let U=0,le=X.length;U<le;U++)if(X[U]!==O[U])return!1;return!0},a.isAscii=function q(X){return/^[\x00-\x7F]*$/.test(X)},a.objectFromMap=function ae(X){const O=Object.create(null);for(const[U,le]of X)O[U]=le;return O},a.objectSize=function ie(X){return Object.keys(X).length},a.setVerbosityLevel=function L(X){Number.isInteger(X)&&(c=X)},a.shadow=de,a.string32=function $(X){return String.fromCharCode(X>>24&255,X>>16&255,X>>8&255,255&X)},a.stringToBytes=Q,a.stringToPDFString=function re(X){if(X[0]>="\xef"){let U;if("\xfe"===X[0]&&"\xff"===X[1]?U="utf-16be":"\xff"===X[0]&&"\xfe"===X[1]?U="utf-16le":"\xef"===X[0]&&"\xbb"===X[1]&&"\xbf"===X[2]&&(U="utf-8"),U)try{const le=new TextDecoder(U,{fatal:!0}),Se=Q(X);return le.decode(Se)}catch(le){K(`stringToPDFString: "${le}".`)}}const O=[];for(let U=0,le=X.length;U<le;U++){const Se=ne[X.charCodeAt(U)];O.push(Se?String.fromCharCode(Se):X.charAt(U))}return O.join("")},a.stringToUTF16BEString=function te(X){const O=["\xfe\xff"];for(let U=0,le=X.length;U<le;U++){const Se=X.charCodeAt(U);O.push(String.fromCharCode(Se>>8&255),String.fromCharCode(255&Se))}return O.join("")},a.stringToUTF8String=fe,a.unreachable=Z,a.utf8StringToString=function se(X){return unescape(encodeURIComponent(X))},a.warn=K,P(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const h={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=h,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let c=h.WARNINGS;function K(X){c>=h.WARNINGS&&console.log(`Warning: ${X}`)}function Z(X){throw new Error(X)}function de(X,O,U){return Object.defineProperty(X,O,{value:U,enumerable:!0,configurable:!0,writable:!1}),U}const R=function(){function O(U,le){this.constructor===O&&Z("Cannot initialize BaseException."),this.message=U,this.name=le}return O.prototype=new Error,O.constructor=O,O}();function Q(X){"string"!=typeof X&&Z("Invalid argument for stringToBytes");const O=X.length,U=new Uint8Array(O);for(let le=0;le<O;++le)U[le]=255&X.charCodeAt(le);return U}function B(X){return void 0!==X.length?X.length:void 0!==X.byteLength?X.byteLength:void Z("Invalid argument for arrayByteLength")}a.BaseException=R,a.PasswordException=class r extends R{constructor(O,U){super(O,"PasswordException"),this.code=U}},a.UnknownErrorException=class e extends R{constructor(O,U){super(O,"UnknownErrorException"),this.details=U}},a.InvalidPDFException=class s extends R{constructor(O){super(O,"InvalidPDFException")}},a.MissingPDFException=class o extends R{constructor(O){super(O,"MissingPDFException")}},a.UnexpectedResponseException=class u extends R{constructor(O,U){super(O,"UnexpectedResponseException"),this.status=U}},a.FormatError=class f extends R{constructor(O){super(O,"FormatError")}},a.AbortException=class l extends R{constructor(O){super(O,"AbortException")}},a.FeatureTest=class ve{static get isLittleEndian(){return de(this,"isLittleEndian",function _e(){const X=new Uint8Array(4);return X[0]=1,1===new Uint32Array(X.buffer,0,1)[0]}())}static get isEvalSupported(){return de(this,"isEvalSupported",function Ae(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const ye=[...Array(256).keys()].map(X=>X.toString(16).padStart(2,"0"));class ue{static makeHexColor(O,U,le){return`#${ye[O]}${ye[U]}${ye[le]}`}static scaleMinMax(O,U){let le;O[0]?(O[0]<0&&(le=U[0],U[0]=U[1],U[1]=le),U[0]*=O[0],U[1]*=O[0],O[3]<0&&(le=U[2],U[2]=U[3],U[3]=le),U[2]*=O[3],U[3]*=O[3]):(le=U[0],U[0]=U[2],U[2]=le,le=U[1],U[1]=U[3],U[3]=le,O[1]<0&&(le=U[2],U[2]=U[3],U[3]=le),U[2]*=O[1],U[3]*=O[1],O[2]<0&&(le=U[0],U[0]=U[1],U[1]=le),U[0]*=O[2],U[1]*=O[2]),U[0]+=O[4],U[1]+=O[4],U[2]+=O[5],U[3]+=O[5]}static transform(O,U){return[O[0]*U[0]+O[2]*U[1],O[1]*U[0]+O[3]*U[1],O[0]*U[2]+O[2]*U[3],O[1]*U[2]+O[3]*U[3],O[0]*U[4]+O[2]*U[5]+O[4],O[1]*U[4]+O[3]*U[5]+O[5]]}static applyTransform(O,U){return[O[0]*U[0]+O[1]*U[2]+U[4],O[0]*U[1]+O[1]*U[3]+U[5]]}static applyInverseTransform(O,U){const le=U[0]*U[3]-U[1]*U[2];return[(O[0]*U[3]-O[1]*U[2]+U[2]*U[5]-U[4]*U[3])/le,(-O[0]*U[1]+O[1]*U[0]+U[4]*U[1]-U[5]*U[0])/le]}static getAxialAlignedBoundingBox(O,U){const le=ue.applyTransform(O,U),Se=ue.applyTransform(O.slice(2,4),U),Te=ue.applyTransform([O[0],O[3]],U),ce=ue.applyTransform([O[2],O[1]],U);return[Math.min(le[0],Se[0],Te[0],ce[0]),Math.min(le[1],Se[1],Te[1],ce[1]),Math.max(le[0],Se[0],Te[0],ce[0]),Math.max(le[1],Se[1],Te[1],ce[1])]}static inverseTransform(O){const U=O[0]*O[3]-O[1]*O[2];return[O[3]/U,-O[1]/U,-O[2]/U,O[0]/U,(O[2]*O[5]-O[4]*O[3])/U,(O[4]*O[1]-O[5]*O[0])/U]}static apply3dTransform(O,U){return[O[0]*U[0]+O[1]*U[1]+O[2]*U[2],O[3]*U[0]+O[4]*U[1]+O[5]*U[2],O[6]*U[0]+O[7]*U[1]+O[8]*U[2]]}static singularValueDecompose2dScale(O){const U=[O[0],O[2],O[1],O[3]],le=O[0]*U[0]+O[1]*U[2],ce=O[2]*U[1]+O[3]*U[3],pe=(le+ce)/2,Ce=Math.sqrt((le+ce)**2-4*(le*ce-(O[2]*U[0]+O[3]*U[2])*(O[0]*U[1]+O[1]*U[3])))/2,me=pe-Ce||1;return[Math.sqrt(pe+Ce||1),Math.sqrt(me)]}static normalizeRect(O){const U=O.slice(0);return O[0]>O[2]&&(U[0]=O[2],U[2]=O[0]),O[1]>O[3]&&(U[1]=O[3],U[3]=O[1]),U}static intersect(O,U){const le=Math.max(Math.min(O[0],O[2]),Math.min(U[0],U[2])),Se=Math.min(Math.max(O[0],O[2]),Math.max(U[0],U[2]));if(le>Se)return null;const Te=Math.max(Math.min(O[1],O[3]),Math.min(U[1],U[3])),ce=Math.min(Math.max(O[1],O[3]),Math.max(U[1],U[3]));return Te>ce?null:[le,Te,Se,ce]}static bezierBoundingBox(O,U,le,Se,Te,ce,pe,Ce){const we=[],me=[[],[]];let xe,Pe,Ee,Me,ke,Le,Ne,Re;for(let De=0;De<2;++De)if(0===De?(Pe=6*O-12*le+6*Te,xe=-3*O+9*le-9*Te+3*pe,Ee=3*le-3*O):(Pe=6*U-12*Se+6*ce,xe=-3*U+9*Se-9*ce+3*Ce,Ee=3*Se-3*U),Math.abs(xe)<1e-12){if(Math.abs(Pe)<1e-12)continue;Me=-Ee/Pe,0<Me&&Me<1&&we.push(Me)}else Ne=Pe*Pe-4*Ee*xe,Re=Math.sqrt(Ne),!(Ne<0)&&(ke=(-Pe+Re)/(2*xe),0<ke&&ke<1&&we.push(ke),Le=(-Pe-Re)/(2*xe),0<Le&&Le<1&&we.push(Le));let Fe,Ie=we.length;const Oe=Ie;for(;Ie--;)Me=we[Ie],Fe=1-Me,me[0][Ie]=Fe*Fe*Fe*O+3*Fe*Fe*Me*le+3*Fe*Me*Me*Te+Me*Me*Me*pe,me[1][Ie]=Fe*Fe*Fe*U+3*Fe*Fe*Me*Se+3*Fe*Me*Me*ce+Me*Me*Me*Ce;return me[0][Oe]=O,me[1][Oe]=U,me[0][Oe+1]=pe,me[1][Oe+1]=Ce,me[0].length=me[1].length=Oe+2,[Math.min(...me[0]),Math.min(...me[1]),Math.max(...me[0]),Math.max(...me[1])]}}a.Util=ue;const ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function fe(X){return decodeURIComponent(escape(X))}},(G,a,P)=>{P(3)},(G,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const P=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=P},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:G,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:P}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=G,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=P}function setPDFNetworkStreamFactory(G){createPDFNetworkStream=G}function getDocument(G){const a=new PDFDocumentLoadingTask;let P;if("string"==typeof G||G instanceof URL)P={url:G};else if((0,_util.isArrayBuffer)(G))P={data:G};else if(G instanceof PDFDataRangeTransport)P={range:G};else{if("object"!=typeof G)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!G.url&&!G.data&&!G.range)throw new Error("Invalid parameter object: need either .data, .range or .url");P=G}const i=Object.create(null);let F=null,C=null;for(const T in P){const E=P[T];switch(T){case"url":if(typeof window<"u")try{i[T]=new URL(E,window.location).href;continue}catch(A){(0,_util.warn)(`Cannot create valid URL: "${A}".`)}else if("string"==typeof E||E instanceof URL){i[T]=E.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":F=E;continue;case"worker":C=E;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&E instanceof Buffer)i[T]=new Uint8Array(E);else{if(E instanceof Uint8Array)break;if("string"==typeof E)i[T]=(0,_util.stringToBytes)(E);else if("object"!=typeof E||null===E||isNaN(E.length)){if(!(0,_util.isArrayBuffer)(E))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[T]=new Uint8Array(E)}else i[T]=new Uint8Array(E)}continue}i[T]=E}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!C){const T={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};C=T.port?_PDFWorker.fromPort(T):new _PDFWorker(T),a._worker=C}const H=a.docId;return C.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const T=_fetchDocument(C,i,F,H),E=new Promise(function(A){let N;F?N=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},F):i.data||(N=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),A(N)});return Promise.all([T,E]).then(function([A,N]){if(a.destroyed)throw new Error("Loading aborted");const j=new _message_handler.MessageHandler(H,A,C.port),z=new WorkerTransport(j,a,N,i);a._transport=z,j.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(G,a,P,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(G,a,P,i){if(G.destroyed)throw new Error("Worker was destroyed");P&&(a.length=P.length,a.initialData=P.initialData,a.progressiveDone=P.progressiveDone,a.contentDispositionFilename=P.contentDispositionFilename);const F=yield G.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(G.destroyed)throw new Error("Worker was destroyed");return F})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var a,P;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(a=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),P=a++,a)),P}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,P,i=!1,F=null){this.length=a,this.initialData=P,this.progressiveDone=i,this.contentDispositionFilename=F,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,P){for(const i of this._rangeListeners)i(a,P)}onDataProgress(a,P){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,P)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const P of this._progressiveReadListeners)P(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,P){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,P){var F,i=this;this._pdfInfo=a,this._transport=P,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(F=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return F.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,P,i,F,C=!1){this._pageIndex=a,this._pageInfo=P,this._ownerDocument=F,this._transport=i,this._stats=C?new _display_utils.StatTimer:null,this._pdfBug=C,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:P=this.rotate,offsetX:i=0,offsetY:F=0,dontFlip:C=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:P,offsetX:i,offsetY:F,dontFlip:C})}getAnnotations({intent:a="display"}={}){const P=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(P.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,P.renderingIntent),this._annotationPromises.set(P.cacheKey,i),i=i.then(F=>{for(const C of F)void 0!==C.titleObj&&Object.defineProperty(C,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),C.titleObj.str)}),void 0!==C.contentsObj&&Object.defineProperty(C,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),C.contentsObj.str)});return F})),i}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:P,intent:i="display",annotationMode:F=_util.AnnotationMode.ENABLE,transform:C=null,imageLayer:H=null,canvasFactory:T=null,background:E=null,optionalContentConfigPromise:A=null,annotationCanvasMap:N=null,pageColors:j=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&F===_util.AnnotationMode.ENABLE&&(F=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&F===_util.AnnotationMode.ENABLE&&(F=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const z=this._transport.getRenderingIntent(i,F);this.pendingCleanup=!1,A||(A=this._transport.getOptionalContentConfig());let I=this._intentStates.get(z.cacheKey);I||(I=Object.create(null),this._intentStates.set(z.cacheKey,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const W=T||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=!!(z.renderingIntent&_util.RenderingIntentFlag.PRINT);I.displayReadyCapability||(I.displayReadyCapability=(0,_util.createPromiseCapability)(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(z));const x=b=>{I.renderTasks.delete(m),(this.cleanupAfterRender||g)&&(this.pendingCleanup=!0),this._tryCleanup(),b?(m.capability.reject(b),this._abortOperatorList({intentState:I,reason:b instanceof Error?b:new Error(b)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:x,params:{canvasContext:a,viewport:P,transform:C,imageLayer:H,background:E},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:N,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:W,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:j});(I.renderTasks||=new Set).add(m);const S=m.task;return Promise.all([I.displayReadyCapability.promise,A]).then(([b,y])=>{this.pendingCleanup?x():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:b,optionalContentConfig:y}),m.operatorListChanged())}).catch(x),S}getOperatorList({intent:a="display",annotationMode:P=_util.AnnotationMode.ENABLE}={}){const F=this._transport.getRenderingIntent(a,P,!0);let H,C=this._intentStates.get(F.cacheKey);return C||(C=Object.create(null),this._intentStates.set(F.cacheKey,C)),C.opListReadCapability||(H=Object.create(null),H.operatorListChanged=function i(){C.operatorList.lastChunk&&(C.opListReadCapability.resolve(C.operatorList),C.renderTasks.delete(H))},C.opListReadCapability=(0,_util.createPromiseCapability)(),(C.renderTasks||=new Set).add(H),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(F)),C.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:P=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===P},{highWaterMark:100,size:F=>F.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const P=this.streamTextContent(a);return new Promise(function(i,F){const H=P.getReader(),T={items:[],styles:Object.create(null)};!function C(){H.read().then(function({value:E,done:A}){A?i(T):(Object.assign(T.styles,E.styles),T.items.push(...E.items),C())},F)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const P of this._intentStates.values())if(this._abortOperatorList({intentState:P,reason:new Error("Page was destroyed."),force:!0}),!P.opListReadCapability)for(const i of P.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const P of this._bitmaps)P.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:P,operatorList:i}of this._intentStates.values())if(P.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const P of this._bitmaps)P.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,P){const i=this._intentStates.get(P);i&&(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,P){for(let i=0,F=a.length;i<F;i++)P.operatorList.fnArray.push(a.fnArray[i]),P.operatorList.argsArray.push(a.argsArray[i]);P.operatorList.lastChunk=a.lastChunk;for(const i of P.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:P}){const F=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:P,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),C=this._intentStates.get(P);C.streamReader=F;const H=()=>{F.read().then(({value:T,done:E})=>{E?C.streamReader=null:this._transport.destroyed||(this._renderPageChunk(T,C),H())},T=>{if(C.streamReader=null,!this._transport.destroyed){if(C.operatorList){C.operatorList.lastChunk=!0;for(const E of C.renderTasks)E.operatorListChanged();this._tryCleanup()}if(C.displayReadyCapability)C.displayReadyCapability.reject(T);else{if(!C.opListReadCapability)throw T;C.opListReadCapability.reject(T)}}})};H()}_abortOperatorList({intentState:a,reason:P,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(P instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:P,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(P.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[F,C]of this._intentStates)if(C===a){this._intentStates.delete(F);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,P){const i={data:structuredClone(a,P)};this._deferred.then(()=>{for(const F of this._listeners)F.call(this,i)})}addEventListener(a,P){this._listeners.push(P)}removeEventListener(a,P){const i=this._listeners.indexOf(P);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const G=document?.currentScript?.src;G&&(PDFWorkerUtil.fallbackWorkerSrc=G.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(G,a){let P;try{if(P=new URL(G),!P.origin||"null"===P.origin)return!1}catch{return!1}const i=new URL(a,P);return P.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(G){return URL.createObjectURL(new Blob([`importScripts("${G}");`]))};class _PDFWorker{constructor({name:G=null,port:a=null,verbosity:P=(0,_util.getVerbosityLevel)()}={}){if(a&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=G,this.destroyed=!1,this.verbosity=P,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(G){this._port=G,this._messageHandler=new _message_handler.MessageHandler("main","worker",G),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let G=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,G)||(G=PDFWorkerUtil.createCDNWrapper(new URL(G,window.location).href));const a=new Worker(G),P=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",F),P.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},F=()=>{this._webWorker||i()};a.addEventListener("error",F),P.on("test",H=>{a.removeEventListener("error",F),this.destroyed?i():H?(this._messageHandler=P,this._port=a,this._webWorker=a,this._readyCapability.resolve(),P.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),P.destroy(),a.terminate())}),P.on("ready",H=>{if(a.removeEventListener("error",F),this.destroyed)i();else try{C()}catch{this._setupFakeWorker()}});const C=()=>{const H=new Uint8Array;P.send("test",H,[H.buffer])};return void C()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(G=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const P="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(P+"_worker",P,a);G.setup(i,a);const F=new _message_handler.MessageHandler(P,P+"_worker",a);this._messageHandler=F,this._readyCapability.resolve(),F.send("configure",{verbosity:this.verbosity})}).catch(G=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${G.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(G){if(!G?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(G.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(G.port):new _PDFWorker(G)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function G(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,P,i,F){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=P,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:P.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:F.ownerDocument,styleElement:F.styleElement}),this._params=F,F.useWorkerFetch||(this.CMapReaderFactory=new F.CMapReaderFactory({baseUrl:F.cMapUrl,isCompressed:F.cMapPacked}),this.StandardFontDataFactory=new F.StandardFontDataFactory({baseUrl:F.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,P=_util.AnnotationMode.ENABLE,i=!1){let F=_util.RenderingIntentFlag.DISPLAY,C="";switch(a){case"any":F=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":F=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(P){case _util.AnnotationMode.DISABLE:F+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:F+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:F+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,C=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${P}`)}return i&&(F+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:F,cacheKey:`${F}_${C}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())a.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const P=this.messageHandler.sendWithPromise("Terminate",null);return a.push(P),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:P}=this;a.on("GetReader",(i,F)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=C=>{this._lastProgress={loaded:C.loaded,total:C.total}},F.onPull=()=>{this._fullReader.read().then(function({value:C,done:H}){H?F.close():((0,_util.assert)((0,_util.isArrayBuffer)(C),"GetReader - expected an ArrayBuffer."),F.enqueue(new Uint8Array(C),1,[C]))}).catch(C=>{F.error(C)})},F.onCancel=C=>{this._fullReader.cancel(C),F.ready.catch(H=>{if(!this.destroyed)throw H})}}),a.on("ReaderHeadersReady",i=>{const F=(0,_util.createPromiseCapability)(),C=this._fullReader;return C.headersReady.then(()=>{(!C.isStreamingSupported||!C.isRangeSupported)&&(this._lastProgress&&P.onProgress?.(this._lastProgress),C.onProgress=H=>{P.onProgress?.({loaded:H.loaded,total:H.total})}),F.resolve({isStreamingSupported:C.isStreamingSupported,isRangeSupported:C.isRangeSupported,contentLength:C.contentLength})},F.reject),F.promise}),a.on("GetRangeReader",(i,F)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const C=this._networkStream.getRangeReader(i.begin,i.end);C?(F.onPull=()=>{C.read().then(function({value:H,done:T}){T?F.close():((0,_util.assert)((0,_util.isArrayBuffer)(H),"GetRangeReader - expected an ArrayBuffer."),F.enqueue(new Uint8Array(H),1,[H]))}).catch(H=>{F.error(H)})},F.onCancel=H=>{C.cancel(H),F.ready.catch(T=>{if(!this.destroyed)throw T})}):F.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,P._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let F;switch(i.name){case"PasswordException":F=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":F=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":F=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":F=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":F=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}P._capability.reject(F)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),P.onPassword){const F=C=>{C instanceof Error?this._passwordCapability.reject(C):this._passwordCapability.resolve({password:C})};try{P.onPassword(F,i.code)}catch(C){this._passwordCapability.reject(C)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{P.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,F,C])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(F){case"Font":const H=this._params;if("error"in C){const A=C.error;(0,_util.warn)(`Error during font loading: ${A}`),this.commonObjs.resolve(i,A);break}let T=null;H.pdfBug&&globalThis.FontInspector?.enabled&&(T={registerFont(A,N){globalThis.FontInspector.fontAdded(A,N)}});const E=new _font_loader.FontFaceObject(C,{isEvalSupported:H.isEvalSupported,disableFontFace:H.disableFontFace,ignoreErrors:H.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:T});this.fontLoader.bind(E).catch(A=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!H.fontExtraProperties&&E.data&&(E.data=null),this.commonObjs.resolve(i,E)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,C);break;default:throw new Error(`Got unknown common object type ${F}`)}}),a.on("obj",([i,F,C,H])=>{if(this.destroyed)return;const T=_classPrivateFieldGet(this,_pageCache).get(F);if(!T.objs.has(i))switch(C){case"Image":T.objs.resolve(i,H);const E=8e6;if(H){let A;if(H.bitmap){const{bitmap:N,width:j,height:z}=H;A=j*z*4,T._bitmaps.add(N)}else A=H.data?.length||0;A>E&&(T.cleanupAfterRender=!0)}break;case"Pattern":T.objs.resolve(i,H);break;default:throw new Error(`Got unknown object type ${C}`)}}),a.on("DocProgress",i=>{this.destroyed||P.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const P=a-1,i=_classPrivateFieldGet(this,_pagePromises).get(P);if(i)return i;const F=this.messageHandler.sendWithPromise("GetPage",{pageIndex:P}).then(C=>{if(this.destroyed)throw new Error("Transport destroyed");const H=new PDFPageProxy(P,C,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(P,H),H});return _classPrivateFieldGet(this,_pagePromises).set(P,F),F}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,P){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:P})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var P=this;return _asyncToGenerator(function*(){if(yield P.messageHandler.sendWithPromise("Cleanup",null),!P.destroyed){for(const i of _classPrivateFieldGet(P,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);P.commonObjs.clear(),a||P.fontLoader.clear(),_classPrivateFieldSet(P,_metadataPromise,null),P._getFieldObjectsPromise=null,P._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,P=null){if(P){const F=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return F.capability.promise.then(()=>P(F.data)),null}const i=_classPrivateFieldGet(this,_objs)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,P=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);i.data=P,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(G){return _classPrivateFieldGet(this,_objs)[G]||(_classPrivateFieldGet(this,_objs)[G]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:a,params:P,objs:i,commonObjs:F,annotationCanvasMap:C,operatorList:H,pageIndex:T,canvasFactory:E,useRequestAnimationFrame:A=!1,pdfBug:N=!1,pageColors:j=null}){this.callback=a,this.params=P,this.objs=i,this.commonObjs=F,this.annotationCanvasMap=C,this.operatorListIdx=null,this.operatorList=H,this._pageIndex=T,this.canvasFactory=E,this._pdfBug=N,this.pageColors=j,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===A&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=P.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:P}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:F,transform:C,imageLayer:H,background:T}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,H,P,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:C,viewport:F,transparency:a,background:T}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(a._canvas),a.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function n(_){console.log("Deprecated API usage: "+_)},a.getFilenameFromUrl=function m(_){const p=_.indexOf("#"),c=_.indexOf("?"),L=Math.min(p>0?p:_.length,c>0?c:_.length);return _.substring(_.lastIndexOf("/",L)+1,L)},a.getPdfFilenameFromUrl=function S(_,p="document.pdf"){if("string"!=typeof _)return p;if(g(_))return(0,F.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),p;const L=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,M=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(_);let V=L.exec(M[1])||L.exec(M[2])||L.exec(M[3]);if(V&&(V=V[0],V.includes("%")))try{V=L.exec(decodeURIComponent(V))[0]}catch{}return V||p},a.getXfaPageViewport=function d(_,{scale:p=1,rotation:c=0}){const{width:L,height:M}=_.attributes.style,V=[0,0,parseInt(L),parseInt(M)];return new I({viewBox:V,scale:p,rotation:c})},a.isDataScheme=g,a.isPdfFile=function x(_){return"string"==typeof _&&/\.pdf$/i.test(_)},a.isValidFetchUrl=y,a.loadScript=function t(_,p=!1){return new Promise((c,L)=>{const M=document.createElement("script");M.src=_,M.onload=function(V){p&&M.remove(),c(V)},M.onerror=function(){L(new Error(`Cannot load script at: ${M.src}`))},(document.head||document.documentElement).appendChild(M)})};var i=P(6),F=P(1);class H{}function E(_){return A.apply(this,arguments)}function A(){return(A=_asyncToGenerator(function*(_,p=!1){if(y(_,document.baseURI)){const c=yield fetch(_);if(!c.ok)throw new Error(c.statusText);return p?new Uint8Array(yield c.arrayBuffer()):(0,F.stringToBytes)(yield c.text())}return new Promise((c,L)=>{const M=new XMLHttpRequest;M.open("GET",_,!0),p&&(M.responseType="arraybuffer"),M.onreadystatechange=()=>{if(M.readyState===XMLHttpRequest.DONE){if(200===M.status||0===M.status){let V;if(p&&M.response?V=new Uint8Array(M.response):!p&&M.responseText&&(V=(0,F.stringToBytes)(M.responseText)),V)return void c(V)}L(new Error(M.statusText))}},M.send(null)})})).apply(this,arguments)}_defineProperty(H,"CSS",96),_defineProperty(H,"PDF",72),_defineProperty(H,"PDF_TO_CSS_UNITS",H.CSS/H.PDF),a.PixelsPerInch=H,a.DOMCanvasFactory=class T extends i.BaseCanvasFactory{constructor({ownerDocument:p=globalThis.document}={}){super(),this._document=p}_createCanvas(p,c){const L=this._document.createElement("canvas");return L.width=p,L.height=c,L}},a.DOMCMapReaderFactory=class N extends i.BaseCMapReaderFactory{_fetchData(p,c){return E(p,this.isCompressed).then(L=>({cMapData:L,compressionType:c}))}},a.DOMStandardFontDataFactory=class j extends i.BaseStandardFontDataFactory{_fetchData(p){return E(p,!0)}},a.DOMSVGFactory=class z extends i.BaseSVGFactory{_createSVG(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}};class I{constructor({viewBox:p,scale:c,rotation:L,offsetX:M=0,offsetY:V=0,dontFlip:K=!1}){this.viewBox=p,this.scale=c,this.rotation=L,this.offsetX=M,this.offsetY=V;const Z=(p[2]+p[0])/2,ee=(p[3]+p[1])/2;let oe,ge,de,R,r,e,s,o;switch((L%=360)<0&&(L+=360),L){case 180:oe=-1,ge=0,de=0,R=1;break;case 90:oe=0,ge=1,de=1,R=0;break;case 270:oe=0,ge=-1,de=-1,R=0;break;case 0:oe=1,ge=0,de=0,R=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}K&&(de=-de,R=-R),0===oe?(r=Math.abs(ee-p[1])*c+M,e=Math.abs(Z-p[0])*c+V,s=Math.abs(p[3]-p[1])*c,o=Math.abs(p[2]-p[0])*c):(r=Math.abs(Z-p[0])*c+M,e=Math.abs(ee-p[1])*c+V,s=Math.abs(p[2]-p[0])*c,o=Math.abs(p[3]-p[1])*c),this.transform=[oe*c,ge*c,de*c,R*c,r-oe*c*Z-de*c*ee,e-ge*c*Z-R*c*ee],this.width=s,this.height=o}clone({scale:p=this.scale,rotation:c=this.rotation,offsetX:L=this.offsetX,offsetY:M=this.offsetY,dontFlip:V=!1}={}){return new I({viewBox:this.viewBox.slice(),scale:p,rotation:c,offsetX:L,offsetY:M,dontFlip:V})}convertToViewportPoint(p,c){return F.Util.applyTransform([p,c],this.transform)}convertToViewportRectangle(p){const c=F.Util.applyTransform([p[0],p[1]],this.transform),L=F.Util.applyTransform([p[2],p[3]],this.transform);return[c[0],c[1],L[0],L[1]]}convertToPdfPoint(p,c){return F.Util.applyInverseTransform([p,c],this.transform)}}function g(_){const p=_.length;let c=0;for(;c<p&&""===_[c].trim();)c++;return"data:"===_.substring(c,c+5).toLowerCase()}function y(_,p){try{const{protocol:c}=p?new URL(_,p):new URL(_);return"http:"===c||"https:"===c}catch{return!1}}let h;a.PageViewport=I,a.RenderingCancelledException=class W extends F.BaseException{constructor(p,c){super(p,"RenderingCancelledException"),this.type=c}},a.StatTimer=class b{constructor(){this.started=Object.create(null),this.times=[]}time(p){p in this.started&&(0,F.warn)(`Timer is already running for ${p}`),this.started[p]=Date.now()}timeEnd(p){p in this.started||(0,F.warn)(`Timer has not been started for ${p}`),this.times.push({name:p,start:this.started[p],end:Date.now()}),delete this.started[p]}toString(){const p=[];let c=0;for(const L of this.times){const M=L.name;M.length>c&&(c=M.length)}for(const L of this.times){const M=L.end-L.start;p.push(`${L.name.padEnd(c)} ${M}ms\n`)}return p.join("")}},a.PDFDateString=class v{static toDateObject(p){if(!p||"string"!=typeof p)return null;h||(h=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const c=h.exec(p);if(!c)return null;const L=parseInt(c[1],10);let M=parseInt(c[2],10);M=M>=1&&M<=12?M-1:0;let V=parseInt(c[3],10);V=V>=1&&V<=31?V:1;let K=parseInt(c[4],10);K=K>=0&&K<=23?K:0;let Z=parseInt(c[5],10);Z=Z>=0&&Z<=59?Z:0;let ee=parseInt(c[6],10);ee=ee>=0&&ee<=59?ee:0;const oe=c[7]||"Z";let ge=parseInt(c[8],10);ge=ge>=0&&ge<=23?ge:0;let de=parseInt(c[9],10)||0;return de=de>=0&&de<=59?de:0,"-"===oe?(K+=ge,Z+=de):"+"===oe&&(K-=ge,Z-=de),new Date(Date.UTC(L,M,V,K,Z,ee))}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var i=P(1);class F{constructor(){this.constructor===F&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(A,N){if(A<=0||N<=0)throw new Error("Invalid canvas size");const j=this._createCanvas(A,N);return{canvas:j,context:j.getContext("2d")}}reset(A,N,j){if(!A.canvas)throw new Error("Canvas is not specified");if(N<=0||j<=0)throw new Error("Invalid canvas size");A.canvas.width=N,A.canvas.height=j}destroy(A){if(!A.canvas)throw new Error("Canvas is not specified");A.canvas.width=0,A.canvas.height=0,A.canvas=null,A.context=null}_createCanvas(A,N){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=F;class C{constructor({baseUrl:A=null,isCompressed:N=!1}){this.constructor===C&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=A,this.isCompressed=N}fetch({name:A}){var N=this;return _asyncToGenerator(function*(){if(!N.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!A)throw new Error("CMap name must be specified.");const j=N.baseUrl+A+(N.isCompressed?".bcmap":"");return N._fetchData(j,N.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(I=>{throw new Error(`Unable to load ${N.isCompressed?"binary ":""}CMap at: ${j}`)})})()}_fetchData(A,N){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=C;class H{constructor({baseUrl:A=null}){this.constructor===H&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=A}fetch({filename:A}){var N=this;return _asyncToGenerator(function*(){if(!N.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!A)throw new Error("Font filename must be specified.");const j=`${N.baseUrl}${A}`;return N._fetchData(j).catch(z=>{throw new Error(`Unable to load font data at: ${j}`)})})()}_fetchData(A){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=H;class T{constructor(){this.constructor===T&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(A,N){if(A<=0||N<=0)throw new Error("Invalid SVG dimensions");const j=this._createSVG("svg:svg");return j.setAttribute("version","1.1"),j.setAttribute("width",`${A}px`),j.setAttribute("height",`${N}px`),j.setAttribute("preserveAspectRatio","none"),j.setAttribute("viewBox",`0 0 ${A} ${N}`),j}createElement(A){if("string"!=typeof A)throw new Error("Invalid SVG element type");return this._createSVG(A)}_createSVG(A){(0,i.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=T},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var i=P(1);class F{constructor({docId:E,onUnsupportedFeature:A,ownerDocument:N=globalThis.document,styleElement:j=null}){this.constructor===F&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=E,this._onUnsupportedFeature=A,this._document=N,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(E){this.nativeFontFaces.push(E),this._document.fonts.add(E)}insertRule(E){let A=this.styleElement;A||(A=this.styleElement=this._document.createElement("style"),A.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(A));const N=A.sheet;N.insertRule(E,N.cssRules.length)}clear(){for(const E of this.nativeFontFaces)this._document.fonts.delete(E);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(E){var A=this;return _asyncToGenerator(function*(){if(E.attached||E.missingFile)return;if(E.attached=!0,A.isFontLoadingAPISupported){const j=E.createNativeFontFace();if(j){A.addNativeFontFace(j);try{yield j.loaded}catch(z){throw A._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${j.family}': '${z}'.`),E.disableFontFace=!0,z}}return}const N=E.createFontFaceRule();if(N){if(A.insertRule(N),A.isSyncFontLoadingSupported)return;yield new Promise(j=>{const z=A._queueLoadingCallback(j);A._prepareFontLoadEvent([N],[E],z)})}})()}_queueLoadingCallback(E){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(E,A,N){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let C;a.FontLoader=C,a.FontLoader=C=class extends F{constructor(E){super(E),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let E=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(E=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",E)}_queueLoadingCallback(E){const N=this.loadingContext,j={id:"pdfjs-font-loading-"+N.nextRequestId++,done:!1,complete:function A(){for((0,i.assert)(!j.done,"completeRequest() cannot be called twice."),j.done=!0;N.requests.length>0&&N.requests[0].done;){const z=N.requests.shift();setTimeout(z.callback,0)}},callback:E};return N.requests.push(j),j}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(E,A,N){function j(L,M){return L.charCodeAt(M)<<24|L.charCodeAt(M+1)<<16|L.charCodeAt(M+2)<<8|255&L.charCodeAt(M+3)}function z(L,M,V,K){return L.substring(0,M)+K+L.substring(M+V)}let I,W;const g=this._document.createElement("canvas");g.width=1,g.height=1;const x=g.getContext("2d");let m=0;const b=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=z(y,976,b.length,b);const h=1482184792;let v=j(y,16);for(I=0,W=b.length-3;I<W;I+=4)v=v-h+j(b,I)|0;I<b.length&&(v=v-h+j(b+"XXX",I)|0),y=z(y,16,4,(0,i.string32)(v));const d=`url(data:font/opentype;base64,${btoa(y)});`;this.insertRule(`@font-face {font-family:"${b}";src:${d}}`);const p=[];for(const L of A)p.push(L.loadedName);p.push(b);const c=this._document.createElement("div");c.style.visibility="hidden",c.style.width=c.style.height="10px",c.style.position="absolute",c.style.top=c.style.left="0px";for(const L of p){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=L,c.appendChild(M)}this._document.body.appendChild(c),function S(L,M){if(m++,m>30)return(0,i.warn)("Load test font never loaded."),void M();x.font="30px "+L,x.fillText(".",0,20),x.getImageData(0,0,1,1).data[3]>0?M():setTimeout(S.bind(null,L,M))}(b,()=>{c.remove(),N.complete()})}},a.FontFaceObject=class H{constructor(E,{isEvalSupported:A=!0,disableFontFace:N=!1,ignoreErrors:j=!1,onUnsupportedFeature:z,fontRegistry:I=null}){this.compiledGlyphs=Object.create(null);for(const W in E)this[W]=E[W];this.isEvalSupported=!1!==A,this.disableFontFace=!0===N,this.ignoreErrors=!0===j,this._onUnsupportedFeature=z,this.fontRegistry=I}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let E;if(this.cssFontInfo){const A={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(A.style=`oblique ${this.cssFontInfo.italicAngle}deg`),E=new FontFace(this.cssFontInfo.fontFamily,this.data,A)}else E=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),E}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const E=(0,i.bytesToString)(this.data),A=`url(data:${this.mimetype};base64,${btoa(E)});`;let N;if(this.cssFontInfo){let j=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(j+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),N=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${j}src:${A}}`}else N=`@font-face {font-family:"${this.loadedName}";src:${A}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,A),N}getPathGenerator(E,A){if(void 0!==this.compiledGlyphs[A])return this.compiledGlyphs[A];let N;try{N=E.get(this.loadedName+"_path_"+A)}catch(j){if(!this.ignoreErrors)throw j;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${j}".`),this.compiledGlyphs[A]=function(z,I){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const j=[];for(const z of N){const I=void 0!==z.args?z.args.join(","):"";j.push("c.",z.cmd,"(",I,");\n")}return this.compiledGlyphs[A]=new Function("c","size",j.join(""))}return this.compiledGlyphs[A]=function(j,z){for(const I of N)"scale"===I.cmd&&(I.args=[z,-z]),j[I.cmd].apply(j,I.args)}}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var i=P(9),F=P(1);a.AnnotationStorage=class C{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(T,E){const A=this._storage.get(T);return void 0===A?E:Object.assign(E,A)}getRawValue(T){return this._storage.get(T)}setValue(T,E){const A=this._storage.get(T);let N=!1;if(void 0!==A)for(const[j,z]of Object.entries(E))A[j]!==z&&(N=!0,A[j]=z);else N=!0,this._storage.set(T,E);N&&this._setModified()}getAll(){return this._storage.size>0?(0,F.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const T=new i.MurmurHash3_64;for(const[E,A]of this._storage)T.update(`${E}:${JSON.stringify(A)}`);return T.hexdigest()}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var i=P(1);const F=3285377520,C=4294901760,H=65535;a.MurmurHash3_64=class T{constructor(A){this.h1=A?4294967295&A:F,this.h2=A?4294967295&A:F}update(A){let N,j;if("string"==typeof A){N=new Uint8Array(2*A.length),j=0;for(let h=0,v=A.length;h<v;h++){const d=A.charCodeAt(h);d<=255?N[j++]=d:(N[j++]=d>>>8,N[j++]=255&d)}}else{if(!(0,i.isArrayBuffer)(A))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");N=A.slice(),j=N.byteLength}const z=j>>2,I=j-4*z,W=new Uint32Array(N.buffer,0,z);let g=0,x=0,m=this.h1,S=this.h2;const b=3432918353,y=461845907,t=b&H,n=y&H;for(let h=0;h<z;h++)1&h?(g=W[h],g=g*b&C|g*t&H,g=g<<15|g>>>17,g=g*y&C|g*n&H,m^=g,m=m<<13|m>>>19,m=5*m+3864292196):(x=W[h],x=x*b&C|x*t&H,x=x<<15|x>>>17,x=x*y&C|x*n&H,S^=x,S=S<<13|S>>>19,S=5*S+3864292196);switch(g=0,I){case 3:g^=N[4*z+2]<<16;case 2:g^=N[4*z+1]<<8;case 1:g^=N[4*z],g=g*b&C|g*t&H,g=g<<15|g>>>17,g=g*y&C|g*n&H,1&z?m^=g:S^=g}this.h1=m,this.h2=S}hexdigest(){let A=this.h1,N=this.h2;A^=N>>>1,A=3981806797*A&C|36045*A&H,N=4283543511*N&C|(2950163797*(N<<16|A>>>16)&C)>>>16,A^=N>>>1,A=444984403*A&C|60499*A&H,N=3301882366*N&C|(3120437893*(N<<16|A>>>16)&C)>>>16,A^=N>>>1;const j=(A>>>0).toString(16),z=(N>>>0).toString(16);return j.padStart(8,"0")+z.padStart(8,"0")}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var i=P(1),F=P(11),C=P(12),H=P(3),T=P(5);const N=4096,g=16,x=1.000001;function S(R){if(R._transformStack&&(R._transformStack=[]),!R.mozCurrentTransform){R._originalSave=R.save,R._originalRestore=R.restore,R._originalRotate=R.rotate,R._originalScale=R.scale,R._originalTranslate=R.translate,R._originalTransform=R.transform,R._originalSetTransform=R.setTransform,R._originalResetTransform=R.resetTransform,R._transformMatrix=R._transformMatrix||[1,0,0,1,0,0],R._transformStack=[];try{const r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(R),"lineWidth");R._setLineWidth=r.set,R._getLineWidth=r.get,Object.defineProperty(R,"lineWidth",{set:function(s){this._setLineWidth(s*x)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(R,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(R,"mozCurrentTransformInverse",{get:function(){const[e,s,o,u,f,l]=this._transformMatrix,k=e*u-s*o,Q=s*o-e*u;return[u/k,s/Q,o/Q,e/k,(u*f-o*l)/Q,(s*f-e*l)/k]}}),R.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},R.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},R.translate=function(e,s){const o=this._transformMatrix;o[4]=o[0]*e+o[2]*s+o[4],o[5]=o[1]*e+o[3]*s+o[5],this._originalTranslate(e,s)},R.scale=function(e,s){const o=this._transformMatrix;o[0]*=e,o[1]*=e,o[2]*=s,o[3]*=s,this._originalScale(e,s)},R.transform=function(e,s,o,u,f,l){const k=this._transformMatrix;this._transformMatrix=[k[0]*e+k[2]*s,k[1]*e+k[3]*s,k[0]*o+k[2]*u,k[1]*o+k[3]*u,k[0]*f+k[2]*l+k[4],k[1]*f+k[3]*l+k[5]],R._originalTransform(e,s,o,u,f,l)},R.setTransform=function(e,s,o,u,f,l){this._transformMatrix=[e,s,o,u,f,l],R._originalSetTransform(e,s,o,u,f,l)},R.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],R._originalResetTransform()},R.rotate=function(e){const s=Math.cos(e),o=Math.sin(e),u=this._transformMatrix;this._transformMatrix=[u[0]*s+u[2]*o,u[1]*s+u[3]*o,u[0]*-o+u[2]*s,u[1]*-o+u[3]*s,u[4],u[5]],this._originalRotate(e)}}}class b{constructor(r){this.canvasFactory=r,this.cache=Object.create(null)}getCanvas(r,e,s,o){let u;return void 0!==this.cache[r]?(u=this.cache[r],this.canvasFactory.reset(u,e,s),u.context.setTransform(1,0,0,1,0,0)):(u=this.canvasFactory.create(e,s),this.cache[r]=u),o&&S(u.context),u}delete(r){delete this.cache[r]}clear(){for(const r in this.cache)this.canvasFactory.destroy(this.cache[r]),delete this.cache[r]}}function y(R,r,e,s,o,u,f,l,k,Q){const[B,Y,$,ie,ae,_e]=R.mozCurrentTransform;if(0===Y&&0===$){const ue=Math.round(f*B+ae),re=Math.round(l*ie+_e),q=Math.abs(Math.round((f+k)*B+ae)-ue)||1,fe=Math.abs(Math.round((l+Q)*ie+_e)-re)||1;return R.setTransform(Math.sign(B),0,0,Math.sign(ie),ue,re),R.drawImage(r,e,s,o,u,0,0,q,fe),R.setTransform(B,Y,$,ie,ae,_e),[q,fe]}if(0===B&&0===ie){const ue=Math.round(l*$+ae),re=Math.round(f*Y+_e),q=Math.abs(Math.round((l+Q)*$+ae)-ue)||1,fe=Math.abs(Math.round((f+k)*Y+_e)-re)||1;return R.setTransform(0,Math.sign(Y),Math.sign($),0,ue,re),R.drawImage(r,e,s,o,u,0,0,fe,q),R.setTransform(B,Y,$,ie,ae,_e),[fe,q]}return R.drawImage(r,e,s,o,u,f,l,k,Q),[Math.hypot(B,Y)*k,Math.hypot($,ie)*Q]}class n{constructor(r,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,r,e])}clone(){const r=Object.create(this);return r.clipBox=this.clipBox.slice(),r}setCurrentPoint(r,e){this.x=r,this.y=e}updatePathMinMax(r,e,s){[e,s]=i.Util.applyTransform([e,s],r),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(r,e){const s=i.Util.applyTransform(e,r),o=i.Util.applyTransform(e.slice(2),r);this.minX=Math.min(this.minX,s[0],o[0]),this.minY=Math.min(this.minY,s[1],o[1]),this.maxX=Math.max(this.maxX,s[0],o[0]),this.maxY=Math.max(this.maxY,s[1],o[1])}updateScalingPathMinMax(r,e){i.Util.scaleMinMax(r,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(r,e,s,o,u,f,l,k,Q,B){const Y=i.Util.bezierBoundingBox(e,s,o,u,f,l,k,Q);if(B)return B[0]=Math.min(B[0],Y[0],Y[2]),B[1]=Math.max(B[1],Y[0],Y[2]),B[2]=Math.min(B[2],Y[1],Y[3]),void(B[3]=Math.max(B[3],Y[1],Y[3]));this.updateRectMinMax(r,Y)}getPathBoundingBox(r=F.PathType.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(r===F.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const o=i.Util.singularValueDecompose2dScale(e),u=o[0]*this.lineWidth/2,f=o[1]*this.lineWidth/2;s[0]-=u,s[1]-=f,s[2]+=u,s[3]+=f}return s}updateClipFromPath(){const r=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(r||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(r){this.clipBox=r,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(r=F.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(r,e))}}function h(R,r,e=null){if(typeof ImageData<"u"&&r instanceof ImageData)return void R.putImageData(r,0,0);const s=r.height,o=r.width,u=s%g,f=(s-u)/g,l=0===u?f:f+1,k=R.createImageData(o,g);let B,Q=0;const Y=r.data,$=k.data;let ie,ae,_e,Ae,ve,ye,ue,ne;if(e)switch(e.length){case 1:ve=e[0],ye=e[0],ue=e[0],ne=e[0];break;case 4:ve=e[0],ye=e[1],ue=e[2],ne=e[3]}if(r.kind===i.ImageKind.GRAYSCALE_1BPP){const re=Y.byteLength,D=new Uint32Array($.buffer,0,$.byteLength>>2),q=D.length,te=o+7>>3;let fe=4294967295,se=i.FeatureTest.isLittleEndian?4278190080:255;for(ne&&255===ne[0]&&0===ne[255]&&([fe,se]=[se,fe]),ie=0;ie<l;ie++){for(_e=ie<f?g:u,B=0,ae=0;ae<_e;ae++){const w=re-Q;let J=0;const he=w>te?o:8*w-7,be=-8&he;let X=0,O=0;for(;J<be;J+=8)O=Y[Q++],D[B++]=128&O?fe:se,D[B++]=64&O?fe:se,D[B++]=32&O?fe:se,D[B++]=16&O?fe:se,D[B++]=8&O?fe:se,D[B++]=4&O?fe:se,D[B++]=2&O?fe:se,D[B++]=1&O?fe:se;for(;J<he;J++)0===X&&(O=Y[Q++],X=128),D[B++]=O&X?fe:se,X>>=1}for(;B<q;)D[B++]=0;R.putImageData(k,0,ie*g)}}else if(r.kind===i.ImageKind.RGBA_32BPP){const re=!!(ve||ye||ue);for(ae=0,Ae=o*g*4,ie=0;ie<f;ie++){if($.set(Y.subarray(Q,Q+Ae)),Q+=Ae,re)for(let D=0;D<Ae;D+=4)ve&&($[D+0]=ve[$[D+0]]),ye&&($[D+1]=ye[$[D+1]]),ue&&($[D+2]=ue[$[D+2]]);R.putImageData(k,0,ae),ae+=g}if(ie<l){if(Ae=o*u*4,$.set(Y.subarray(Q,Q+Ae)),re)for(let D=0;D<Ae;D+=4)ve&&($[D+0]=ve[$[D+0]]),ye&&($[D+1]=ye[$[D+1]]),ue&&($[D+2]=ue[$[D+2]]);R.putImageData(k,0,ae)}}else{if(r.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${r.kind}`);{const re=!!(ve||ye||ue);for(_e=g,Ae=o*_e,ie=0;ie<l;ie++){for(ie>=f&&(_e=u,Ae=o*_e),B=0,ae=Ae;ae--;)$[B++]=Y[Q++],$[B++]=Y[Q++],$[B++]=Y[Q++],$[B++]=255;if(re)for(let D=0;D<B;D+=4)ve&&($[D+0]=ve[$[D+0]]),ye&&($[D+1]=ye[$[D+1]]),ue&&($[D+2]=ue[$[D+2]]);R.putImageData(k,0,ie*g)}}}}function v(R,r){if(r.bitmap)return void R.drawImage(r.bitmap,0,0);const e=r.height,s=r.width,o=e%g,u=(e-o)/g,f=0===o?u:u+1,l=R.createImageData(s,g);let k=0;const Q=r.data,B=l.data;for(let Y=0;Y<f;Y++){const $=Y<u?g:o;({srcPos:k}=(0,C.applyMaskImageData)({src:Q,srcPos:k,dest:B,width:s,height:$})),R.putImageData(l,0,Y*g)}}function d(R,r){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let s=0,o=e.length;s<o;s++){const u=e[s];void 0!==R[u]&&(r[u]=R[u])}void 0!==R.setLineDash&&(r.setLineDash(R.getLineDash()),r.lineDashOffset=R.lineDashOffset)}function _(R,r){R.strokeStyle=R.fillStyle=r||"#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",void 0!==R.setLineDash&&(R.setLineDash([]),R.lineDashOffset=0)}function p(R,r,e,s){const o=R.length;for(let u=3;u<o;u+=4){const f=R[u];if(0===f)R[u-3]=r,R[u-2]=e,R[u-1]=s;else if(f<255){const l=255-f;R[u-3]=R[u-3]*f+r*l>>8,R[u-2]=R[u-2]*f+e*l>>8,R[u-1]=R[u-1]*f+s*l>>8}}}function c(R,r,e){const s=R.length;for(let u=3;u<s;u+=4)r[u]=r[u]*(e?e[R[u]]:R[u])*.00392156862745098|0}function L(R,r,e){const s=R.length;for(let o=3;o<s;o+=4){const u=77*R[o-3]+152*R[o-2]+28*R[o-1];r[o]=e?r[o]*e[u>>8]>>8:r[o]*u>>16}}function K(R,r){const e=i.Util.singularValueDecompose2dScale(R);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*T.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==r?r:e[0]<=s||e[1]<=s}const Z=["butt","round","square"],ee=["miter","round","bevel"],oe={},ge={};class de{constructor(r,e,s,o,u,f,l,k){this.ctx=r,this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=o,this.imageLayer=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=f,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=k?.background||null,this.foregroundColor=k?.foreground||null,r&&S(r),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(r,e=null){return"string"==typeof r?r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r):e}beginDrawing({transform:r,viewport:e,transparency:s=!1,background:o=null}){const u=this.ctx.canvas.width,f=this.ctx.canvas.height,l=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const k=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Q=this.backgroundColor=this.ctx.fillStyle;let B=!0,Y=l;if(this.ctx.fillStyle=l,Y=this.ctx.fillStyle,B="string"==typeof Y&&/^#[0-9A-Fa-f]{6}$/.test(Y),"#000000"===k&&"#ffffff"===Q||k===Q||!B)this.foregroundColor=this.backgroundColor=null;else{const $=parseInt(Y.slice(1),16),ae=($&&65280)>>8,_e=$&&255,Ae=ye=>(ye/=255)<=.03928?ye/12.92:((ye+.055)/1.055)**2.4,ve=Math.round(.2126*Ae(($&&16711680)>>16)+.7152*Ae(ae)+.0722*Ae(_e));this.selectColor=(ye,ue,ne)=>{const re=.2126*Ae(ye)+.7152*Ae(ue)+.0722*Ae(ne);return Math.round(re)===ve?Q:k}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,u,f),this.ctx.restore(),s){const k=this.cachedCanvases.getCanvas("transparent",u,f,!0);this.compositeCtx=this.ctx,this.transparentCanvas=k.canvas,this.ctx=k.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),_(this.ctx,this.foregroundColor),r&&(this.ctx.transform.apply(this.ctx,r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(r,e,s,o){const u=r.argsArray,f=r.fnArray;let l=e||0;const k=u.length;if(k===l)return l;const Q=k-l>10&&"function"==typeof s,B=Q?Date.now()+15:0;let Y=0;const $=this.commonObjs,ie=this.objs;let ae;for(;;){if(void 0!==o&&l===o.nextBreakPoint)return o.breakIt(l,s),l;if(ae=f[l],ae!==i.OPS.dependency)this[ae].apply(this,u[l]);else for(const _e of u[l]){const Ae=_e.startsWith("g_")?$:ie;if(!Ae.has(_e))return Ae.get(_e,s),l}if(l++,l===k)return l;if(Q&&++Y>10){if(Date.now()>B)return s(),l;Y=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const r of this._cachedBitmapsMap.values()){for(const e of r.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);r.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(r,e){const s=r.width,o=r.height;let B,Y,u=Math.max(Math.hypot(e[0],e[1]),1),f=Math.max(Math.hypot(e[2],e[3]),1),l=s,k=o,Q="prescale1";for(;u>2&&l>1||f>2&&k>1;){let $=l,ie=k;u>2&&l>1&&($=Math.ceil(l/2),u/=l/$),f>2&&k>1&&(ie=Math.ceil(k/2),f/=k/ie),B=this.cachedCanvases.getCanvas(Q,$,ie,!1),Y=B.context,Y.clearRect(0,0,$,ie),Y.drawImage(r,0,0,l,k,0,0,$,ie),r=B.canvas,l=$,k=ie,Q="prescale1"===Q?"prescale2":"prescale1"}return{img:r,paintWidth:l,paintHeight:k}}_createMaskCanvas(r){const e=this.ctx,{width:s,height:o}=r,u=this.current.fillColor,f=this.current.patternFill,l=e.mozCurrentTransform;let k,Q,B,Y;if((r.bitmap||r.data)&&r.count>1){const q=r.bitmap||r.data.buffer,te=l.slice(0,4);Q=JSON.stringify(f?te:[te,u]),k=this._cachedBitmapsMap.get(q),k||(k=new Map,this._cachedBitmapsMap.set(q,k));const fe=k.get(Q);if(fe&&!f)return{canvas:fe,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};B=fe}B||(Y=this.cachedCanvases.getCanvas("maskCanvas",s,o,!1),v(Y.context,r));let $=i.Util.transform(l,[1/s,0,0,-1/o,0,0]);$=i.Util.transform($,[1,0,0,1,0,-o]);const ie=i.Util.applyTransform([0,0],$),ae=i.Util.applyTransform([s,o],$),_e=i.Util.normalizeRect([ie[0],ie[1],ae[0],ae[1]]),Ae=Math.round(_e[2]-_e[0])||1,ve=Math.round(_e[3]-_e[1])||1,ye=this.cachedCanvases.getCanvas("fillCanvas",Ae,ve,!0),ue=ye.context,ne=Math.min(ie[0],ae[0]),re=Math.min(ie[1],ae[1]);ue.translate(-ne,-re),ue.transform.apply(ue,$),B||(B=this._scaleImage(Y.canvas,ue.mozCurrentTransformInverse),B=B.img,k&&f&&k.set(Q,B)),ue.imageSmoothingEnabled=K(ue.mozCurrentTransform,r.interpolate),y(ue,B,0,0,B.width,B.height,0,0,s,o),ue.globalCompositeOperation="source-in";const D=i.Util.transform(ue.mozCurrentTransformInverse,[1,0,0,1,-ne,-re]);return ue.fillStyle=f?u.getPattern(e,this,D,F.PathType.FILL):u,ue.fillRect(0,0,s,o),k&&!f&&(this.cachedCanvases.delete("fillCanvas"),k.set(Q,ye.canvas)),{canvas:ye.canvas,offsetX:Math.round(ne),offsetY:Math.round(re)}}setLineWidth(r){r!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(r){this.ctx.lineCap=Z[r]}setLineJoin(r){this.ctx.lineJoin=ee[r]}setMiterLimit(r){this.ctx.miterLimit=r}setDash(r,e){const s=this.ctx;void 0!==s.setLineDash&&(s.setLineDash(r),s.lineDashOffset=e)}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(let e=0,s=r.length;e<s;e++){const o=r[e],f=o[1];switch(o[0]){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=f}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const r=this.inSMaskMode;this.current.activeSMask&&!r?this.beginSMaskMode():!this.current.activeSMask&&r&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const u=this.ctx;u.setTransform.apply(u,this.suspendedCtx.mozCurrentTransform),d(this.suspendedCtx,u),function m(R,r){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){r.save(),this.__originalSave()},R.restore=function(){r.restore(),this.__originalRestore()},R.translate=function(s,o){r.translate(s,o),this.__originalTranslate(s,o)},R.scale=function(s,o){r.scale(s,o),this.__originalScale(s,o)},R.transform=function(s,o,u,f,l,k){r.transform(s,o,u,f,l,k),this.__originalTransform(s,o,u,f,l,k)},R.setTransform=function(s,o,u,f,l,k){r.setTransform(s,o,u,f,l,k),this.__originalSetTransform(s,o,u,f,l,k)},R.resetTransform=function(){r.resetTransform(),this.__originalResetTransform()},R.rotate=function(s){r.rotate(s),this.__originalRotate(s)},R.clip=function(s){r.clip(s),this.__originalClip(s)},R.moveTo=function(e,s){r.moveTo(e,s),this.__originalMoveTo(e,s)},R.lineTo=function(e,s){r.lineTo(e,s),this.__originalLineTo(e,s)},R.bezierCurveTo=function(e,s,o,u,f,l){r.bezierCurveTo(e,s,o,u,f,l),this.__originalBezierCurveTo(e,s,o,u,f,l)},R.rect=function(e,s,o,u){r.rect(e,s,o,u),this.__originalRect(e,s,o,u)},R.closePath=function(){r.closePath(),this.__originalClosePath()},R.beginPath=function(){r.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),d(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(r){this.current.activeSMask&&(r?(r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.ceil(r[2]),r[3]=Math.ceil(r[3])):r=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function V(R,r,e,s){const o=s[0],u=s[1],f=s[2]-o,l=s[3]-u;0===f||0===l||(function M(R,r,e,s,o,u,f,l,k,Q,B){const Y=!!u,$=Y?u[0]:0,ie=Y?u[1]:0,ae=Y?u[2]:0;let _e;_e="Luminosity"===o?L:c;const ve=Math.min(s,Math.ceil(1048576/e));for(let ye=0;ye<s;ye+=ve){const ue=Math.min(ve,s-ye),ne=R.getImageData(l-Q,ye+(k-B),e,ue),re=r.getImageData(l,ye+k,e,ue);Y&&p(ne.data,$,ie,ae),_e(ne.data,re.data,f),r.putImageData(re,l,ye+k)}}(r.context,e,f,l,r.subtype,r.backdrop,r.transferMap,o,u,r.offsetX,r.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(e.canvas,0,0),R.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,r),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(d(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),d(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(r,e,s,o,u,f){this.ctx.transform(r,e,s,o,u,f),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(r,e,s){const o=this.ctx,u=this.current;let k,Q,f=u.x,l=u.y;const B=o.mozCurrentTransform,Y=0===B[0]&&0===B[3]||0===B[1]&&0===B[2],$=Y?s.slice(0):null;for(let ie=0,ae=0,_e=r.length;ie<_e;ie++)switch(0|r[ie]){case i.OPS.rectangle:f=e[ae++],l=e[ae++];const Ae=e[ae++],ve=e[ae++],ye=f+Ae,ue=l+ve;o.moveTo(f,l),0===Ae||0===ve?o.lineTo(ye,ue):(o.lineTo(ye,l),o.lineTo(ye,ue),o.lineTo(f,ue)),Y||u.updateRectMinMax(B,[f,l,ye,ue]),o.closePath();break;case i.OPS.moveTo:f=e[ae++],l=e[ae++],o.moveTo(f,l),Y||u.updatePathMinMax(B,f,l);break;case i.OPS.lineTo:f=e[ae++],l=e[ae++],o.lineTo(f,l),Y||u.updatePathMinMax(B,f,l);break;case i.OPS.curveTo:k=f,Q=l,f=e[ae+4],l=e[ae+5],o.bezierCurveTo(e[ae],e[ae+1],e[ae+2],e[ae+3],f,l),u.updateCurvePathMinMax(B,k,Q,e[ae],e[ae+1],e[ae+2],e[ae+3],f,l,$),ae+=6;break;case i.OPS.curveTo2:k=f,Q=l,o.bezierCurveTo(f,l,e[ae],e[ae+1],e[ae+2],e[ae+3]),u.updateCurvePathMinMax(B,k,Q,f,l,e[ae],e[ae+1],e[ae+2],e[ae+3],$),f=e[ae+2],l=e[ae+3],ae+=4;break;case i.OPS.curveTo3:k=f,Q=l,f=e[ae+2],l=e[ae+3],o.bezierCurveTo(e[ae],e[ae+1],f,l,f,l),u.updateCurvePathMinMax(B,k,Q,e[ae],e[ae+1],f,l,f,l,$),ae+=4;break;case i.OPS.closePath:o.closePath()}Y&&u.updateScalingPathMinMax(B,$),u.setCurrentPoint(f,l)}closePath(){this.ctx.closePath()}stroke(r){r=!(typeof r<"u")||r;const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof s&&s?.getPattern?(e.save(),e.strokeStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,F.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),r&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(r){r=!(typeof r<"u")||r;const e=this.ctx,s=this.current.fillColor;let u=!1;this.current.patternFill&&(e.save(),e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,F.PathType.FILL),u=!0);const f=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==f&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),u&&e.restore(),r&&this.consumePath(f)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=oe}eoClip(){this.pendingClip=ge}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const r=this.pendingTextPaths,e=this.ctx;if(void 0!==r){e.save(),e.beginPath();for(let s=0;s<r.length;s++){const o=r[s];e.setTransform.apply(e,o.transform),e.translate(o.x,o.y),o.addToPath(e,o.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(r){this.current.charSpacing=r}setWordSpacing(r){this.current.wordSpacing=r}setHScale(r){this.current.textHScale=r/100}setLeading(r){this.current.leading=-r}setFont(r,e){const s=this.commonObjs.get(r),o=this.current;if(!s)throw new Error(`Can't find font for ${r}`);if(o.fontMatrix=s.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+r),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;let f="normal";s.black?f="900":s.bold&&(f="bold");const l=s.italic?"italic":"normal",k=`"${s.loadedName||"sans-serif"}", ${s.fallbackName}`;let Q=e;e<16?Q=16:e>100&&(Q=100),this.current.fontSizeScale=e/Q,this.ctx.font=`${l} ${f} ${Q}px ${k}`}setTextRenderingMode(r){this.current.textRenderingMode=r}setTextRise(r){this.current.textRise=r}moveText(r,e){this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=e}setLeadingMoveText(r,e){this.setLeading(-e),this.moveText(r,e)}setTextMatrix(r,e,s,o,u,f){this.current.textMatrix=[r,e,s,o,u,f],this.current.textMatrixScale=Math.hypot(r,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(r,e,s,o){const u=this.ctx,f=this.current,l=f.font,k=f.textRenderingMode,Q=f.fontSize/f.fontSizeScale,B=k&i.TextRenderingMode.FILL_STROKE_MASK,Y=!!(k&i.TextRenderingMode.ADD_TO_PATH_FLAG),$=f.patternFill&&!l.missingFile;let ie;(l.disableFontFace||Y||$)&&(ie=l.getPathGenerator(this.commonObjs,r)),l.disableFontFace||$?(u.save(),u.translate(e,s),u.beginPath(),ie(u,Q),o&&u.setTransform.apply(u,o),(B===i.TextRenderingMode.FILL||B===i.TextRenderingMode.FILL_STROKE)&&u.fill(),(B===i.TextRenderingMode.STROKE||B===i.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((B===i.TextRenderingMode.FILL||B===i.TextRenderingMode.FILL_STROKE)&&u.fillText(r,e,s),(B===i.TextRenderingMode.STROKE||B===i.TextRenderingMode.FILL_STROKE)&&u.strokeText(r,e,s)),Y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:u.mozCurrentTransform,x:e,y:s,fontSize:Q,addToPath:ie})}get isFontSubpixelAAEnabled(){const{context:r}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);r.scale(1.5,1),r.fillText("I",0,10);const e=r.getImageData(0,0,10,10).data;let s=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){s=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",s)}showText(r){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(r);const o=e.fontSize;if(0===o)return;const u=this.ctx,f=e.fontSizeScale,l=e.charSpacing,k=e.wordSpacing,Q=e.fontDirection,B=e.textHScale*Q,Y=r.length,$=s.vertical,ie=$?1:-1,ae=s.defaultVMetrics,_e=o*e.fontMatrix[0],Ae=e.textRenderingMode===i.TextRenderingMode.FILL&&!s.disableFontFace&&!e.patternFill;let ve;if(u.save(),u.transform.apply(u,e.textMatrix),u.translate(e.x,e.y+e.textRise),u.scale(B,Q>0?-1:1),e.patternFill){u.save();const D=e.fillColor.getPattern(u,this,u.mozCurrentTransformInverse,F.PathType.FILL);ve=u.mozCurrentTransform,u.restore(),u.fillStyle=D}let ye=e.lineWidth;const ue=e.textMatrixScale;if(0===ue||0===ye){const D=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(D===i.TextRenderingMode.STROKE||D===i.TextRenderingMode.FILL_STROKE)&&(ye=this.getSinglePixelWidth())}else ye/=ue;1!==f&&(u.scale(f,f),ye/=f),u.lineWidth=ye;let re,ne=0;for(re=0;re<Y;++re){const D=r[re];if("number"==typeof D){ne+=ie*D*o/1e3;continue}let q=!1;const te=(D.isSpace?k:0)+l,fe=D.fontChar,se=D.accent;let w,J,be,he=D.width;if($){const X=D.vmetric||ae,O=-(D.vmetric?X[1]:.5*he)*_e;he=X?-X[0]:he,w=O/f,J=(ne+X[2]*_e)/f}else w=ne/f,J=0;if(s.remeasure&&he>0){const X=1e3*u.measureText(fe).width/o*f;if(he<X&&this.isFontSubpixelAAEnabled){const O=he/X;q=!0,u.save(),u.scale(O,1),w/=O}else he!==X&&(w+=(he-X)/2e3*o/f)}this.contentVisible&&(D.isInFont||s.missingFile)&&(Ae&&!se?u.fillText(fe,w,J):(this.paintChar(fe,w,J,ve),se&&this.paintChar(se.fontChar,w+o*se.offset.x/f,J-o*se.offset.y/f,ve))),be=$?he*_e-te*Q:he*_e+te*Q,ne+=be,q&&u.restore()}$?e.y-=ne:e.x+=ne*B,u.restore(),this.compose()}showType3Text(r){const e=this.ctx,s=this.current,o=s.font,u=s.fontSize,f=s.fontDirection,l=o.vertical?1:-1,k=s.charSpacing,Q=s.wordSpacing,B=s.textHScale*f,Y=s.fontMatrix||i.FONT_IDENTITY_MATRIX,$=r.length;let ae,_e,Ae,ve;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,s.textMatrix),e.translate(s.x,s.y),e.scale(B,f),ae=0;ae<$;++ae){if(_e=r[ae],"number"==typeof _e){ve=l*_e*u/1e3,this.ctx.translate(ve,0),s.x+=ve*B;continue}const ye=(_e.isSpace?Q:0)+k,ue=o.charProcOperatorList[_e.operatorListId];ue?(this.contentVisible&&(this.processingType3=_e,this.save(),e.scale(u,u),e.transform.apply(e,Y),this.executeOperatorList(ue),this.restore()),Ae=i.Util.applyTransform([_e.width,0],Y)[0]*u+ye,e.translate(Ae,0),s.x+=Ae*B):(0,i.warn)(`Type3 character "${_e.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(r,e){}setCharWidthAndBounds(r,e,s,o,u,f){this.ctx.rect(s,o,u-s,f-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(r){let e;if("TilingPattern"===r[0]){const s=r[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new F.TilingPattern(r,s,this.ctx,{createCanvasGraphics:f=>new de(f,this.commonObjs,this.objs,this.canvasFactory)},o)}else e=this._getPattern(r[1],r[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r,e,s){const o=this.selectColor?.(r,e,s)||i.Util.makeHexColor(r,e,s);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(r,e,s){const o=this.selectColor?.(r,e,s)||i.Util.makeHexColor(r,e,s);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(r,e=null){let s;return this.cachedPatterns.has(r)?s=this.cachedPatterns.get(r):(s=(0,F.getShadingPattern)(this.objs.get(r)),this.cachedPatterns.set(r,s)),e&&(s.matrix=e),s}shadingFill(r){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(r);e.fillStyle=s.getPattern(e,this,e.mozCurrentTransformInverse,F.PathType.SHADING);const o=e.mozCurrentTransformInverse;if(o){const u=e.canvas,f=u.width,l=u.height,k=i.Util.applyTransform([0,0],o),Q=i.Util.applyTransform([0,l],o),B=i.Util.applyTransform([f,0],o),Y=i.Util.applyTransform([f,l],o),$=Math.min(k[0],Q[0],B[0],Y[0]),ie=Math.min(k[1],Q[1],B[1],Y[1]),ae=Math.max(k[0],Q[0],B[0],Y[0]),_e=Math.max(k[1],Q[1],B[1],Y[1]);this.ctx.fillRect($,ie,ae-$,_e-ie)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(r,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(r)&&6===r.length&&this.transform.apply(this,r),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(r){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;r.isolated||(0,i.info)("TODO: Support non-isolated groups."),r.knockout&&(0,i.warn)("Knockout groups not supported.");const s=e.mozCurrentTransform;if(r.matrix&&e.transform.apply(e,r.matrix),!r.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(r.bbox,e.mozCurrentTransform);o=i.Util.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const f=Math.floor(o[0]),l=Math.floor(o[1]);let k=Math.max(Math.ceil(o[2])-f,1),Q=Math.max(Math.ceil(o[3])-l,1),B=1,Y=1;k>N&&(B=k/N,k=N),Q>N&&(Y=Q/N,Q=N),this.current.startNewPathAndClipBox([0,0,k,Q]);let $="groupAt"+this.groupLevel;r.smask&&($+="_smask_"+this.smaskCounter++%2);const ie=this.cachedCanvases.getCanvas($,k,Q,!0),ae=ie.context;ae.scale(1/B,1/Y),ae.translate(-f,-l),ae.transform.apply(ae,s),r.smask?this.smaskStack.push({canvas:ie.canvas,context:ae,offsetX:f,offsetY:l,scaleX:B,scaleY:Y,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(f,l),e.scale(B,Y),e.save()),d(e,ae),this.ctx=ae,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(r){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,r.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const u=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(r,e,s,o,u){if(this.save(),Array.isArray(e)&&4===e.length){const f=e[2]-e[0],l=e[3]-e[1];if(u&&this.annotationCanvasMap){(s=s.slice())[4]-=e[0],s[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=f,e[3]=l;const[k,Q]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:B}=this,Y=Math.ceil(f*this.outputScaleX*B),$=Math.ceil(l*this.outputScaleY*B);this.annotationCanvas=this.canvasFactory.create(Y,$);const{canvas:ie,context:ae}=this.annotationCanvas,_e=`var(--zoom-factor) * ${T.PixelsPerInch.PDF_TO_CSS_UNITS}`;ie.style.width=`calc(${f}px * ${_e})`,ie.style.height=`calc(${l}px * ${_e})`,this.annotationCanvasMap.set(r,ie),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ae,this.ctx.setTransform(k,0,0,-Q,0,l*Q),S(this.ctx),_(this.ctx,this.foregroundColor)}else _(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],f,l),this.ctx.clip(),this.endPath()}this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,s),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(r){if(!this.contentVisible)return;const e=r.count;(r=this.getObject(r.data,r)).count=e;const s=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function t(R){const{width:r,height:e}=R;if(r>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=r+1;let l,k,Q,f=new Uint8Array(u*(e+1));const B=r+7&-8;let Y=new Uint8Array(B*e),$=0;for(const ue of R.data){let ne=128;for(;ne>0;)Y[$++]=ue&ne?0:255,ne>>=1}let ie=0;for($=0,0!==Y[$]&&(f[0]=1,++ie),k=1;k<r;k++)Y[$]!==Y[$+1]&&(f[k]=Y[$]?2:1,++ie),$++;for(0!==Y[$]&&(f[k]=2,++ie),l=1;l<e;l++){$=l*B,Q=l*u,Y[$-B]!==Y[$]&&(f[Q]=Y[$]?1:8,++ie);let ue=(Y[$]?4:0)+(Y[$-B]?8:0);for(k=1;k<r;k++)ue=(ue>>2)+(Y[$+1]?4:0)+(Y[$-B+1]?8:0),o[ue]&&(f[Q+k]=o[ue],++ie),$++;if(Y[$-B]!==Y[$]&&(f[Q+k]=Y[$]?2:4,++ie),ie>1e3)return null}for($=B*(e-1),Q=l*u,0!==Y[$]&&(f[Q]=8,++ie),k=1;k<r;k++)Y[$]!==Y[$+1]&&(f[Q+k]=Y[$]?4:8,++ie),$++;if(0!==Y[$]&&(f[Q+k]=4,++ie),ie>1e3)return null;const ae=new Int32Array([0,u,-1,0,-u,0,0,0,1]);let _e,Ae,ve;for(H.isNodeJS?Ae=[]:_e=new Path2D,l=0;ie&&l<=e;l++){let ue=l*u;const ne=ue+r;for(;ue<ne&&!f[ue];)ue++;if(ue===ne)continue;_e?_e.moveTo(ue%u,l):ve=[ue%u,l];const re=ue;let D=f[ue];do{const q=ae[D];do{ue+=q}while(!f[ue]);const te=f[ue];5!==te&&10!==te?(D=te,f[ue]=0):(D=te&51*D>>4,f[ue]&=D>>2|D<<2),_e?_e.lineTo(ue%u,ue/u|0):ve.push(ue%u,ue/u|0),f[ue]||--ie}while(re!==ue);_e||Ae.push(ve),--l}return Y=null,f=null,function(ue){if(ue.save(),ue.scale(1/r,-1/e),ue.translate(0,-e),_e)ue.fill(_e);else{ue.beginPath();for(const ne of Ae){ue.moveTo(ne[0],ne[1]);for(let re=2,D=ne.length;re<D;re+=2)ue.lineTo(ne[re],ne[re+1])}ue.fill()}ue.beginPath(),ue.restore()}}(r)),o.compiled))return void o.compiled(s);const u=this._createMaskCanvas(r),f=u.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(f,u.offsetX,u.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(r,e,s=0,o=0,u,f){if(!this.contentVisible)return;r=this.getObject(r.data,r);const l=this.ctx;l.save();const k=l.mozCurrentTransform;l.transform(e,s,o,u,0,0);const Q=this._createMaskCanvas(r);l.setTransform(1,0,0,1,0,0);for(let B=0,Y=f.length;B<Y;B+=2){const $=i.Util.transform(k,[e,s,o,u,f[B],f[B+1]]),[ie,ae]=i.Util.applyTransform([0,0],$);l.drawImage(Q.canvas,ie,ae)}l.restore(),this.compose()}paintImageMaskXObjectGroup(r){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,o=this.current.patternFill;for(let u=0,f=r.length;u<f;u++){const l=r[u],k=l.width,Q=l.height,B=this.cachedCanvases.getCanvas("maskCanvas",k,Q,!1),Y=B.context;Y.save(),v(Y,l),Y.globalCompositeOperation="source-in",Y.fillStyle=o?s.getPattern(Y,this,e.mozCurrentTransformInverse,F.PathType.FILL):s,Y.fillRect(0,0,k,Q),Y.restore(),e.save(),e.transform.apply(e,l.transform),e.scale(1,-1),y(e,B.canvas,0,0,k,Q,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(r){if(!this.contentVisible)return;const e=this.getObject(r);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(r,e,s,o){if(!this.contentVisible)return;const u=this.getObject(r);if(!u)return void(0,i.warn)("Dependent image isn't ready yet");const f=u.width,l=u.height,k=[];for(let Q=0,B=o.length;Q<B;Q+=2)k.push({transform:[e,0,0,s,o[Q],o[Q+1]],x:0,y:0,w:f,h:l});this.paintInlineImageXObjectGroup(u,k)}paintInlineImageXObject(r){if(!this.contentVisible)return;const e=r.width,s=r.height,o=this.ctx;let u;if(this.save(),o.scale(1/e,-1/s),"function"==typeof HTMLElement&&r instanceof HTMLElement||!r.data)u=r;else{const Q=this.cachedCanvases.getCanvas("inlineImage",e,s,!1);h(Q.context,r,this.current.transferMaps),u=Q.canvas}const f=this._scaleImage(u,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=K(o.mozCurrentTransform,r.interpolate);const[l,k]=y(o,f.img,0,0,f.paintWidth,f.paintHeight,0,-s,e,s);if(this.imageLayer){const Q=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:r,left:Q[0],top:Q[1],width:l,height:k})}this.compose(),this.restore()}paintInlineImageXObjectGroup(r,e){if(!this.contentVisible)return;const s=this.ctx,o=r.width,u=r.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u,!1);h(f.context,r,this.current.transferMaps);for(let k=0,Q=e.length;k<Q;k++){const B=e[k];if(s.save(),s.transform.apply(s,B.transform),s.scale(1,-1),y(s,f.canvas,B.x,B.y,B.w,B.h,0,-1,1,1),this.imageLayer){const Y=this.getCanvasPosition(B.x,B.y);this.imageLayer.appendImage({imgData:r,left:Y[0],top:Y[1],width:o,height:u})}s.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(r){}markPointProps(r,e){}beginMarkedContent(r){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(r,e){this.markedContentStack.push("OC"===r?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(r){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===ge?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const r=this.ctx.mozCurrentTransform;if(0===r[1]&&0===r[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3]));else{const e=Math.abs(r[0]*r[3]-r[2]*r[1]),s=Math.hypot(r[0],r[2]),o=Math.hypot(r[1],r[3]);this._cachedGetSinglePixelWidth=Math.max(s,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:r}=this.current,e=this.ctx.mozCurrentTransform;let s,o;if(0===e[1]&&0===e[2]){const u=Math.abs(e[0]),f=Math.abs(e[3]);if(0===r)s=1/u,o=1/f;else{const l=u*r,k=f*r;s=l<1?1/l:1,o=k<1?1/k:1}}else{const u=Math.abs(e[0]*e[3]-e[2]*e[1]),f=Math.hypot(e[0],e[1]),l=Math.hypot(e[2],e[3]);if(0===r)s=l/u,o=f/u;else{const k=r*u;s=l>k?l/k:1,o=f>k?f/k:1}}this._cachedScaleForStroking=[s,o]}return this._cachedScaleForStroking}rescaleAndStroke(r){const{ctx:e}=this,{lineWidth:s}=this.current,[o,u]=this.getScaleForStroking();if(e.lineWidth=s||1,1===o&&1===u)return void e.stroke();let f,l,k;r&&(f=e.mozCurrentTransform.slice(),l=e.getLineDash().slice(),k=e.lineDashOffset),e.scale(o,u);const Q=Math.max(o,u);e.setLineDash(e.getLineDash().map(B=>B/Q)),e.lineDashOffset/=Q,e.stroke(),r&&(e.setTransform(...f),e.setLineDash(l),e.lineDashOffset=k)}getCanvasPosition(r,e){const s=this.ctx.mozCurrentTransform;return[s[0]*r+s[2]*e+s[4],s[1]*r+s[3]*e+s[5]]}isContentVisible(){for(let r=this.markedContentStack.length-1;r>=0;r--)if(!this.markedContentStack[r].visible)return!1;return!0}}a.CanvasGraphics=de;for(const R in i.OPS)void 0!==de.prototype[R]&&(de.prototype[i.OPS[R]]=de.prototype[R])},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function I(x){switch(x[0]){case"RadialAxial":return new E(x);case"Mesh":return new j(x);case"Dummy":return new z}throw new Error(`Unknown IR type: ${x[0]}`)};var i=P(1),F=P(3);const C={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function H(x,m){if(!m||F.isNodeJS)return;const S=m[2]-m[0],b=m[3]-m[1],y=new Path2D;y.rect(m[0],m[1],S,b),x.clip(y)}a.PathType=C;class T{constructor(){this.constructor===T&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class E extends T{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let S;"axial"===this._type?S=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(S=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const b of this._colorStops)S.addColorStop(b[0],b[1]);return S}getPattern(m,S,b,y){let t;if(y===C.STROKE||y===C.FILL){const n=S.current.getClippedPathBoundingBox(y,m.mozCurrentTransform)||[0,0,0,0],h=Math.ceil(n[2]-n[0])||1,v=Math.ceil(n[3]-n[1])||1,d=S.cachedCanvases.getCanvas("pattern",h,v,!0),_=d.context;_.clearRect(0,0,_.canvas.width,_.canvas.height),_.beginPath(),_.rect(0,0,_.canvas.width,_.canvas.height),_.translate(-n[0],-n[1]),b=i.Util.transform(b,[1,0,0,1,n[0],n[1]]),_.transform.apply(_,S.baseTransform),this.matrix&&_.transform.apply(_,this.matrix),H(_,this._bbox),_.fillStyle=this._createGradient(_),_.fill(),t=m.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(b);try{t.setTransform(p)}catch(c){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${c?.message}".`)}}else H(m,this._bbox),t=this._createGradient(m);return t}}function A(x,m,S,b,y,t,n,h){const v=m.coords,d=m.colors,_=x.data,p=4*x.width;let c;v[S+1]>v[b+1]&&(c=S,S=b,b=c,c=t,t=n,n=c),v[b+1]>v[y+1]&&(c=b,b=y,y=c,c=n,n=h,h=c),v[S+1]>v[b+1]&&(c=S,S=b,b=c,c=t,t=n,n=c);const L=(v[S]+m.offsetX)*m.scaleX,M=(v[S+1]+m.offsetY)*m.scaleY,V=(v[b]+m.offsetX)*m.scaleX,K=(v[b+1]+m.offsetY)*m.scaleY,Z=(v[y]+m.offsetX)*m.scaleX,ee=(v[y+1]+m.offsetY)*m.scaleY;if(M>=ee)return;const oe=d[t],ge=d[t+1],de=d[t+2],R=d[n],r=d[n+1],e=d[n+2],s=d[h],o=d[h+1],u=d[h+2],f=Math.round(M),l=Math.round(ee);let k,Q,B,Y,$,ie,ae,_e;for(let Ae=f;Ae<=l;Ae++){if(Ae<K){let re;re=Ae<M?0:(M-Ae)/(M-K),k=L-(L-V)*re,Q=oe-(oe-R)*re,B=ge-(ge-r)*re,Y=de-(de-e)*re}else{let re;re=Ae>ee?1:K===ee?0:(K-Ae)/(K-ee),k=V-(V-Z)*re,Q=R-(R-s)*re,B=r-(r-o)*re,Y=e-(e-u)*re}let ve;ve=Ae<M?0:Ae>ee?1:(M-Ae)/(M-ee),$=L-(L-Z)*ve,ie=oe-(oe-s)*ve,ae=ge-(ge-o)*ve,_e=de-(de-u)*ve;const ye=Math.round(Math.min(k,$)),ue=Math.round(Math.max(k,$));let ne=p*Ae+4*ye;for(let re=ye;re<=ue;re++)ve=(k-re)/(k-$),ve<0?ve=0:ve>1&&(ve=1),_[ne++]=Q-(Q-ie)*ve|0,_[ne++]=B-(B-ae)*ve|0,_[ne++]=Y-(Y-_e)*ve|0,_[ne++]=255}}function N(x,m,S){const b=m.coords,y=m.colors;let t,n;switch(m.type){case"lattice":const h=m.verticesPerRow,v=Math.floor(b.length/h)-1,d=h-1;for(t=0;t<v;t++){let _=t*h;for(let p=0;p<d;p++,_++)A(x,S,b[_],b[_+1],b[_+h],y[_],y[_+1],y[_+h]),A(x,S,b[_+h+1],b[_+1],b[_+h],y[_+h+1],y[_+1],y[_+h])}break;case"triangles":for(t=0,n=b.length;t<n;t+=3)A(x,S,b[t],b[t+1],b[t+2],y[t],y[t+1],y[t+2]);break;default:throw new Error("illegal figure")}}class j extends T{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,S,b){const h=Math.floor(this._bounds[0]),v=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-h,_=Math.ceil(this._bounds[3])-v,p=Math.min(Math.ceil(Math.abs(d*m[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(_*m[1]*1.1)),3e3),L=d/p,M=_/c,V={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-v,scaleX:1/L,scaleY:1/M},ee=b.getCanvas("mesh",p+4,c+4,!1),oe=ee.context,ge=oe.createImageData(p,c);if(S){const R=ge.data;for(let r=0,e=R.length;r<e;r+=4)R[r]=S[0],R[r+1]=S[1],R[r+2]=S[2],R[r+3]=255}for(const R of this._figures)N(ge,R,V);return oe.putImageData(ge,2,2),{canvas:ee.canvas,offsetX:h-2*L,offsetY:v-2*M,scaleX:L,scaleY:M}}getPattern(m,S,b,y){let t;if(H(m,this._bbox),y===C.SHADING)t=i.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(t=i.Util.singularValueDecompose2dScale(S.baseTransform),this.matrix){const h=i.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*h[0],t[1]*h[1]]}const n=this._createMeshCanvas(t,y===C.SHADING?null:this._background,S.cachedCanvases);return y!==C.SHADING&&(m.setTransform.apply(m,S.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(n.offsetX,n.offsetY),m.scale(n.scaleX,n.scaleY),m.createPattern(n.canvas,"no-repeat")}}class z extends T{getPattern(){return"hotpink"}}class g{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,S,b,y,t){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=S,this.ctx=b,this.canvasGraphicsFactory=y,this.baseTransform=t}createPatternCanvas(m){const S=this.operatorList,b=this.bbox,y=this.xstep,t=this.ystep,n=this.paintType,v=this.color,d=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const _=b[0],p=b[1],c=b[2],L=b[3],M=i.Util.singularValueDecompose2dScale(this.matrix),V=i.Util.singularValueDecompose2dScale(this.baseTransform),K=[M[0]*V[0],M[1]*V[1]],Z=this.getSizeAndScale(y,this.ctx.canvas.width,K[0]),ee=this.getSizeAndScale(t,this.ctx.canvas.height,K[1]),oe=m.cachedCanvases.getCanvas("pattern",Z.size,ee.size,!0),ge=oe.context,de=d.createCanvasGraphics(ge);de.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(de,n,v);let R=_,r=p,e=c,s=L;return _<0&&(R=0,e+=Math.abs(_)),p<0&&(r=0,s+=Math.abs(p)),ge.translate(-Z.scale*R,-ee.scale*r),de.transform(Z.scale,0,0,ee.scale,0,0),ge.save(),this.clipBbox(de,R,r,e,s),de.baseTransform=de.ctx.mozCurrentTransform.slice(),de.executeOperatorList(S),de.endDrawing(),{canvas:oe.canvas,scaleX:Z.scale,scaleY:ee.scale,offsetX:R,offsetY:r}}getSizeAndScale(m,S,b){m=Math.abs(m);const y=Math.max(g.MAX_PATTERN_SIZE,S);let t=Math.ceil(m*b);return t>=y?t=y:b=t/m,{scale:b,size:t}}clipBbox(m,S,b,y,t){m.ctx.rect(S,b,y-S,t-b),m.current.updateRectMinMax(m.ctx.mozCurrentTransform,[S,b,y,t]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,S,b){const y=m.ctx,t=m.current;switch(S){case 1:const n=this.ctx;y.fillStyle=n.fillStyle,y.strokeStyle=n.strokeStyle,t.fillColor=n.fillStyle,t.strokeColor=n.strokeStyle;break;case 2:const h=i.Util.makeHexColor(b[0],b[1],b[2]);y.fillStyle=h,y.strokeStyle=h,t.fillColor=h,t.strokeColor=h;break;default:throw new i.FormatError(`Unsupported paint type: ${S}`)}}getPattern(m,S,b,y){let t=b;y!==C.SHADING&&(t=i.Util.transform(t,S.baseTransform),this.matrix&&(t=i.Util.transform(t,this.matrix)));const n=this.createPatternCanvas(S);let h=new DOMMatrix(t);h=h.translate(n.offsetX,n.offsetY),h=h.scale(1/n.scaleX,1/n.scaleY);const v=m.createPattern(n.canvas,"repeat");try{v.setTransform(h)}catch(d){(0,i.warn)(`TilingPattern.getPattern: "${d?.message}".`)}return v}}a.TilingPattern=g},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function F({src:C,srcPos:H=0,dest:T,destPos:E=0,width:A,height:N,inverseDecode:j=!1}){const z=i.FeatureTest.isLittleEndian?4278190080:255,[I,W]=j?[0,z]:[z,0],g=A>>3,x=7&A,m=C.length;T=new Uint32Array(T.buffer);for(let S=0;S<N;S++){for(const y=H+g;H<y;H++){const t=H<m?C[H]:255;T[E++]=128&t?W:I,T[E++]=64&t?W:I,T[E++]=32&t?W:I,T[E++]=16&t?W:I,T[E++]=8&t?W:I,T[E++]=4&t?W:I,T[E++]=2&t?W:I,T[E++]=1&t?W:I}if(0===x)continue;const b=H<m?C[H++]:255;for(let y=0;y<x;y++)T[E++]=b&1<<7-y?W:I}return{srcPos:H,destPos:E}};var i=P(1)},(G,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const P=Object.create(null);a.GlobalWorkerOptions=P,P.workerPort=void 0===P.workerPort?null:P.workerPort,P.workerSrc=void 0===P.workerSrc?"":P.workerSrc},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var i=P(1);function H(E){switch(E instanceof Error||"object"==typeof E&&null!==E||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),E.name){case"AbortException":return new i.AbortException(E.message);case"MissingPDFException":return new i.MissingPDFException(E.message);case"PasswordException":return new i.PasswordException(E.message,E.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new i.UnknownErrorException(E.message,E.details);default:return new i.UnknownErrorException(E.message,E.toString())}}a.MessageHandler=class T{constructor(A,N,j){this.sourceName=A,this.targetName=N,this.comObj=j,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=z=>{const I=z.data;if(I.targetName!==this.sourceName)return;if(I.stream)return void this._processStreamMessage(I);if(I.callback){const g=I.callbackId,x=this.callbackCapabilities[g];if(!x)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],1===I.callback)x.resolve(I.data);else{if(2!==I.callback)throw new Error("Unexpected callback case");x.reject(H(I.reason))}return}const W=this.actionHandler[I.action];if(!W)throw new Error(`Unknown action from worker: ${I.action}`);if(I.callbackId){const g=this.sourceName,x=I.sourceName;new Promise(function(m){m(W(I.data))}).then(function(m){j.postMessage({sourceName:g,targetName:x,callback:1,callbackId:I.callbackId,data:m})},function(m){j.postMessage({sourceName:g,targetName:x,callback:2,callbackId:I.callbackId,reason:H(m)})})}else I.streamId?this._createStreamSink(I):W(I.data)},j.addEventListener("message",this._onComObjOnMessage)}on(A,N){const j=this.actionHandler;if(j[A])throw new Error(`There is already an actionName called "${A}"`);j[A]=N}send(A,N,j){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,data:N},j)}sendWithPromise(A,N,j){const z=this.callbackId++,I=(0,i.createPromiseCapability)();this.callbackCapabilities[z]=I;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,callbackId:z,data:N},j)}catch(W){I.reject(W)}return I.promise}sendWithStream(A,N,j,z){const I=this.streamId++,W=this.sourceName,g=this.targetName,x=this.comObj;return new ReadableStream({start:m=>{const S=(0,i.createPromiseCapability)();return this.streamControllers[I]={controller:m,startCall:S,pullCall:null,cancelCall:null,isClosed:!1},x.postMessage({sourceName:W,targetName:g,action:A,streamId:I,data:N,desiredSize:m.desiredSize},z),S.promise},pull:m=>{const S=(0,i.createPromiseCapability)();return this.streamControllers[I].pullCall=S,x.postMessage({sourceName:W,targetName:g,stream:6,streamId:I,desiredSize:m.desiredSize}),S.promise},cancel:m=>{(0,i.assert)(m instanceof Error,"cancel must have a valid reason");const S=(0,i.createPromiseCapability)();return this.streamControllers[I].cancelCall=S,this.streamControllers[I].isClosed=!0,x.postMessage({sourceName:W,targetName:g,stream:1,streamId:I,reason:H(m)}),S.promise}},j)}_createStreamSink(A){const N=A.streamId,j=this.sourceName,z=A.sourceName,I=this.comObj,W=this,g=this.actionHandler[A.action],x={enqueue(m,S=1,b){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=S,y>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),I.postMessage({sourceName:j,targetName:z,stream:4,streamId:N,chunk:m},b)},close(){this.isCancelled||(this.isCancelled=!0,I.postMessage({sourceName:j,targetName:z,stream:3,streamId:N}),delete W.streamSinks[N])},error(m){(0,i.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,I.postMessage({sourceName:j,targetName:z,stream:5,streamId:N,reason:H(m)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:A.desiredSize,ready:null};x.sinkCapability.resolve(),x.ready=x.sinkCapability.promise,this.streamSinks[N]=x,new Promise(function(m){m(g(A.data,x))}).then(function(){I.postMessage({sourceName:j,targetName:z,stream:8,streamId:N,success:!0})},function(m){I.postMessage({sourceName:j,targetName:z,stream:8,streamId:N,reason:H(m)})})}_processStreamMessage(A){const N=A.streamId,j=this.sourceName,z=A.sourceName,I=this.comObj,W=this.streamControllers[N],g=this.streamSinks[N];switch(A.stream){case 8:A.success?W.startCall.resolve():W.startCall.reject(H(A.reason));break;case 7:A.success?W.pullCall.resolve():W.pullCall.reject(H(A.reason));break;case 6:if(!g){I.postMessage({sourceName:j,targetName:z,stream:7,streamId:N,success:!0});break}g.desiredSize<=0&&A.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=A.desiredSize,new Promise(function(x){x(g.onPull&&g.onPull())}).then(function(){I.postMessage({sourceName:j,targetName:z,stream:7,streamId:N,success:!0})},function(x){I.postMessage({sourceName:j,targetName:z,stream:7,streamId:N,reason:H(x)})});break;case 4:if((0,i.assert)(W,"enqueue should have stream controller"),W.isClosed)break;W.controller.enqueue(A.chunk);break;case 3:if((0,i.assert)(W,"close should have stream controller"),W.isClosed)break;W.isClosed=!0,W.controller.close(),this._deleteStreamController(W,N);break;case 5:(0,i.assert)(W,"error should have stream controller"),W.controller.error(H(A.reason)),this._deleteStreamController(W,N);break;case 2:A.success?W.cancelCall.resolve():W.cancelCall.reject(H(A.reason)),this._deleteStreamController(W,N);break;case 1:if(!g)break;new Promise(function(x){x(g.onCancel&&g.onCancel(H(A.reason)))}).then(function(){I.postMessage({sourceName:j,targetName:z,stream:2,streamId:N,success:!0})},function(x){I.postMessage({sourceName:j,targetName:z,stream:2,streamId:N,reason:H(x)})}),g.sinkCapability.reject(H(A.reason)),g.isCancelled=!0,delete this.streamSinks[N];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(A,N){var j=this;return _asyncToGenerator(function*(){yield Promise.allSettled([A.startCall&&A.startCall.promise,A.pullCall&&A.pullCall.promise,A.cancelCall&&A.cancelCall.promise]),delete j.streamControllers[N]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var i=P(1),F=new WeakMap,C=new WeakMap;a.Metadata=class H{constructor({parsedData:E,rawData:A}){_classPrivateFieldInitSpec(this,F,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:void 0}),_classPrivateFieldSet(this,F,E),_classPrivateFieldSet(this,C,A)}getRaw(){return _classPrivateFieldGet(this,C)}get(E){return _classPrivateFieldGet(this,F).get(E)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,F))}has(E){return _classPrivateFieldGet(this,F).has(E)}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var i=P(1);class F{constructor(T,E){this.visible=!0,this.name=T,this.intent=E}}a.OptionalContentConfig=class C{constructor(T){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==T){this.name=T.name,this.creator=T.creator,this._order=T.order;for(const E of T.groups)this._groups.set(E.id,new F(E.name,E.intent));if("OFF"===T.baseState)for(const E of this._groups)E.visible=!1;for(const E of T.on)this._groups.get(E).visible=!0;for(const E of T.off)this._groups.get(E).visible=!1}}_evaluateVisibilityExpression(T){const E=T.length;if(E<2)return!0;const A=T[0];for(let N=1;N<E;N++){const j=T[N];let z;if(Array.isArray(j))z=this._evaluateVisibilityExpression(j);else{if(!this._groups.has(j))return(0,i.warn)(`Optional content group not found: ${j}`),!0;z=this._groups.get(j).visible}switch(A){case"And":if(!z)return!1;break;case"Or":if(z)return!0;break;case"Not":return!z;default:return!0}}return"And"===A}isVisible(T){if(0===this._groups.size)return!0;if(!T)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===T.type)return this._groups.has(T.id)?this._groups.get(T.id).visible:((0,i.warn)(`Optional content group not found: ${T.id}`),!0);if("OCMD"===T.type){if(T.expression)return this._evaluateVisibilityExpression(T.expression);if(!T.policy||"AnyOn"===T.policy){for(const E of T.ids){if(!this._groups.has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(this._groups.get(E).visible)return!0}return!1}if("AllOn"===T.policy){for(const E of T.ids){if(!this._groups.has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(!this._groups.get(E).visible)return!1}return!0}if("AnyOff"===T.policy){for(const E of T.ids){if(!this._groups.has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(!this._groups.get(E).visible)return!0}return!1}if("AllOff"===T.policy){for(const E of T.ids){if(!this._groups.has(E))return(0,i.warn)(`Optional content group not found: ${E}`),!0;if(this._groups.get(E).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${T.policy}.`),!0}return(0,i.warn)(`Unknown group type ${T.type}.`),!0}setVisibility(T,E=!0){this._groups.has(T)?this._groups.get(T).visible=!!E:(0,i.warn)(`Optional content group not found: ${T}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(T){return this._groups.get(T)||null}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var i=P(1),F=P(5);a.PDFDataTransportStream=class C{constructor(A,N){(0,i.assert)(N,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=A.progressiveDone||!1,this._contentDispositionFilename=A.contentDispositionFilename||null;const j=A.initialData;if(j?.length>0){const z=new Uint8Array(j).buffer;this._queuedChunks.push(z)}this._pdfDataRangeTransport=N,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._contentLength=A.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((z,I)=>{this._onReceiveData({begin:z,chunk:I})}),this._pdfDataRangeTransport.addProgressListener((z,I)=>{this._onProgress({loaded:z,total:I})}),this._pdfDataRangeTransport.addProgressiveReadListener(z=>{this._onReceiveData({chunk:z})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(A){const N=new Uint8Array(A.chunk).buffer;if(void 0===A.begin)this._fullRequestReader?this._fullRequestReader._enqueue(N):this._queuedChunks.push(N);else{const j=this._rangeReaders.some(function(z){return z._begin===A.begin&&(z._enqueue(N),!0)});(0,i.assert)(j,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(A){if(void 0===A.total){const N=this._rangeReaders[0];N?.onProgress&&N.onProgress({loaded:A.loaded})}else{const N=this._fullRequestReader;N?.onProgress&&N.onProgress({loaded:A.loaded,total:A.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){const N=this._rangeReaders.indexOf(A);N>=0&&this._rangeReaders.splice(N,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const A=this._queuedChunks;return this._queuedChunks=null,new H(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,N){if(N<=this._progressiveDataLength)return null;const j=new T(this,A,N);return this._pdfDataRangeTransport.requestDataRange(A,N),this._rangeReaders.push(j),j}cancelAllRequests(A){this._fullRequestReader&&this._fullRequestReader.cancel(A);for(const N of this._rangeReaders.slice(0))N.cancel(A);this._pdfDataRangeTransport.abort()}};class H{constructor(A,N,j=!1,z=null){this._stream=A,this._done=j||!1,this._filename=(0,F.isPdfFile)(z)?z:null,this._queuedChunks=N||[],this._loaded=0;for(const I of this._queuedChunks)this._loaded+=I.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){this._done||(this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunks.push(A),this._loaded+=A.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunks.length>0)return{value:A._queuedChunks.shift(),done:!1};if(A._done)return{value:void 0,done:!0};const N=(0,i.createPromiseCapability)();return A._requests.push(N),N.promise})()}cancel(A){this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class T{constructor(A,N,j){this._stream=A,this._begin=N,this._end=j,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(0===this._requests.length)this._queuedChunk=A;else{this._requests.shift().resolve({value:A,done:!1});for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var A=this;return _asyncToGenerator(function*(){if(A._queuedChunk){const j=A._queuedChunk;return A._queuedChunk=null,{value:j,done:!1}}if(A._done)return{value:void 0,done:!0};const N=(0,i.createPromiseCapability)();return A._requests.push(N),N.promise})()}cancel(A){this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(G,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class P{static textContent(F){const C=[],H={items:C,styles:Object.create(null)};return function T(E){if(!E)return;let A=null;const N=E.name;if("#text"===N)A=E.value;else{if(!P.shouldBuildText(N))return;E?.attributes?.textContent?A=E.attributes.textContent:E.value&&(A=E.value)}if(null!==A&&C.push({str:A}),E.children)for(const j of E.children)T(j)}(F),H}static shouldBuildText(F){return!("textarea"===F||"input"===F||"option"===F||"select"===F)}}a.XfaText=P},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var i=P(6);const F=function(E){return new Promise((A,N)=>{__webpack_require__(172).readFile(E,(z,I)=>{!z&&I?A(new Uint8Array(I)):N(new Error(z))})})};a.NodeCanvasFactory=class C extends i.BaseCanvasFactory{_createCanvas(A,N){return __webpack_require__(3414).createCanvas(A,N)}},a.NodeCMapReaderFactory=class H extends i.BaseCMapReaderFactory{_fetchData(A,N){return F(A).then(j=>({cMapData:j,compressionType:N}))}},a.NodeStandardFontDataFactory=class T extends i.BaseStandardFontDataFactory{_fetchData(A){return F(A)}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var i=P(1),F=P(5),C=P(8),H=P(21),T=P(22);const E=1e3,A=new WeakSet;function N(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class j{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new I(e);case i.AnnotationType.TEXT:return new W(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new x(e);case"Btn":return e.data.radioButton?new S(e):e.data.checkBox?new m(e):new b(e);case"Ch":return new y(e)}return new g(e);case i.AnnotationType.POPUP:return new t(e);case i.AnnotationType.FREETEXT:return new h(e);case i.AnnotationType.LINE:return new v(e);case i.AnnotationType.SQUARE:return new d(e);case i.AnnotationType.CIRCLE:return new _(e);case i.AnnotationType.POLYLINE:return new p(e);case i.AnnotationType.CARET:return new L(e);case i.AnnotationType.INK:return new M(e);case i.AnnotationType.POLYGON:return new c(e);case i.AnnotationType.HIGHLIGHT:return new V(e);case i.AnnotationType.UNDERLINE:return new K(e);case i.AnnotationType.SQUIGGLY:return new Z(e);case i.AnnotationType.STRIKEOUT:return new ee(e);case i.AnnotationType.STAMP:return new oe(e);case i.AnnotationType.FILEATTACHMENT:return new ge(e);default:return new z(e)}}}class z{constructor(e,{isRenderable:s=!1,ignoreBorder:o=!1,createQuadrilaterals:u=!1}={}){this.isRenderable=s,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,s&&(this.container=this._createContainer(o)),u&&(this.quadrilaterals=this._createQuadrilaterals(o))}_createContainer(e=!1){const s=this.data,o=this.page,u=this.viewport,f=document.createElement("section");let{width:l,height:k}=N(s.rect);f.setAttribute("data-annotation-id",s.id);const Q=i.Util.normalizeRect([s.rect[0],o.view[3]-s.rect[1]+o.view[1],s.rect[2],o.view[3]-s.rect[3]+o.view[1]]);if(s.hasOwnCanvas){const B=u.transform.slice(),[Y,$]=i.Util.singularValueDecompose2dScale(B);l=Math.ceil(l*Y),k=Math.ceil(k*$),Q[0]*=Y,Q[1]*=$;for(let ie=0;ie<4;ie++)B[ie]=Math.sign(B[ie]);f.style.transform=`matrix(${B.join(",")})`}else f.style.transform=`matrix(${u.transform.join(",")})`;if(f.style.transformOrigin=`${-Q[0]}px ${-Q[1]}px`,!e&&s.borderStyle.width>0){f.style.borderWidth=`${s.borderStyle.width}px`,s.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(l-=2*s.borderStyle.width,k-=2*s.borderStyle.width);const B=s.borderStyle.horizontalCornerRadius,Y=s.borderStyle.verticalCornerRadius;switch((B>0||Y>0)&&(f.style.borderRadius=`${B}px / ${Y}px`),s.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle="solid"}s.borderColor||s.color?f.style.borderColor=i.Util.makeHexColor(0|s.color[0],0|s.color[1],0|s.color[2]):f.style.borderWidth=0}return f.style.left=`${Q[0]}px`,f.style.top=`${Q[1]}px`,s.hasOwnCanvas?f.style.width=f.style.height="auto":(f.style.width=`${l}px`,f.style.height=`${k}px`),f}get _commonActions(){const e=(s,o,u)=>{const f=u.detail[s];u.target.style[o]=H.ColorConverters[`${f[0]}_HTML`](f.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:s=>{const o=s.detail.display%2==1;s.target.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o,print:0===s.detail.display||3===s.detail.display})},print:s=>{this.annotationStorage.setValue(this.data.id,{print:s.detail.print})},hidden:s=>{s.target.style.visibility=s.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:s.detail.hidden})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.detail.readonly?s.target.setAttribute("readonly",""):s.target.removeAttribute("readonly")},required:s=>{s.detail.required?s.target.setAttribute("required",""):s.target.removeAttribute("required")},bgColor:s=>{e("bgColor","backgroundColor",s)},fillColor:s=>{e("fillColor","backgroundColor",s)},fgColor:s=>{e("fgColor","color",s)},textColor:s=>{e("textColor","color",s)},borderColor:s=>{e("borderColor","borderColor",s)},strokeColor:s=>{e("strokeColor","borderColor",s)}})}_dispatchEventFromSandbox(e,s){const o=this._commonActions;for(const u of Object.keys(s.detail)){const f=e[u]||o[u];f&&f(s)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const o=this._commonActions;for(const[u,f]of Object.entries(s)){const l=o[u];l&&(l({detail:f,target:e}),delete s[u])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const s=[],o=this.data.rect;for(const u of this.data.quadPoints)this.data.rect=[u[2].x,u[2].y,u[1].x,u[1].y],s.push(this._createContainer(e));return this.data.rect=o,s}_createPopup(e,s){let o=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,o=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=o.style.height,e.style.width=o.style.width,o.appendChild(e));const f=new n({container:o,trigger:e,color:s.color,titleObj:s.titleObj,modificationDate:s.modificationDate,contentsObj:s.contentsObj,richText:s.richText,hideWrapper:!0}).render();f.style.left=o.style.width,o.appendChild(f)}_renderQuadrilaterals(e){for(const s of this.quadrilaterals)s.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,s=null){const o=[];if(this._fieldObjects){const u=this._fieldObjects[e];if(u)for(const{page:f,id:l,exportValues:k}of u){if(-1===f||l===s)continue;const Q="string"==typeof k?k:null,B=document.getElementById(l);!B||A.has(B)?o.push({id:l,exportValue:Q,domElement:B}):(0,i.warn)(`_getElementsByName - element not allowed: ${l}`)}return o}for(const u of document.getElementsByName(e)){const{id:f,exportValue:l}=u;f!==s&&A.has(u)&&o.push({id:f,exportValue:l,domElement:u})}return o}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class I extends z{constructor(e,s=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!s?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:s}=this,o=document.createElement("a");if(e.url)s.addLinkAttributes(o,e.url,e.newWindow);else if(e.action)this._bindNamedAction(o,e.action);else if(e.dest)this._bindLink(o,e.dest);else{let u=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(u=!0,this._bindJSAction(o,e)),e.resetForm?this._bindResetFormAction(o,e.resetForm):u||this._bindLink(o,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((u,f)=>{const l=0===f?o:o.cloneNode();return u.appendChild(l),u}):(this.container.className="linkAnnotation",this.container.appendChild(o),this.container)}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||""===s)&&(e.className="internalLink")}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),e.className="internalLink"}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const u of Object.keys(s.actions)){const f=o.get(u);f&&(e[f]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:u}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,s){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(o||(e.onclick=()=>!1));e.onclick=()=>{o&&o();const{fields:u,refs:f,include:l}=s,k=[];if(0!==u.length||0!==f.length){const Y=new Set(f);for(const $ of u){const ie=this._fieldObjects[$]||[];for(const{id:ae}of ie)Y.add(ae)}for(const $ of Object.values(this._fieldObjects))for(const ie of $)Y.has(ie.id)===l&&k.push(ie)}else for(const Y of Object.values(this._fieldObjects))k.push(...Y);const Q=this.annotationStorage,B=[];for(const Y of k){const{id:$}=Y;switch(B.push($),Y.type){case"text":case"combobox":case"listbox":Q.setValue($,{value:Y.defaultValue||""});break;case"checkbox":case"radiobutton":Q.setValue($,{value:Y.defaultValue===Y.exportValues});break;default:continue}const ie=document.getElementById($);!ie||!A.has(ie)||ie.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:B,name:"ResetForm"}}),!1}}}class W extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class g extends z{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:s,isMac:o}=z.platform;return s&&e.ctrlKey||o&&e.metaKey}_setEventListener(e,s,o,u){s.includes("mouse")?e.addEventListener(s,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:u(f),shift:f.shiftKey,modifier:this._getKeyModifier(f)}})}):e.addEventListener(s,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:u(f)}})})}_setEventListeners(e,s,o){for(const[u,f]of s)("Action"===f||this.data.actions?.[f])&&this._setEventListener(e,u,f,o)}_setBackgroundColor(e){const s=this.data.backgroundColor||null;e.style.backgroundColor=null===s?"transparent":i.Util.makeHexColor(s[0],s[1],s[2])}}class x extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,s,o,u){const f=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[s]=o),f.setValue(l.id,{[u]:o})}render(){const e=this.annotationStorage,s=this.data.id;this.container.className="textWidgetAnnotation";let o=null;if(this.renderForms){const u=e.getValue(s,{value:this.data.fieldValue}),f=u.formattedValue||u.value||"",l={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=f):(o=document.createElement("input"),o.type="text",o.setAttribute("value",f)),A.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=E,l.userValue=f,o.setAttribute("id",s),o.addEventListener("input",Q=>{e.setValue(s,{value:Q.target.value}),this.setPropertyOnSiblings(o,"value",Q.target.value,"value")}),o.addEventListener("resetform",Q=>{o.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let k=Q=>{const{formattedValue:B}=l;null!=B&&(Q.target.value=B),Q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",B=>{l.userValue&&(B.target.value=l.userValue),l.valueOnFocus=B.target.value}),o.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value($){l.userValue=$.detail.value??"",e.setValue(s,{value:l.userValue.toString()}),$.target.value=l.userValue},formattedValue($){const{formattedValue:ie}=$.detail;l.formattedValue=ie,null!=ie&&$.target!==document.activeElement&&($.target.value=ie),e.setValue(s,{formattedValue:ie})},selRange($){$.target.setSelectionRange(...$.detail.selRange)}},B)}),o.addEventListener("keydown",B=>{let Y=-1;if("Escape"===B.key?Y=0:"Enter"===B.key?Y=2:"Tab"===B.key&&(Y=3),-1===Y)return;const{value:$}=B.target;l.valueOnFocus!==$&&(l.userValue=$,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:$,willCommit:!0,commitKey:Y,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}))});const Q=k;k=null,o.addEventListener("blur",B=>{const{value:Y}=B.target;l.userValue=Y,this._mouseState.isDown&&l.valueOnFocus!==Y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:Y,willCommit:!0,commitKey:1,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}),Q(B)}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",B=>{const{data:Y,target:$}=B,{value:ie,selectionStart:ae,selectionEnd:_e}=$;let Ae=ae,ve=_e;switch(B.inputType){case"deleteWordBackward":{const ye=ie.substring(0,ae).match(/\w*[^\w]*$/);ye&&(Ae-=ye[0].length);break}case"deleteWordForward":{const ye=ie.substring(ae).match(/^[^\w]*\w*/);ye&&(ve+=ye[0].length);break}case"deleteContentBackward":ae===_e&&(Ae-=1);break;case"deleteContentForward":ae===_e&&(ve+=1)}B.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:ie,change:Y||"",willCommit:!1,selStart:Ae,selEnd:ve}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.value)}if(k&&o.addEventListener("blur",k),null!==this.data.maxLen&&(o.maxLength=this.data.maxLen),this.data.comb){const B=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;o.classList.add("comb"),o.style.letterSpacing=`calc(${B}px - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell";return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}_setTextStyle(e){const{fontSize:o,fontColor:u}=this.data.defaultAppearanceData,f=e.style;o&&(f.fontSize=`${o}px`),f.color=i.Util.makeHexColor(u[0],u[1],u[2]),null!==this.data.textAlignment&&(f.textAlign=["left","center","right"][this.data.textAlignment])}}class m extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,s=this.data,o=s.id;let u=e.getValue(o,{value:s.exportValue===s.fieldValue}).value;"string"==typeof u&&(u="Off"!==u,e.setValue(o,{value:u})),this.container.className="buttonWidgetAnnotation checkBox";const f=document.createElement("input");return A.add(f),f.disabled=s.readOnly,f.type="checkbox",f.name=s.fieldName,u&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.setAttribute("exportValue",s.exportValue),f.tabIndex=E,f.addEventListener("change",l=>{const{name:k,checked:Q}=l.target;for(const B of this._getElementsByName(k,o)){const Y=Q&&B.exportValue===s.exportValue;B.domElement&&(B.domElement.checked=Y),e.setValue(B.id,{value:Y})}e.setValue(o,{value:Q})}),f.addEventListener("resetform",l=>{l.target.checked=(s.defaultFieldValue||"Off")===s.exportValue}),this.enableScripting&&this.hasJSActions&&(f.addEventListener("updatefromsandbox",l=>{this._dispatchEventFromSandbox({value(Q){Q.target.checked="Off"!==Q.detail.value,e.setValue(o,{value:Q.target.checked})}},l)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class S extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,s=this.data,o=s.id;let u=e.getValue(o,{value:s.fieldValue===s.buttonValue}).value;"string"==typeof u&&(u=u!==s.buttonValue,e.setValue(o,{value:u}));const f=document.createElement("input");if(A.add(f),f.disabled=s.readOnly,f.type="radio",f.name=s.fieldName,u&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.tabIndex=E,f.addEventListener("change",l=>{const{name:k,checked:Q}=l.target;for(const B of this._getElementsByName(k,o))e.setValue(B.id,{value:!1});e.setValue(o,{value:Q})}),f.addEventListener("resetform",l=>{const k=s.defaultFieldValue;l.target.checked=null!=k&&k===s.buttonValue}),this.enableScripting&&this.hasJSActions){const l=s.buttonValue;f.addEventListener("updatefromsandbox",k=>{this._dispatchEventFromSandbox({value:B=>{const Y=l===B.detail.value;for(const $ of this._getElementsByName(B.target.name)){const ie=Y&&$.id===o;$.domElement&&($.domElement.checked=ie),e.setValue($.id,{value:ie})}}},k)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],k=>k.target.checked)}return this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class b extends I{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class y extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,s=this.data.id,o=e.getValue(s,{value:this.data.fieldValue});let{fontSize:u}=this.data.defaultAppearanceData;u||(u=9);const f=`calc(${u}px * var(--zoom-factor))`,l=document.createElement("select");A.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.setAttribute("id",s),l.tabIndex=E,l.style.fontSize=`${u}px`,this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",B=>{const Y=this.data.defaultFieldValue;for(const $ of l.options)$.selected=$.value===Y});for(const B of this.data.options){const Y=document.createElement("option");Y.textContent=B.displayValue,Y.value=B.exportValue,this.data.combo&&(Y.style.fontSize=f),o.value.includes(B.exportValue)&&Y.setAttribute("selected",!0),l.appendChild(Y)}const k=(B,Y)=>{const $=Y?"value":"textContent",ie=B.target.options;return B.target.multiple?Array.prototype.filter.call(ie,ae=>ae.selected).map(ae=>ae[$]):-1===ie.selectedIndex?null:ie[ie.selectedIndex][$]},Q=B=>Array.prototype.map.call(B.target.options,$=>({displayValue:$.textContent,exportValue:$.value}));return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value($){const ie=$.detail.value,ae=new Set(Array.isArray(ie)?ie:[ie]);for(const _e of l.options)_e.selected=ae.has(_e.value);e.setValue(s,{value:k($,!0)})},multipleSelection($){l.multiple=!0},remove($){const ie=l.options,ae=$.detail.remove;ie[ae].selected=!1,l.remove(ae),ie.length>0&&-1===Array.prototype.findIndex.call(ie,Ae=>Ae.selected)&&(ie[0].selected=!0),e.setValue(s,{value:k($,!0),items:Q($)})},clear($){for(;0!==l.length;)l.remove(0);e.setValue(s,{value:null,items:[]})},insert($){const{index:ie,displayValue:ae,exportValue:_e}=$.detail.insert,Ae=document.createElement("option");Ae.textContent=ae,Ae.value=_e,l.insertBefore(Ae,l.children[ie]),e.setValue(s,{value:k($,!0),items:Q($)})},items($){const{items:ie}=$.detail;for(;0!==l.length;)l.remove(0);for(const ae of ie){const{displayValue:_e,exportValue:Ae}=ae,ve=document.createElement("option");ve.textContent=_e,ve.value=Ae,l.appendChild(ve)}l.options.length>0&&(l.options[0].selected=!0),e.setValue(s,{value:k($,!0),items:Q($)})},indices($){const ie=new Set($.detail.indices);for(const ae of $.target.options)ae.selected=ie.has(ae.index);e.setValue(s,{value:k($,!0)})},editable($){$.target.disabled=!$.detail.editable}},B)}),l.addEventListener("input",B=>{const Y=k(B,!0),$=k(B,!1);e.setValue(s,{value:Y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:$,changeEx:Y,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],B=>B.target.checked)):l.addEventListener("input",function(B){e.setValue(s,{value:k(B,!0)})}),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}}class t extends z{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===o.length)return this.container;const u=new n({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),f=this.page,l=i.Util.normalizeRect([this.data.parentRect[0],f.view[3]-this.data.parentRect[1]+f.view[1],this.data.parentRect[2],f.view[3]-this.data.parentRect[3]+f.view[1]]),k=l[0]+this.data.parentRect[2]-this.data.parentRect[0],Q=l[1];return this.container.style.transformOrigin=`${-k}px ${-Q}px`,this.container.style.left=`${k}px`,this.container.style.top=`${Q}px`,this.container.appendChild(u.render()),this.container}}class n{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const s=document.createElement("div");s.className="popupWrapper",this.hideElement=this.hideWrapper?s:this.container,this.hideElement.hidden=!0;const o=document.createElement("div");o.className="popup";const u=this.color;u&&(o.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-u[0])+u[0],0|.7*(255-u[1])+u[1],0|.7*(255-u[2])+u[2]));const f=document.createElement("h1");f.dir=this.titleObj.dir,f.textContent=this.titleObj.str,o.appendChild(f);const l=F.PDFDateString.toDateObject(this.modificationDate);if(l){const k=document.createElement("span");k.className="popupDate",k.textContent="{{date}}, {{time}}",k.dataset.l10nId="annotation_date_string",k.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),o.appendChild(k)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const k=this._formatContents(this.contentsObj);o.appendChild(k)}else T.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:o}),o.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const k of this.trigger)k.addEventListener("click",this._toggle.bind(this)),k.addEventListener("mouseover",this._show.bind(this,!1)),k.addEventListener("mouseout",this._hide.bind(this,!1));return o.addEventListener("click",this._hide.bind(this,!0)),s.appendChild(o),s}_formatContents({str:e,dir:s}){const o=document.createElement("p");o.className="popupContent",o.dir=s;const u=e.split(/(?:\r\n?|\n)/);for(let f=0,l=u.length;f<l;++f)o.appendChild(document.createTextNode(u[f])),f<l-1&&o.appendChild(document.createElement("br"));return o}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class h extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class v extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:s,height:o}=N(e.rect),u=this.svgFactory.create(s,o),f=this.svgFactory.createElement("svg:line");return f.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),f.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),f.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),f.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.appendChild(f),this.container.append(u),this._createPopup(f,e),this.container}}class d extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:s,height:o}=N(e.rect),u=this.svgFactory.create(s,o),f=e.borderStyle.width,l=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",f/2),l.setAttribute("y",f/2),l.setAttribute("width",s-f),l.setAttribute("height",o-f),l.setAttribute("stroke-width",f||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class _ extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:s,height:o}=N(e.rect),u=this.svgFactory.create(s,o),f=e.borderStyle.width,l=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",s/2),l.setAttribute("cy",o/2),l.setAttribute("rx",s/2-f/2),l.setAttribute("ry",o/2-f/2),l.setAttribute("stroke-width",f||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class p extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:o}=N(e.rect),u=this.svgFactory.create(s,o);let f=[];for(const k of e.vertices)f.push(k.x-e.rect[0]+","+(e.rect[3]-k.y));f=f.join(" ");const l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",f),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.appendChild(l),this.container.append(u),this._createPopup(l,e),this.container}}class c extends p{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class L extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class M extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:s,height:o}=N(e.rect),u=this.svgFactory.create(s,o);for(const f of e.inkLists){let l=[];for(const Q of f)l.push(`${Q.x-e.rect[0]},${e.rect[3]-Q.y}`);l=l.join(" ");const k=this.svgFactory.createElement(this.svgElementName);k.setAttribute("points",l),k.setAttribute("stroke-width",e.borderStyle.width||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),this._createPopup(k,e),u.appendChild(k)}return this.container.append(u),this.container}}class V extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class K extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Z extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ee extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class oe extends z{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ge extends z{constructor(e){super(e,{isRenderable:!0});const{filename:s,content:o}=this.data.file;this.filename=(0,F.getFilenameFromUrl)(s),this.content=o,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:s,content:o})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class de{static render(e){const s=[],o=[];for(const f of e.annotations){if(!f)continue;const{width:l,height:k}=N(f.rect);if(!(l<=0||k<=0)){if(f.annotationType===i.AnnotationType.POPUP){o.push(f);continue}s.push(f)}}o.length&&s.push(...o);const u=e.div;for(const f of s){const l=j.create({data:f,layer:u,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new F.DOMSVGFactory,annotationStorage:e.annotationStorage||new C.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(l.isRenderable){const k=l.render();if(f.hidden&&(k.style.visibility="hidden"),Array.isArray(k))for(const Q of k)u.appendChild(Q);else l instanceof t?u.prepend(k):u.appendChild(k)}}_classStaticPrivateMethodGet(this,de,R).call(this,u,e.annotationCanvasMap)}static update(e){const{page:s,viewport:o,annotations:u,annotationCanvasMap:f,div:l}=e,k=o.transform,Q=`matrix(${k.join(",")})`;let B,Y;for(const $ of u){const ie=l.querySelectorAll(`[data-annotation-id="${$.id}"]`);if(ie)for(const ae of ie)if($.hasOwnCanvas){const _e=i.Util.normalizeRect([$.rect[0],s.view[3]-$.rect[1]+s.view[1],$.rect[2],s.view[3]-$.rect[3]+s.view[1]]);if(!Y){B=Math.abs(k[0]||k[1]);const ye=k.slice();for(let ue=0;ue<4;ue++)ye[ue]=Math.sign(ye[ue]);Y=`matrix(${ye.join(",")})`}const Ae=_e[0]*B,ve=_e[1]*B;ae.style.left=`${Ae}px`,ae.style.top=`${ve}px`,ae.style.transformOrigin=`${-Ae}px ${-ve}px`,ae.style.transform=Y}else ae.style.transform=Q}_classStaticPrivateMethodGet(this,de,R).call(this,l,f),l.hidden=!1}}function R(r,e){if(e){for(const[s,o]of e){const u=r.querySelector(`[data-annotation-id="${s}"]`);if(!u)continue;const{firstChild:f}=u;"CANVAS"===f.nodeName?u.replaceChild(o,f):u.insertBefore(o,f)}e.clear()}}a.AnnotationLayer=de},(G,a)=>{function P(F){return Math.floor(255*Math.max(0,Math.min(1,F))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class i{static CMYK_G([C,H,T,E]){return["G",1-Math.min(1,.3*C+.59*T+.11*H+E)]}static G_CMYK([C]){return["CMYK",0,0,0,1-C]}static G_RGB([C]){return["RGB",C,C,C]}static G_HTML([C]){const H=P(C);return`#${H}${H}${H}`}static RGB_G([C,H,T]){return["G",.3*C+.59*H+.11*T]}static RGB_HTML([C,H,T]){return`#${P(C)}${P(H)}${P(T)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([C,H,T,E]){return["RGB",1-Math.min(1,C+E),1-Math.min(1,T+E),1-Math.min(1,H+E)]}static CMYK_HTML(C){return this.RGB_HTML(this.CMYK_RGB(C))}static RGB_CMYK([C,H,T]){const E=1-C,A=1-H,N=1-T;return["CMYK",E,A,N,Math.min(E,A,N)]}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var i=P(18);a.XfaLayer=class F{static setupStorage(H,T,E,A,N){const j=A.getValue(T,{value:null});switch(E.name){case"textarea":if(null!==j.value&&(H.textContent=j.value),"print"===N)break;H.addEventListener("input",z=>{A.setValue(T,{value:z.target.value})});break;case"input":if("radio"===E.attributes.type||"checkbox"===E.attributes.type){if(j.value===E.attributes.xfaOn?H.setAttribute("checked",!0):j.value===E.attributes.xfaOff&&H.removeAttribute("checked"),"print"===N)break;H.addEventListener("change",z=>{A.setValue(T,{value:z.target.getAttribute(z.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==j.value&&H.setAttribute("value",j.value),"print"===N)break;H.addEventListener("input",z=>{A.setValue(T,{value:z.target.value})})}break;case"select":if(null!==j.value)for(const z of E.children)z.attributes.value===j.value&&(z.attributes.selected=!0);H.addEventListener("input",z=>{const I=z.target.options;A.setValue(T,{value:-1===I.selectedIndex?"":I[I.selectedIndex].value})})}}static setAttributes({html:H,element:T,storage:E=null,intent:A,linkService:N}){const{attributes:j}=T,z=H instanceof HTMLAnchorElement;"radio"===j.type&&(j.name=`${j.name}-${A}`);for(const[I,W]of Object.entries(j))if(null!=W&&"dataId"!==I)if("style"!==I)if("textContent"===I)H.textContent=W;else if("class"===I)W.length&&H.setAttribute(I,W.join(" "));else{if(z&&("href"===I||"newWindow"===I))continue;H.setAttribute(I,W)}else Object.assign(H.style,W);z&&N.addLinkAttributes(H,j.href,j.newWindow),E&&j.dataId&&this.setupStorage(H,j.dataId,T,E)}static render(H){const T=H.annotationStorage,E=H.linkService,A=H.xfaHtml,N=H.intent||"display",j=document.createElement(A.name);A.attributes&&this.setAttributes({html:j,element:A,intent:N,linkService:E});const z=[[A,-1,j]],I=H.div;if(I.appendChild(j),H.viewport){const g=`matrix(${H.viewport.transform.join(",")})`;I.style.transform=g}"richText"!==N&&I.setAttribute("class","xfaLayer xfaFont");const W=[];for(;z.length>0;){const[g,x,m]=z[z.length-1];if(x+1===g.children.length){z.pop();continue}const S=g.children[++z[z.length-1][1]];if(null===S)continue;const{name:b}=S;if("#text"===b){const t=document.createTextNode(S.value);W.push(t),m.appendChild(t);continue}let y;if(y=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,b):document.createElement(b),m.appendChild(y),S.attributes&&this.setAttributes({html:y,element:S,storage:T,intent:N,linkService:E}),S.children&&S.children.length>0)z.push([S,-1,y]);else if(S.value){const t=document.createTextNode(S.value);i.XfaText.shouldBuildText(b)&&W.push(t),y.appendChild(t)}}for(const g of I.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:W}}static update(H){const T=`matrix(${H.viewport.transform.join(",")})`;H.div.style.transform=T,H.div.hidden=!1}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function m(S){const b=new x({textContent:S.textContent,textContentStream:S.textContentStream,container:S.container,viewport:S.viewport,textDivs:S.textDivs,textContentItemsStr:S.textContentItemsStr,enhanceTextSelection:S.enhanceTextSelection});return b._render(S.timeout),b};var i=P(1);const F=1e5,C=30,H=.8,T=new Map,E=/^\s+$/g;function N(S,b,y,t){const n=document.createElement("span"),h=S._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL};S._textDivs.push(n);const v=i.Util.transform(S._viewport.transform,b.transform);let d=Math.atan2(v[1],v[0]);const _=y[b.fontName];_.vertical&&(d+=Math.PI/2);const p=Math.hypot(v[2],v[3]),c=p*function A(S,b){const y=T.get(S);if(y)return y;b.save(),b.font=`${C}px ${S}`;const t=b.measureText("");let n=t.fontBoundingBoxAscent,h=Math.abs(t.fontBoundingBoxDescent);if(n){b.restore();const d=n/(n+h);return T.set(S,d),d}b.strokeStyle="red",b.clearRect(0,0,C,C),b.strokeText("g",0,0);let v=b.getImageData(0,0,C,C).data;h=0;for(let d=v.length-1-3;d>=0;d-=4)if(v[d]>0){h=Math.ceil(d/4/C);break}b.clearRect(0,0,C,C),b.strokeText("A",0,C),v=b.getImageData(0,0,C,C).data,n=0;for(let d=0,_=v.length;d<_;d+=4)if(v[d]>0){n=C-Math.floor(d/4/C);break}if(b.restore(),n){const d=n/(n+h);return T.set(S,d),d}return T.set(S,H),H}(_.fontFamily,t);let L,M;0===d?(L=v[4],M=v[5]-c):(L=v[4]+c*Math.sin(d),M=v[5]-c*Math.cos(d)),n.style.left=`${L}px`,n.style.top=`${M}px`,n.style.fontSize=`${p}px`,n.style.fontFamily=_.fontFamily,n.setAttribute("role","presentation"),n.textContent=b.str,n.dir=b.dir,S._fontInspectorEnabled&&(n.dataset.fontName=b.fontName),0!==d&&(h.angle=d*(180/Math.PI));let V=!1;if(b.str.length>1||S._enhanceTextSelection&&E.test(b.str))V=!0;else if(" "!==b.str&&b.transform[0]!==b.transform[3]){const K=Math.abs(b.transform[0]),Z=Math.abs(b.transform[3]);K!==Z&&Math.max(K,Z)/Math.min(K,Z)>1.5&&(V=!0)}if(V&&(h.canvasWidth=_.vertical?b.height*S._viewport.scale:b.width*S._viewport.scale),S._textDivProperties.set(n,h),S._textContentStream&&S._layoutText(n),S._enhanceTextSelection&&h.hasText){let K=1,Z=0;0!==d&&(K=Math.cos(d),Z=Math.sin(d));const ee=(_.vertical?b.height:b.width)*S._viewport.scale,oe=p;let ge,de;0!==d?(ge=[K,Z,-Z,K,L,M],de=i.Util.getAxialAlignedBoundingBox([0,0,ee,oe],ge)):de=[L,M,L+ee,M+oe],S._bounds.push({left:de[0],top:de[1],right:de[2],bottom:de[3],div:n,size:[ee,oe],m:ge})}}function j(S){if(S._canceled)return;const b=S._textDivs,y=S._capability,t=b.length;if(t>F)return S._renderingDone=!0,void y.resolve();if(!S._textContentStream)for(let n=0;n<t;n++)S._layoutText(b[n]);S._renderingDone=!0,y.resolve()}function z(S,b,y){let t=0;for(let n=0;n<y;n++){const h=S[b++];h>0&&(t=t?Math.min(h,t):h)}return t}function g(S,b){b.sort(function(n,h){return n.x1-h.x1||n.index-h.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of b){let h=0;for(;h<t.length&&t[h].end<=n.y1;)h++;let v=t.length-1;for(;v>=0&&t[v].start>=n.y2;)v--;let d,_,p,c,L=-1/0;for(p=h;p<=v;p++){let K;d=t[p],_=d.boundary,K=_.x2>n.x1?_.index>n.index?_.x1New:n.x1:void 0===_.x2New?(_.x2+n.x1)/2:_.x2New,K>L&&(L=K)}for(n.x1New=L,p=h;p<=v;p++)d=t[p],_=d.boundary,void 0===_.x2New?_.x2>n.x1?_.index>n.index&&(_.x2New=_.x2):_.x2New=L:_.x2New>L&&(_.x2New=Math.max(L,_.x2));const M=[];let V=null;for(p=h;p<=v;p++){d=t[p],_=d.boundary;const K=_.x2>n.x2?_:n;V===K?M[M.length-1].end=d.end:(M.push({start:d.start,end:d.end,boundary:K}),V=K)}for(t[h].start<n.y1&&(M[0].start=n.y1,M.unshift({start:t[h].start,end:n.y1,boundary:t[h].boundary})),n.y2<t[v].end&&(M[M.length-1].end=n.y2,M.push({start:n.y2,end:t[v].end,boundary:t[v].boundary})),p=h;p<=v;p++){if(d=t[p],_=d.boundary,void 0!==_.x2New)continue;let K=!1;for(c=h-1;!K&&c>=0&&t[c].start>=_.y1;c--)K=t[c].boundary===_;for(c=v+1;!K&&c<t.length&&t[c].end<=_.y2;c++)K=t[c].boundary===_;for(c=0;!K&&c<M.length;c++)K=M[c].boundary===_;K||(_.x2New=L)}Array.prototype.splice.apply(t,[h,v-h+1].concat(M))}for(const n of t){const h=n.boundary;void 0===h.x2New&&(h.x2New=Math.max(S,h.x2))}}class x{constructor({textContent:b,textContentStream:y,container:t,viewport:n,textDivs:h,textContentItemsStr:v,enhanceTextSelection:d}){this._textContent=b,this._textContentStream=y,this._container=t,this._document=t.ownerDocument,this._viewport=n,this._textDivs=h||[],this._textContentItemsStr=v||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(b,y){for(let t=0,n=b.length;t<n;t++)if(void 0!==b[t].str)this._textContentItemsStr.push(b[t].str),N(this,b[t],y,this._layoutTextCtx);else if("beginMarkedContentProps"===b[t].type||"beginMarkedContent"===b[t].type){const h=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[t].id&&this._container.setAttribute("id",`${b[t].id}`),h.appendChild(this._container)}else"endMarkedContent"===b[t].type&&(this._container=this._container.parentNode)}_layoutText(b){const y=this._textDivProperties.get(b);let t="";if(0!==y.canvasWidth&&y.hasText){const{fontSize:n,fontFamily:h}=b.style;(n!==this._layoutTextLastFontSize||h!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${h}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=h);const{width:v}=this._layoutTextCtx.measureText(b.textContent);if(v>0){const d=y.canvasWidth/v;this._enhanceTextSelection&&(y.scale=d),t=`scaleX(${d})`}}if(0!==y.angle&&(t=`rotate(${y.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(y.originalTransform=t),b.style.transform=t),y.hasText&&this._container.appendChild(b),y.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(b=0){const y=(0,i.createPromiseCapability)();let t=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=C,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),y.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const h=()=>{this._reader.read().then(({value:v,done:d})=>{d?y.resolve():(Object.assign(t,v.styles),this._processItems(v.items,t),h())},y.reject)};this._reader=this._textContentStream.getReader(),h()}}y.promise.then(()=>{t=null,b?this._renderTimer=setTimeout(()=>{j(this),this._renderTimer=null},b):j(this)},this._capability.reject)}expandTextDivs(b=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function I(S){const b=S._bounds,y=S._viewport,t=function W(S,b,y){const t=y.map(function(h,v){return{x1:h.left,y1:h.top,x2:h.right,y2:h.bottom,index:v,x1New:void 0,x2New:void 0}});g(S,t);const n=new Array(y.length);for(const h of t)n[h.index]={left:h.x1New,top:0,right:h.x2New,bottom:0};y.map(function(h,v){const d=n[v],_=t[v];_.x1=h.top,_.y1=S-d.right,_.x2=h.bottom,_.y2=S-d.left,_.index=v,_.x1New=void 0,_.x2New=void 0}),g(b,t);for(const h of t){const v=h.index;n[v].top=h.x1New,n[v].bottom=h.x2New}return n}(y.width,y.height,b);for(let n=0;n<t.length;n++){const h=b[n].div,v=S._textDivProperties.get(h);if(0===v.angle){v.paddingLeft=b[n].left-t[n].left,v.paddingTop=b[n].top-t[n].top,v.paddingRight=t[n].right-b[n].right,v.paddingBottom=t[n].bottom-b[n].bottom,S._textDivProperties.set(h,v);continue}const d=t[n],_=b[n],p=_.m,c=p[0],L=p[1],M=[[0,0],[0,_.size[1]],[_.size[0],0],_.size],V=new Float64Array(64);for(let Z=0,ee=M.length;Z<ee;Z++){const oe=i.Util.applyTransform(M[Z],p);V[Z+0]=c&&(d.left-oe[0])/c,V[Z+4]=L&&(d.top-oe[1])/L,V[Z+8]=c&&(d.right-oe[0])/c,V[Z+12]=L&&(d.bottom-oe[1])/L,V[Z+16]=L&&(d.left-oe[0])/-L,V[Z+20]=c&&(d.top-oe[1])/c,V[Z+24]=L&&(d.right-oe[0])/-L,V[Z+28]=c&&(d.bottom-oe[1])/c,V[Z+32]=c&&(d.left-oe[0])/-c,V[Z+36]=L&&(d.top-oe[1])/-L,V[Z+40]=c&&(d.right-oe[0])/-c,V[Z+44]=L&&(d.bottom-oe[1])/-L,V[Z+48]=L&&(d.left-oe[0])/L,V[Z+52]=c&&(d.top-oe[1])/-c,V[Z+56]=L&&(d.right-oe[0])/L,V[Z+60]=c&&(d.bottom-oe[1])/-c}const K=1+Math.min(Math.abs(c),Math.abs(L));v.paddingLeft=z(V,32,16)/K,v.paddingTop=z(V,48,16)/K,v.paddingRight=z(V,0,16)/K,v.paddingBottom=z(V,16,16)/K,S._textDivProperties.set(h,v)}}(this),this._bounds=null);const y=[],t=[];for(let n=0,h=this._textDivs.length;n<h;n++){const v=this._textDivs[n],d=this._textDivProperties.get(v);d.hasText&&(b?(y.length=0,t.length=0,d.originalTransform&&y.push(d.originalTransform),d.paddingTop>0?(t.push(`${d.paddingTop}px`),y.push(`translateY(${-d.paddingTop}px)`)):t.push(0),t.push(d.paddingRight>0?d.paddingRight/d.scale+"px":0),t.push(d.paddingBottom>0?`${d.paddingBottom}px`:0),d.paddingLeft>0?(t.push(d.paddingLeft/d.scale+"px"),y.push(`translateX(${-d.paddingLeft/d.scale}px)`)):t.push(0),v.style.padding=t.join(" "),y.length&&(v.style.transform=y.join(" "))):(v.style.padding=null,v.style.transform=d.originalTransform))}}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var i=P(1),F=P(5),C=P(3);let H=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=H;{let g=function(t){let n=[];const h=[];for(const v of t)"save"!==v.fn?"restore"===v.fn?n=h.pop():n.push(v):(n.push({fnId:92,fn:"group",items:[]}),h.push(n),n=n[n.length-1].items);return n},x=function(t){if(Number.isInteger(t))return t.toString();const n=t.toFixed(10);let h=n.length-1;if("0"!==n[h])return n;do{h--}while("0"===n[h]);return n.substring(0,"."===n[h]?h:h+1)},m=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${x(t[0])} ${x(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const n=180*Math.acos(t[0])/Math.PI;return`rotate(${x(n)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${x(t[4])} ${x(t[5])})`;return`matrix(${x(t[0])} ${x(t[1])} ${x(t[2])} ${x(t[3])} ${x(t[4])} ${x(t[5])})`};const T={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},E="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",N=["butt","round","square"],j=["miter","round","bevel"],z=function(t,n="",h=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!h)return URL.createObjectURL(new Blob([t],{type:n}));const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${n};base64,`;for(let _=0,p=t.length;_<p;_+=3){const c=255&t[_],L=255&t[_+1],M=255&t[_+2];d+=v[c>>2]+v[(3&c)<<4|L>>4]+v[_+1<p?(15&L)<<2|M>>6:64]+v[_+2<p?63&M:64]}return d},I=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),n=12,h=new Int32Array(256);for(let M=0;M<256;M++){let V=M;for(let K=0;K<8;K++)V=1&V?3988292384^V>>1&2147483647:V>>1&2147483647;h[M]=V}function d(M,V,K,Z){let ee=Z;const oe=V.length;K[ee]=oe>>24&255,K[ee+1]=oe>>16&255,K[ee+2]=oe>>8&255,K[ee+3]=255&oe,ee+=4,K[ee]=255&M.charCodeAt(0),K[ee+1]=255&M.charCodeAt(1),K[ee+2]=255&M.charCodeAt(2),K[ee+3]=255&M.charCodeAt(3),ee+=4,K.set(V,ee),ee+=V.length;const ge=function v(M,V,K){let Z=-1;for(let ee=V;ee<K;ee++)Z=Z>>>8^h[255&(Z^M[ee])];return-1^Z}(K,Z+4,ee);K[ee]=ge>>24&255,K[ee+1]=ge>>16&255,K[ee+2]=ge>>8&255,K[ee+3]=255&ge}function c(M){let V=M.length;const K=65535,Z=Math.ceil(V/K),ee=new Uint8Array(2+V+5*Z+4);let oe=0;ee[oe++]=120,ee[oe++]=156;let ge=0;for(;V>K;)ee[oe++]=0,ee[oe++]=255,ee[oe++]=255,ee[oe++]=0,ee[oe++]=0,ee.set(M.subarray(ge,ge+K),oe),oe+=K,ge+=K,V-=K;ee[oe++]=1,ee[oe++]=255&V,ee[oe++]=V>>8&255,ee[oe++]=255&~V,ee[oe++]=(65535&~V)>>8&255,ee.set(M.subarray(ge),oe),oe+=M.length-ge;const de=function _(M,V,K){let Z=1,ee=0;for(let oe=V;oe<K;++oe)Z=(Z+(255&M[oe]))%65521,ee=(ee+Z)%65521;return ee<<16|Z}(M,0,M.length);return ee[oe++]=de>>24&255,ee[oe++]=de>>16&255,ee[oe++]=de>>8&255,ee[oe++]=255&de,ee}return function(V,K,Z){return function L(M,V,K,Z){const ee=M.width,oe=M.height;let ge,de,R;const r=M.data;switch(V){case i.ImageKind.GRAYSCALE_1BPP:de=0,ge=1,R=ee+7>>3;break;case i.ImageKind.RGB_24BPP:de=2,ge=8,R=3*ee;break;case i.ImageKind.RGBA_32BPP:de=6,ge=8,R=4*ee;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+R)*oe);let s=0,o=0;for(let B=0;B<oe;++B)e[s++]=0,e.set(r.subarray(o,o+R),s),o+=R,s+=R;if(V===i.ImageKind.GRAYSCALE_1BPP&&Z){s=0;for(let B=0;B<oe;B++){s++;for(let Y=0;Y<R;Y++)e[s++]^=255}}const u=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,255&ee,oe>>24&255,oe>>16&255,oe>>8&255,255&oe,ge,de,0,0,0]),f=function p(M){if(!C.isNodeJS)return c(M);try{let V;V=parseInt(process.versions.node)>=8?M:Buffer.from(M);const K=__webpack_require__(2258).deflateSync(V,{level:9});return K instanceof Uint8Array?K:new Uint8Array(K)}catch(V){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+V)}return c(M)}(e),k=new Uint8Array(t.length+3*n+u.length+f.length);let Q=0;return k.set(t,Q),Q+=t.length,d("IHDR",u,k,Q),Q+=n+u.length,d("IDATA",f,k,Q),Q+=n+f.length,d("IEND",new Uint8Array(0),k,Q),z(k,"image/png",K)}(V,void 0===V.kind?i.ImageKind.GRAYSCALE_1BPP:V.kind,K,Z)}}();class W{constructor(){this.fontSizeScale=1,this.fontWeight=T.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=T.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,h){this.x=n,this.y=h}}let S=0,b=0,y=0;a.SVGGraphics=H=class{constructor(t,n,h=!1){this.svgFactory=new F.DOMSVGFactory,this.current=new W,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!h,this._operatorIdMapping=[];for(const v in i.OPS)this._operatorIdMapping[i.OPS[v]]=v}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const n=t.fnArray,h=t.argsArray;for(let v=0,d=n.length;v<d;v++)if(n[v]===i.OPS.dependency)for(const _ of h[v]){const p=_.startsWith("g_")?this.commonObjs:this.objs,c=new Promise(L=>{p.get(_,L)});this.current.dependencies.push(c)}return Promise.all(this.current.dependencies)}transform(t,n,h,v,d,_){this.transformMatrix=i.Util.transform(this.transformMatrix,[t,n,h,v,d,_]),this.tgrp=null}getSVG(t,n){this.viewport=n;const h=this._initialize(n);return this.loadDependencies(t).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),h))}convertOpList(t){const n=this._operatorIdMapping,h=t.argsArray,v=t.fnArray,d=[];for(let _=0,p=v.length;_<p;_++){const c=v[_];d.push({fnId:c,fn:n[c],args:h[_]})}return g(d)}executeOpTree(t){for(const n of t){const h=n.fn,d=n.args;switch(0|n.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(d);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(d[0],d[1]);break;case i.OPS.setFont:this.setFont(d);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(d[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(d[0],d[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(d[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(d[0]);break;case i.OPS.setHScale:this.setHScale(d[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(d[0],d[1],d[2],d[3],d[4],d[5]);break;case i.OPS.setTextRise:this.setTextRise(d[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(d[0]);break;case i.OPS.setLineWidth:this.setLineWidth(d[0]);break;case i.OPS.setLineJoin:this.setLineJoin(d[0]);break;case i.OPS.setLineCap:this.setLineCap(d[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(d[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(d[0],d[1],d[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(d[0],d[1],d[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(d);break;case i.OPS.setFillColorN:this.setFillColorN(d);break;case i.OPS.shadingFill:this.shadingFill(d[0]);break;case i.OPS.setDash:this.setDash(d[0],d[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(d[0]);break;case i.OPS.setFlatness:this.setFlatness(d[0]);break;case i.OPS.setGState:this.setGState(d[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(d[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(d[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(d[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(d[0],d[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(d[0],d[1],d[2],d[3],d[4],d[5]);break;case i.OPS.constructPath:this.constructPath(d[0],d[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,i.warn)(`Unimplemented operator ${h}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,n,h,v,d,_){const p=this.current;p.textMatrix=p.lineMatrix=[t,n,h,v,d,_],p.textMatrixScale=Math.hypot(t,n),p.x=p.lineX=0,p.y=p.lineY=0,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${x(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",x(-p.y)),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtElement.appendChild(p.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,n){const h=this.current;h.x=h.lineX+=t,h.y=h.lineY+=n,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${x(h.fontSize)}px`),h.tspan.setAttributeNS(null,"y",x(-h.y))}showText(t){const n=this.current,h=n.font,v=n.fontSize;if(0===v)return;const d=n.fontSizeScale,_=n.charSpacing,p=n.wordSpacing,c=n.fontDirection,L=n.textHScale*c,M=h.vertical,V=M?1:-1,K=h.defaultVMetrics,Z=v*n.fontMatrix[0];let ee=0;for(const de of t){if(null===de){ee+=c*p;continue}if("number"==typeof de){ee+=V*de*v/1e3;continue}const R=(de.isSpace?p:0)+_,r=de.fontChar;let e,s,u,o=de.width;if(M){let f;const l=de.vmetric||K;f=de.vmetric?l[1]:.5*o,f=-f*Z,o=l?-l[0]:o,e=f/d,s=(ee+l[2]*Z)/d}else e=ee/d,s=0;(de.isInFont||h.missingFile)&&(n.xcoords.push(n.x+e),M&&n.ycoords.push(-n.y+s),n.tspan.textContent+=r),u=M?o*Z-R*c:o*Z+R*c,ee+=u}n.tspan.setAttributeNS(null,"x",n.xcoords.map(x).join(" ")),n.tspan.setAttributeNS(null,"y",M?n.ycoords.map(x).join(" "):x(-n.y)),M?n.y-=ee:n.x+=ee*L,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${x(n.fontSize)}px`),n.fontStyle!==T.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==T.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const oe=n.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;oe===i.TextRenderingMode.FILL||oe===i.TextRenderingMode.FILL_STROKE?(n.fillColor!==T.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(oe===i.TextRenderingMode.STROKE||oe===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let ge=n.textMatrix;0!==n.textRise&&(ge=ge.slice(),ge[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${m(ge)} scale(${x(L)}, -1)`),n.txtElement.setAttributeNS(E,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=z(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${n}); }\n`}setFont(t){const n=this.current,h=this.commonObjs.get(t[0]);let v=t[1];n.font=h,this.embedFonts&&!h.missingFile&&!this.embeddedFonts[h.loadedName]&&(this.addFontStyle(h),this.embeddedFonts[h.loadedName]=h),n.fontMatrix=h.fontMatrix||i.FONT_IDENTITY_MATRIX;let d="normal";h.black?d="900":h.bold&&(d="bold");const _=h.italic?"italic":"normal";v<0?(v=-v,n.fontDirection=-1):n.fontDirection=1,n.fontSize=v,n.fontFamily=h.loadedName,n.fontWeight=d,n.fontStyle=_,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",x(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=N[t]}setLineJoin(t){this.current.lineJoin=j[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,n,h){this.current.strokeColor=i.Util.makeHexColor(t,n,h)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,n,h){this.current.fillColor=i.Util.makeHexColor(t,n,h),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const n=this.viewport.width,h=this.viewport.height,v=i.Util.inverseTransform(this.transformMatrix),d=i.Util.applyTransform([0,0],v),_=i.Util.applyTransform([0,h],v),p=i.Util.applyTransform([n,0],v),c=i.Util.applyTransform([n,h],v),L=Math.min(d[0],_[0],p[0],c[0]),M=Math.min(d[1],_[1],p[1],c[1]),V=Math.max(d[0],_[0],p[0],c[0]),K=Math.max(d[1],_[1],p[1],c[1]),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x",L),Z.setAttributeNS(null,"y",M),Z.setAttributeNS(null,"width",V-L),Z.setAttributeNS(null,"height",K-M),Z.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&Z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Z)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const n=t[1],h=t[2],v=t[3]||i.IDENTITY_MATRIX,[d,_,p,c]=t[4],L=t[5],M=t[6],V=t[7],K="shading"+y++,[Z,ee,oe,ge]=i.Util.normalizeRect([...i.Util.applyTransform([d,_],v),...i.Util.applyTransform([p,c],v)]),[de,R]=i.Util.singularValueDecompose2dScale(v),r=L*de,e=M*R,s=this.svgFactory.createElement("svg:pattern");s.setAttributeNS(null,"id",K),s.setAttributeNS(null,"patternUnits","userSpaceOnUse"),s.setAttributeNS(null,"width",r),s.setAttributeNS(null,"height",e),s.setAttributeNS(null,"x",`${Z}`),s.setAttributeNS(null,"y",`${ee}`);const o=this.svg,u=this.transformMatrix,f=this.current.fillColor,l=this.current.strokeColor,k=this.svgFactory.create(oe-Z,ge-ee);if(this.svg=k,this.transformMatrix=v,2===V){const Q=i.Util.makeHexColor(...n);this.current.fillColor=Q,this.current.strokeColor=Q}return this.executeOpTree(this.convertOpList(h)),this.svg=o,this.transformMatrix=u,this.current.fillColor=f,this.current.strokeColor=l,s.appendChild(k.childNodes[0]),this.defs.appendChild(s),`url(#${K})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const n="shading"+y++,h=t[3];let v;switch(t[1]){case"axial":const d=t[4],_=t[5];v=this.svgFactory.createElement("svg:linearGradient"),v.setAttributeNS(null,"id",n),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"x1",d[0]),v.setAttributeNS(null,"y1",d[1]),v.setAttributeNS(null,"x2",_[0]),v.setAttributeNS(null,"y2",_[1]);break;case"radial":const p=t[4],c=t[5],L=t[6],M=t[7];v=this.svgFactory.createElement("svg:radialGradient"),v.setAttributeNS(null,"id",n),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"cx",c[0]),v.setAttributeNS(null,"cy",c[1]),v.setAttributeNS(null,"r",M),v.setAttributeNS(null,"fx",p[0]),v.setAttributeNS(null,"fy",p[1]),v.setAttributeNS(null,"fr",L);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const d of h){const _=this.svgFactory.createElement("svg:stop");_.setAttributeNS(null,"offset",d[0]),_.setAttributeNS(null,"stop-color",d[1]),v.appendChild(_)}return this.defs.appendChild(v),`url(#${n})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,n){this.current.dashArray=t,this.current.dashPhase=n}constructPath(t,n){const h=this.current;let v=h.x,d=h.y,_=[],p=0;for(const c of t)switch(0|c){case i.OPS.rectangle:v=n[p++],d=n[p++];const V=v+n[p++],K=d+n[p++];_.push("M",x(v),x(d),"L",x(V),x(d),"L",x(V),x(K),"L",x(v),x(K),"Z");break;case i.OPS.moveTo:v=n[p++],d=n[p++],_.push("M",x(v),x(d));break;case i.OPS.lineTo:v=n[p++],d=n[p++],_.push("L",x(v),x(d));break;case i.OPS.curveTo:v=n[p+4],d=n[p+5],_.push("C",x(n[p]),x(n[p+1]),x(n[p+2]),x(n[p+3]),x(v),x(d)),p+=6;break;case i.OPS.curveTo2:_.push("C",x(v),x(d),x(n[p]),x(n[p+1]),x(n[p+2]),x(n[p+3])),v=n[p+2],d=n[p+3],p+=4;break;case i.OPS.curveTo3:v=n[p+2],d=n[p+3],_.push("C",x(n[p]),x(n[p+1]),x(v),x(d),x(v),x(d)),p+=4;break;case i.OPS.closePath:_.push("Z")}_=_.join(" "),h.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?_=h.path.getAttributeNS(null,"d")+_:(h.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(h.path)),h.path.setAttributeNS(null,"d",_),h.path.setAttributeNS(null,"fill","none"),h.element=h.path,h.setCurrentPoint(v,d)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const n="clippath"+S++,h=this.svgFactory.createElement("svg:clipPath");h.setAttributeNS(null,"id",n),h.setAttributeNS(null,"transform",m(this.transformMatrix));const v=t.element.cloneNode(!0);if(v.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,h.appendChild(v),this.defs.appendChild(h),t.activeClipUrl){t.clipGroup=null;for(const d of this.extraStack)d.clipGroup=null;h.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const n=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",n)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,h]of t)switch(n){case"LW":this.setLineWidth(h);break;case"LC":this.setLineCap(h);break;case"LJ":this.setLineJoin(h);break;case"ML":this.setMiterLimit(h);break;case"D":this.setDash(h[0],h[1]);break;case"RI":this.setRenderingIntent(h);break;case"FL":this.setFlatness(h);break;case"Font":this.setFont(h);break;case"CA":this.setStrokeAlpha(h);break;case"ca":this.setFillAlpha(h);break;default:(0,i.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,n=1){const h=this.current;let v=h.dashArray;1!==n&&v.length>0&&(v=v.map(function(d){return n*d})),t.setAttributeNS(null,"stroke",h.strokeColor),t.setAttributeNS(null,"stroke-opacity",h.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",x(h.miterLimit)),t.setAttributeNS(null,"stroke-linecap",h.lineCap),t.setAttributeNS(null,"stroke-linejoin",h.lineJoin),t.setAttributeNS(null,"stroke-width",x(n*h.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",v.map(x).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",x(n*h.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);n?this.paintInlineImageXObject(n):(0,i.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,n){const h=t.width,v=t.height,d=I(t,this.forceDataSchema,!!n),_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width",x(h)),_.setAttributeNS(null,"height",x(v)),this.current.element=_,this.clip("nonzero");const p=this.svgFactory.createElement("svg:image");p.setAttributeNS(A,"xlink:href",d),p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y",x(-v)),p.setAttributeNS(null,"width",x(h)+"px"),p.setAttributeNS(null,"height",x(v)+"px"),p.setAttributeNS(null,"transform",`scale(${x(1/h)} ${x(-1/v)})`),n?n.appendChild(p):this._ensureTransformGroup().appendChild(p)}paintImageMaskXObject(t){const n=this.current,h=t.width,v=t.height,d=n.fillColor;n.maskId="mask"+b++;const _=this.svgFactory.createElement("svg:mask");_.setAttributeNS(null,"id",n.maskId);const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width",x(h)),p.setAttributeNS(null,"height",x(v)),p.setAttributeNS(null,"fill",d),p.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(_),this._ensureTransformGroup().appendChild(p),this.paintInlineImageXObject(t,_)}paintFormXObjectBegin(t,n){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){const h=n[2]-n[0],v=n[3]-n[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",n[0]),d.setAttributeNS(null,"y",n[1]),d.setAttributeNS(null,"width",x(h)),d.setAttributeNS(null,"height",x(v)),this.current.element=d,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const n=this.svgFactory.create(t.width,t.height),h=this.svgFactory.createElement("svg:defs");n.appendChild(h),this.defs=h;const v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",m(t.transform)),n.appendChild(v),this.svg=v,n}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var i=P(1),F=P(26);const C=__webpack_require__(172),H=__webpack_require__(2001),T=__webpack_require__(3779),E=__webpack_require__(6558),A=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class j{constructor(y){this.source=y,this.url=function N(b){const y=E.parse(b);return"file:"===y.protocol||y.host?y:/^[a-z]:[/\\]/i.test(b)?E.parse(`file:///${b}`):(y.host||(y.protocol="file:"),y)}(y.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new g(this),this._fullRequestReader}getRangeReader(y,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new S(this,y,t):new x(this,y,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const t of this._rangeRequestReaders.slice(0))t.cancel(y)}};class z{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=y.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){if(yield y._readCapability.promise,y._done)return{value:void 0,done:!0};if(y._storedError)throw y._storedError;const t=y._readableStream.read();return null===t?(y._readCapability=(0,i.createPromiseCapability)(),y.read()):(y._loaded+=t.length,y.onProgress&&y.onProgress({loaded:y._loaded,total:y._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class I{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!y.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){if(yield y._readCapability.promise,y._done)return{value:void 0,done:!0};if(y._storedError)throw y._storedError;const t=y._readableStream.read();return null===t?(y._readCapability=(0,i.createPromiseCapability)(),y.read()):(y._loaded+=t.length,y.onProgress&&y.onProgress({loaded:y._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(y){this._readableStream?this._readableStream.destroy(y):this._error(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function W(b,y){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:y}}class g extends z{constructor(y){super(y);const t=n=>{if(404===n.statusCode){const _=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=_,void this._headersCapability.reject(_)}this._headersCapability.resolve(),this._setReadableStream(n);const h=_=>this._readableStream.headers[_.toLowerCase()],{allowRangeRequests:v,suggestedLength:d}=(0,F.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=d||this._contentLength,this._filename=(0,F.extractFilenameFromHeader)(h)};this._request=null,this._request="http:"===this._url.protocol?H.request(W(this._url,y.httpHeaders),t):T.request(W(this._url,y.httpHeaders),t),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class x extends I{constructor(y,t,n){super(y),this._httpHeaders={};for(const v in y.httpHeaders){const d=y.httpHeaders[v];typeof d>"u"||(this._httpHeaders[v]=d)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const h=v=>{if(404!==v.statusCode)this._setReadableStream(v);else{const d=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d}};this._request=null,this._request="http:"===this._url.protocol?H.request(W(this._url,this._httpHeaders),h):T.request(W(this._url,this._httpHeaders),h),this._request.on("error",v=>{this._storedError=v}),this._request.end()}}class m extends z{constructor(y){super(y);let t=decodeURIComponent(this._url.path);A.test(this._url.href)&&(t=t.replace(/^\//,"")),C.lstat(t,(n,h)=>{if(n)return"ENOENT"===n.code&&(n=new i.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=h.size,this._setReadableStream(C.createReadStream(t)),this._headersCapability.resolve()})}}class S extends I{constructor(y,t,n){super(y);let h=decodeURIComponent(this._url.path);A.test(this._url.href)&&(h=h.replace(/^\//,"")),this._setReadableStream(C.createReadStream(h,{start:t,end:n-1}))}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function E(N,j){return 404===N||0===N&&j.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+j+'".'):new i.UnexpectedResponseException(`Unexpected server response (${N}) while retrieving PDF "${j}".`,N)},a.extractFilenameFromHeader=function T(N){const j=N("Content-Disposition");if(j){let z=(0,F.getFilenameFromContentDispositionHeader)(j);if(z.includes("%"))try{z=decodeURIComponent(z)}catch{}if((0,C.isPdfFile)(z))return z}return null},a.validateRangeRequestCapabilities=function H({getResponseHeader:N,isHttp:j,rangeChunkSize:z,disableRange:I}){const W={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(N("Content-Length"),10);return!Number.isInteger(g)||(W.suggestedLength=g,g<=2*z)||I||!j||"bytes"!==N("Accept-Ranges")||"identity"!==(N("Content-Encoding")||"identity")||(W.allowRangeRequests=!0),W},a.validateResponseStatus=function A(N){return 200===N||206===N};var i=P(1),F=P(27),C=P(5)},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function F(C){let H=!0,T=E("filename\\*","i").exec(C);if(T){T=T[1];let g=z(T);return g=unescape(g),g=I(g),g=W(g),N(g)}if(T=function j(g){const x=[];let m;const S=E("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(m=S.exec(g));){let[,y,t,n]=m;if(y=parseInt(y,10),y in x){if(0===y)break}else x[y]=[t,n]}const b=[];for(let y=0;y<x.length&&y in x;++y){let[t,n]=x[y];n=z(n),t&&(n=unescape(n),0===y&&(n=I(n))),b.push(n)}return b.join("")}(C),T)return N(W(T));if(T=E("filename","i").exec(C),T){T=T[1];let g=z(T);return g=W(g),N(g)}function E(g,x){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function A(g,x){if(g){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const m=new TextDecoder(g,{fatal:!0}),S=(0,i.stringToBytes)(x);x=m.decode(S),H=!1}catch{}}return x}function N(g){return H&&/[\x80-\xff]/.test(g)&&(g=A("utf-8",g),H&&(g=A("iso-8859-1",g))),g}function z(g){if(g.startsWith('"')){const x=g.slice(1).split('\\"');for(let m=0;m<x.length;++m){const S=x[m].indexOf('"');-1!==S&&(x[m]=x[m].slice(0,S),x.length=m+1),x[m]=x[m].replace(/\\(.)/g,"$1")}g=x.join('"')}return g}function I(g){const x=g.indexOf("'");return-1===x?g:A(g.slice(0,x),g.slice(x+1).replace(/^[^']*'/,""))}function W(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,m,S,b){if("q"===S||"Q"===S)return A(m,b=(b=b.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(y,t){return String.fromCharCode(parseInt(t,16))}));try{b=atob(b)}catch{}return A(m,b)})}return""};var i=P(1)},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var i=P(1),F=P(26);class E{constructor(I,W={}){this.url=I,this.isHttp=/^https?:/i.test(I),this.httpHeaders=this.isHttp&&W.httpHeaders||Object.create(null),this.withCredentials=W.withCredentials||!1,this.getXhr=W.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(I,W,g){const x={begin:I,end:W};for(const m in g)x[m]=g[m];return this.request(x)}requestFull(I){return this.request(I)}request(I){const W=this.getXhr(),g=this.currXhrId++,x=this.pendingRequests[g]={xhr:W};W.open("GET",this.url),W.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const S=this.httpHeaders[m];typeof S>"u"||W.setRequestHeader(m,S)}return this.isHttp&&"begin"in I&&"end"in I?(W.setRequestHeader("Range",`bytes=${I.begin}-${I.end-1}`),x.expectedStatus=206):x.expectedStatus=200,W.responseType="arraybuffer",I.onError&&(W.onerror=function(m){I.onError(W.status)}),W.onreadystatechange=this.onStateChange.bind(this,g),W.onprogress=this.onProgress.bind(this,g),x.onHeadersReceived=I.onHeadersReceived,x.onDone=I.onDone,x.onError=I.onError,x.onProgress=I.onProgress,W.send(null),g}onProgress(I,W){const g=this.pendingRequests[I];g&&g.onProgress?.(W)}onStateChange(I,W){const g=this.pendingRequests[I];if(!g)return;const x=g.xhr;if(x.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),4!==x.readyState||!(I in this.pendingRequests))return;if(delete this.pendingRequests[I],0===x.status&&this.isHttp)return void g.onError?.(x.status);const m=x.status||200;if((200!==m||206!==g.expectedStatus)&&m!==g.expectedStatus)return void g.onError?.(x.status);const b=function T(z){const I=z.response;return"string"!=typeof I?I:(0,i.stringToBytes)(I).buffer}(x);if(206===m){const y=x.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);g.onDone({begin:parseInt(t[1],10),chunk:b})}else b?g.onDone({begin:0,chunk:b}):g.onError?.(x.status)}getRequestXhr(I){return this.pendingRequests[I].xhr}isPendingRequest(I){return I in this.pendingRequests}abortRequest(I){const W=this.pendingRequests[I].xhr;delete this.pendingRequests[I],W.abort()}}a.PDFNetworkStream=class A{constructor(I){this._source=I,this._manager=new E(I.url,{httpHeaders:I.httpHeaders,withCredentials:I.withCredentials}),this._rangeChunkSize=I.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(I){const W=this._rangeRequestReaders.indexOf(I);W>=0&&this._rangeRequestReaders.splice(W,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new N(this._manager,this._source),this._fullRequestReader}getRangeReader(I,W){const g=new j(this._manager,I,W);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(I){this._fullRequestReader?.cancel(I);for(const W of this._rangeRequestReaders.slice(0))W.cancel(I)}};class N{constructor(I,W){this._manager=I;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=W.url,this._fullRequestId=I.requestFull(g),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=W.disableRange||!1,this._contentLength=W.length,this._rangeChunkSize=W.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const I=this._fullRequestId,W=this._manager.getRequestXhr(I),g=S=>W.getResponseHeader(S),{allowRangeRequests:x,suggestedLength:m}=(0,F.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,F.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(I),this._headersReceivedCapability.resolve()}_onDone(I){if(I&&(this._requests.length>0?this._requests.shift().resolve({value:I.chunk,done:!1}):this._cachedChunks.push(I.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(I){this._storedError=(0,F.createResponseStatusError)(I,this._url),this._headersReceivedCapability.reject(this._storedError);for(const W of this._requests)W.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(I){this.onProgress?.({loaded:I.loaded,total:I.lengthComputable?I.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var I=this;return _asyncToGenerator(function*(){if(I._storedError)throw I._storedError;if(I._cachedChunks.length>0)return{value:I._cachedChunks.shift(),done:!1};if(I._done)return{value:void 0,done:!0};const W=(0,i.createPromiseCapability)();return I._requests.push(W),W.promise})()}cancel(I){this._done=!0,this._headersReceivedCapability.reject(I);for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class j{constructor(I,W,g){this._manager=I;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=I.url,this._requestId=I.requestRange(W,g,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(I){const W=I.chunk;this._requests.length>0?this._requests.shift().resolve({value:W,done:!1}):this._queuedChunk=W,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(I){this._storedError=(0,F.createResponseStatusError)(I,this._url);for(const W of this._requests)W.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(I){this.isStreamingSupported||this.onProgress?.({loaded:I.loaded})}get isStreamingSupported(){return!1}read(){var I=this;return _asyncToGenerator(function*(){if(I._storedError)throw I._storedError;if(null!==I._queuedChunk){const g=I._queuedChunk;return I._queuedChunk=null,{value:g,done:!1}}if(I._done)return{value:void 0,done:!0};const W=(0,i.createPromiseCapability)();return I._requests.push(W),W.promise})()}cancel(I){this._done=!0;for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(G,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var i=P(1),F=P(26);function C(N,j,z){return{method:"GET",headers:N,signal:z?.signal,mode:"cors",credentials:j?"include":"same-origin",redirect:"follow"}}function H(N){const j=new Headers;for(const z in N){const I=N[z];typeof I>"u"||j.append(z,I)}return j}a.PDFFetchStream=class T{constructor(j){this.source=j,this.isHttp=/^https?:/i.test(j.url),this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new E(this),this._fullRequestReader}getRangeReader(j,z){if(z<=this._progressiveDataLength)return null;const I=new A(this,j,z);return this._rangeRequestReaders.push(I),I}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const z of this._rangeRequestReaders.slice(0))z.cancel(j)}};class E{constructor(j){this._stream=j,this._reader=null,this._loaded=0,this._filename=null;const z=j.source;this._withCredentials=z.withCredentials||!1,this._contentLength=z.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=z.disableRange||!1,this._rangeChunkSize=z.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!z.disableStream,this._isRangeSupported=!z.disableRange,this._headers=H(this._stream.httpHeaders);const I=z.url;fetch(I,C(this._headers,this._withCredentials,this._abortController)).then(W=>{if(!(0,F.validateResponseStatus)(W.status))throw(0,F.createResponseStatusError)(W.status,I);this._reader=W.body.getReader(),this._headersCapability.resolve();const g=S=>W.headers.get(S),{allowRangeRequests:x,suggestedLength:m}=(0,F.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=m||this._contentLength,this._filename=(0,F.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){yield j._headersCapability.promise;const{value:z,done:I}=yield j._reader.read();return I?{value:z,done:I}:(j._loaded+=z.byteLength,j.onProgress&&j.onProgress({loaded:j._loaded,total:j._contentLength}),{value:new Uint8Array(z).buffer,done:!1})})()}cancel(j){this._reader&&this._reader.cancel(j),this._abortController&&this._abortController.abort()}}class A{constructor(j,z,I){this._stream=j,this._reader=null,this._loaded=0;const W=j.source;this._withCredentials=W.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!W.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=H(this._stream.httpHeaders),this._headers.append("Range",`bytes=${z}-${I-1}`);const g=W.url;fetch(g,C(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,F.validateResponseStatus)(x.status))throw(0,F.createResponseStatusError)(x.status,g);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){yield j._readCapability.promise;const{value:z,done:I}=yield j._reader.read();return I?{value:z,done:I}:(j._loaded+=z.byteLength,j.onProgress&&j.onProgress({loaded:j._loaded}),{value:new Uint8Array(z).buffer,done:!1})})()}cancel(j){this._reader&&this._reader.cancel(j),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(G){var a=__webpack_module_cache__[G];if(void 0!==a)return a.exports;var P=__webpack_module_cache__[G]={exports:{}};return __webpack_modules__[G](P,P.exports,__w_pdfjs_require__),P.exports}var __webpack_exports__={};return(()=>{var G=__webpack_exports__;Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"AnnotationLayer",{enumerable:!0,get:function(){return F.AnnotationLayer}}),Object.defineProperty(G,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(G,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(G,"GlobalWorkerOptions",{enumerable:!0,get:function(){return C.GlobalWorkerOptions}}),Object.defineProperty(G,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(G,"LoopbackPort",{enumerable:!0,get:function(){return P.LoopbackPort}}),Object.defineProperty(G,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(G,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(G,"PDFDataRangeTransport",{enumerable:!0,get:function(){return P.PDFDataRangeTransport}}),Object.defineProperty(G,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(G,"PDFWorker",{enumerable:!0,get:function(){return P.PDFWorker}}),Object.defineProperty(G,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(G,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(G,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(G,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(G,"SVGGraphics",{enumerable:!0,get:function(){return E.SVGGraphics}}),Object.defineProperty(G,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(G,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(G,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(G,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(G,"XfaLayer",{enumerable:!0,get:function(){return A.XfaLayer}}),Object.defineProperty(G,"build",{enumerable:!0,get:function(){return P.build}}),Object.defineProperty(G,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(G,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(G,"getDocument",{enumerable:!0,get:function(){return P.getDocument}}),Object.defineProperty(G,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(G,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(G,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(G,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(G,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(G,"renderTextLayer",{enumerable:!0,get:function(){return T.renderTextLayer}}),Object.defineProperty(G,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(G,"version",{enumerable:!0,get:function(){return P.version}});var a=__w_pdfjs_require__(1),P=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),F=__w_pdfjs_require__(20),C=__w_pdfjs_require__(13),H=__w_pdfjs_require__(3),T=__w_pdfjs_require__(23),E=__w_pdfjs_require__(24),A=__w_pdfjs_require__(22);if(H.isNodeJS){const{PDFNodeStream:z}=__w_pdfjs_require__(25);(0,P.setPDFNetworkStreamFactory)(I=>new z(I))}else{const{PDFNetworkStream:z}=__w_pdfjs_require__(28),{PDFFetchStream:I}=__w_pdfjs_require__(29);(0,P.setPDFNetworkStreamFactory)(W=>(0,i.isValidFetchUrl)(W.url)?new I(W):new z(W))}})(),__webpack_exports__})(),module.exports=P()},2813:function(G,a,P){var z,i=P(5661).default,F=P(1860).default,C=P(9159).default,H=P(5764).default,T=P(4467).default,E=P(468).default,A=P(7156).default;z=()=>(()=>{"use strict";var N=[,(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DefaultXfaLayerFactory=g.DefaultTextLayerFactory=g.DefaultStructTreeLayerFactory=g.DefaultAnnotationLayerFactory=void 0;var m=x(2),S=x(4),b=x(5),y=x(7),t=x(8),n=x(9);g.DefaultAnnotationLayerFactory=class h{createAnnotationLayerBuilder(c,L,M=null,V="",K=!0,Z=S.NullL10n,ee=!1,oe=null,ge=null,de=null,R=null){return new m.AnnotationLayerBuilder({pageDiv:c,pdfPage:L,imageResourcesPath:V,renderForms:K,linkService:new b.SimpleLinkService,l10n:Z,annotationStorage:M,enableScripting:ee,hasJSActionsPromise:oe,fieldObjectsPromise:de,mouseState:ge,annotationCanvasMap:R})}},g.DefaultStructTreeLayerFactory=class v{createStructTreeLayerBuilder(c){return new y.StructTreeLayerBuilder({pdfPage:c})}},g.DefaultTextLayerFactory=class d{createTextLayerBuilder(c,L,M,V=!1,K,Z){return new t.TextLayerBuilder({textLayerDiv:c,pageIndex:L,viewport:M,enhanceTextSelection:V,eventBus:K,highlighter:Z})}},g.DefaultXfaLayerFactory=class _{createXfaLayerBuilder(c,L,M=null,V=null){return new n.XfaLayerBuilder({pageDiv:c,pdfPage:L,annotationStorage:M,linkService:new b.SimpleLinkService,xfaHtml:V})}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayerBuilder=void 0;var m=x(3),S=x(4);g.AnnotationLayerBuilder=class b{constructor({pageDiv:t,pdfPage:n,linkService:h,downloadManager:v,annotationStorage:d=null,imageResourcesPath:_="",renderForms:p=!0,l10n:c=S.NullL10n,enableScripting:L=!1,hasJSActionsPromise:M=null,fieldObjectsPromise:V=null,mouseState:K=null,annotationCanvasMap:Z=null}){this.pageDiv=t,this.pdfPage=n,this.linkService=h,this.downloadManager=v,this.imageResourcesPath=_,this.renderForms=p,this.l10n=c,this.annotationStorage=d,this.enableScripting=L,this._hasJSActionsPromise=M,this._fieldObjectsPromise=V,this._mouseState=K,this._annotationCanvasMap=Z,this.div=null,this._cancelled=!1}render(t,n="display"){var h=this;return A(function*(){const[v,d=!1,_=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:n}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===v.length)return;const p={viewport:t.clone({dontFlip:!0}),div:h.div,annotations:v,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:d,fieldObjects:_,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?m.AnnotationLayer.update(p):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),p.div=h.div,m.AnnotationLayer.render(p),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},W=>{let g;g=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:P(6036),W.exports=g},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NullL10n=void 0,g.fixupLangCode=function b(n){return S[n?.toLowerCase()]||n},g.getL10nFallback=m;const x={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(n,h){switch(n){case"find_match_count":n=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return x[n]||""}const S={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};g.NullL10n={getLanguage:()=>A(function*(){return"en-us"})(),getDirection:()=>A(function*(){return"ltr"})(),get:(n,h=null,v=m(n,h))=>A(function*(){return function y(n,h){return h?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(v,d)=>d in h?h[d]:"{{"+d+"}}"):n}(v,h)})(),translate:n=>A(function*(){})()}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleLinkService=g.PDFLinkService=g.LinkTarget=void 0;var m=x(6);const S="noopener noreferrer nofollow",b={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function y(p,{url:c,target:L,rel:M,enabled:V=!0}={}){if(!c||"string"!=typeof c)throw new Error('A valid "url" parameter must provided.');const K=(0,m.removeNullCharacters)(c);V?p.href=p.title=K:(p.href="",p.title=`Disabled: ${K}`,p.onclick=()=>!1);let Z="";switch(L){case b.NONE:break;case b.SELF:Z="_self";break;case b.BLANK:Z="_blank";break;case b.PARENT:Z="_parent";break;case b.TOP:Z="_top"}p.target=Z,p.rel="string"==typeof M?M:S}g.LinkTarget=b;var t=new WeakMap,n=new WeakSet;class h{constructor({eventBus:c,externalLinkTarget:L=null,externalLinkRel:M=null,ignoreDestinationZoom:V=!1}={}){F(this,n),C(this,t,{writable:!0,value:new Map}),this.eventBus=c,this.externalLinkTarget=L,this.externalLinkRel=M,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=V,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(c,L=null){this.baseUrl=L,this.pdfDocument=c,E(this,t).clear()}setViewer(c){this.pdfViewer=c}setHistory(c){this.pdfHistory=c}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(c){this.pdfViewer.currentPageNumber=c}get rotation(){return this.pdfViewer.pagesRotation}set rotation(c){this.pdfViewer.pagesRotation=c}goToDestination(c){var L=this;return A(function*(){if(!L.pdfDocument)return;let M,V;"string"==typeof c?(M=c,V=yield L.pdfDocument.getDestination(c)):(M=null,V=yield c),Array.isArray(V)?T(L,n,v).call(L,c,M,V):console.error(`PDFLinkService.goToDestination: "${V}" is not a valid destination array, for dest="${c}".`)})()}goToPage(c){if(!this.pdfDocument)return;const L="string"==typeof c&&this.pdfViewer.pageLabelToPageNumber(c)||0|c;Number.isInteger(L)&&L>0&&L<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(L)),this.pdfViewer.scrollPageIntoView({pageNumber:L})):console.error(`PDFLinkService.goToPage: "${c}" is not a valid page.`)}addLinkAttributes(c,L,M=!1){y(c,{url:L,target:M?b.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(c){if("string"==typeof c){if(c.length>0)return this.getAnchorUrl("#"+escape(c))}else if(Array.isArray(c)){const L=JSON.stringify(c);if(L.length>0)return this.getAnchorUrl("#"+escape(L))}return this.getAnchorUrl("")}getAnchorUrl(c){return(this.baseUrl||"")+c}setHash(c){if(!this.pdfDocument)return;let L,M;if(c.includes("=")){const V=(0,m.parseQueryString)(c);if(V.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:V.get("search").replace(/"/g,""),phraseSearch:"true"===V.get("phrase")}),V.has("page")&&(L=0|V.get("page")||1),V.has("zoom")){const K=V.get("zoom").split(","),Z=K[0],ee=parseFloat(Z);Z.includes("Fit")?"Fit"===Z||"FitB"===Z?M=[null,{name:Z}]:"FitH"===Z||"FitBH"===Z||"FitV"===Z||"FitBV"===Z?M=[null,{name:Z},K.length>1?0|K[1]:null]:"FitR"===Z?5!==K.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):M=[null,{name:Z},0|K[1],0|K[2],0|K[3],0|K[4]]:console.error(`PDFLinkService.setHash: "${Z}" is not a valid zoom value.`):M=[null,{name:"XYZ"},K.length>1?0|K[1]:null,K.length>2?0|K[2]:null,ee?ee/100:Z]}M?this.pdfViewer.scrollPageIntoView({pageNumber:L||this.page,destArray:M,allowNegativeOffset:!0}):L&&(this.page=L),V.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:V.get("pagemode")}),V.has("nameddest")&&this.goToDestination(V.get("nameddest"))}else{M=unescape(c);try{M=JSON.parse(M),Array.isArray(M)||(M=M.toString())}catch{}if("string"==typeof M||H(h,h,d).call(h,M))return void this.goToDestination(M);console.error(`PDFLinkService.setHash: "${unescape(c)}" is not a valid destination.`)}}executeNamedAction(c){switch(c){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:c})}cachePageRef(c,L){if(!L)return;const M=0===L.gen?`${L.num}R`:`${L.num}R${L.gen}`;E(this,t).set(M,c)}_cachedPageNumber(c){if(!c)return null;const L=0===c.gen?`${c.num}R`:`${c.num}R${c.gen}`;return E(this,t).get(L)||null}isPageVisible(c){return this.pdfViewer.isPageVisible(c)}isPageCached(c){return this.pdfViewer.isPageCached(c)}}function v(p,c=null,L){const M=L[0];let V;if("object"==typeof M&&null!==M){if(V=this._cachedPageNumber(M),!V)return void this.pdfDocument.getPageIndex(M).then(K=>{this.cachePageRef(K+1,M),T(this,n,v).call(this,p,c,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${M}" is not a valid page reference, for dest="${p}".`)})}else{if(!Number.isInteger(M))return void console.error(`PDFLinkService.#goToDestinationHelper: "${M}" is not a valid destination reference, for dest="${p}".`);V=M+1}!V||V<1||V>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${V}" is not a valid page number, for dest="${p}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:c,explicitDest:L,pageNumber:V})),this.pdfViewer.scrollPageIntoView({pageNumber:V,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function d(p){if(!Array.isArray(p))return!1;const c=p.length;if(c<2)return!1;const L=p[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const M=p[1];if("object"!=typeof M||"string"!=typeof M.name)return!1;let V=!0;switch(M.name){case"XYZ":if(5!==c)return!1;break;case"Fit":case"FitB":return 2===c;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==c)return!1;break;case"FitR":if(6!==c)return!1;V=!1;break;default:return!1}for(let K=2;K<c;K++){const Z=p[K];if(!("number"==typeof Z||V&&null===Z))return!1}return!0}g.PDFLinkService=h,g.SimpleLinkService=class _{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(c){}get rotation(){return 0}set rotation(c){}goToDestination(c){return A(function*(){})()}goToPage(c){}addLinkAttributes(c,L,M=!1){y(c,{url:L,enabled:this.externalLinkEnabled})}getDestinationHash(c){return"#"}getAnchorUrl(c){return"#"}setHash(c){}executeNamedAction(c){}cachePageRef(c,L){}isPageVisible(c){return!0}isPageCached(c){return!0}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.animationStarted=g.VERTICAL_PADDING=g.UNKNOWN_SCALE=g.TextLayerMode=g.SpreadMode=g.SidebarView=g.ScrollMode=g.SCROLLBAR_PADDING=g.RenderingStates=g.RendererType=g.ProgressBar=g.PresentationModeState=g.OutputScale=g.MIN_SCALE=g.MAX_SCALE=g.MAX_AUTO_SCALE=g.DEFAULT_SCALE_VALUE=g.DEFAULT_SCALE_DELTA=g.DEFAULT_SCALE=g.AutoPrintRegExp=void 0,g.apiPageLayoutToViewerModes=function re(q){let te=M.VERTICAL,fe=V.NONE;switch(q){case"SinglePage":te=M.PAGE;break;case"OneColumn":break;case"TwoPageLeft":te=M.PAGE;case"TwoColumnLeft":fe=V.ODD;break;case"TwoPageRight":te=M.PAGE;case"TwoColumnRight":fe=V.EVEN}return{scrollMode:te,spreadMode:fe}},g.apiPageModeToSidebarView=function D(q){switch(q){case"UseNone":return p.NONE;case"UseThumbs":return p.THUMBS;case"UseOutlines":return p.OUTLINE;case"UseAttachments":return p.ATTACHMENTS;case"UseOC":return p.LAYERS}return p.NONE},g.approximateFraction=function s(q){if(Math.floor(q)===q)return[q,1];const te=1/q;if(te>8)return[1,8];if(Math.floor(te)===te)return[1,te];const se=q>1?te:q;let X,w=0,J=1,he=1,be=1;for(;;){const O=w+he,U=J+be;if(U>8)break;se<=O/U?(he=O,be=U):(w=O,J=U)}return X=se-w/J<he/be-se?se===q?[w,J]:[J,w]:se===q?[he,be]:[be,he],X},g.backtrackBeforeAllVisibleElements=f,g.binarySearchFirstItem=e,g.getActiveOrFocusedElement=function ne(){let q=document,te=q.activeElement||q.querySelector(":focus");for(;te?.shadowRoot;)q=te.shadowRoot,te=q.activeElement||q.querySelector(":focus");return te},g.getPageSizeInches=function u({view:q,userUnit:te,rotate:fe}){const[se,w,J,he]=q,be=fe%180!=0,X=(J-se)/72*te,O=(he-w)/72*te;return{width:be?O:X,height:be?X:O}},g.getVisibleElements=function l({scrollEl:q,views:te,sortByVisibility:fe=!1,horizontal:se=!1,rtl:w=!1}){const J=q.scrollTop,he=J+q.clientHeight,be=q.scrollLeft,X=be+q.clientWidth,le=[],Se=new Set,Te=te.length;let ce=e(te,se?function U(me){const xe=me.div,Pe=xe.offsetLeft+xe.clientLeft;return w?Pe<X:Pe+xe.clientWidth>be}:function O(me){const xe=me.div;return xe.offsetTop+xe.clientTop+xe.clientHeight>J});ce>0&&ce<Te&&!se&&(ce=f(ce,te,J));let pe=se?X:-1;for(let me=ce;me<Te;me++){const xe=te[me],Pe=xe.div,Ee=Pe.offsetLeft+Pe.clientLeft,Me=Pe.offsetTop+Pe.clientTop,ke=Pe.clientWidth,Le=Pe.clientHeight,Ne=Ee+ke,Re=Me+Le;if(-1===pe)Re>=he&&(pe=Re);else if((se?Ee:Me)>pe)break;if(Re<=J||Me>=he||Ne<=be||Ee>=X)continue;const Ie=Math.max(0,J-Me)+Math.max(0,Re-he),De=(ke-(Math.max(0,be-Ee)+Math.max(0,Ne-X)))/ke;le.push({id:xe.id,x:Ee,y:Me,view:xe,percent:(Le-Ie)/Le*De*100|0,widthPercent:100*De|0}),Se.add(xe.id)}const Ce=le[0],we=le[le.length-1];return fe&&le.sort(function(me,xe){const Pe=me.percent-xe.percent;return Math.abs(Pe)>.001?-Pe:me.id-xe.id}),{first:Ce,last:we,views:le,ids:Se}},g.isPortraitOrientation=function ae(q){return q.width<=q.height},g.isValidRotation=function Y(q){return Number.isInteger(q)&&q%90==0},g.isValidScrollMode=function $(q){return Number.isInteger(q)&&Object.values(M).includes(q)&&q!==M.UNKNOWN},g.isValidSpreadMode=function ie(q){return Number.isInteger(q)&&Object.values(V).includes(q)&&q!==V.UNKNOWN},g.noContextMenuHandler=function k(q){q.preventDefault()},g.normalizeWheelEventDelta=function B(q){let te=Q(q);return 0===q.deltaMode?te/=900:1===q.deltaMode&&(te/=30),te},g.normalizeWheelEventDirection=Q,g.parseQueryString=function ge(q){const te=new Map;for(const[fe,se]of new URLSearchParams(q))te.set(fe.toLowerCase(),se);return te},g.removeNullCharacters=function r(q,te=!1){return"string"!=typeof q?(console.error("The argument must be a string."),q):(te&&(q=q.replace(R," ")),q.replace(de,""))},g.roundToDivide=function o(q,te){const fe=q%te;return 0===fe?q:Math.round(q-fe+te)},g.scrollIntoView=function ee(q,te,fe=!1){let se=q.offsetParent;if(!se)return void console.error("offsetParent is not set -- cannot scroll");let w=q.offsetTop+q.clientTop,J=q.offsetLeft+q.clientLeft;for(;se.clientHeight===se.scrollHeight&&se.clientWidth===se.scrollWidth||fe&&(se.classList.contains("markedContent")||"hidden"===getComputedStyle(se).overflow);)if(w+=se.offsetTop,J+=se.offsetLeft,se=se.offsetParent,!se)return;te&&(void 0!==te.top&&(w+=te.top),void 0!==te.left&&(J+=te.left,se.scrollLeft=J)),se.scrollTop=w},g.watchScroll=function oe(q,te){const fe=function(J){w||(w=window.requestAnimationFrame(function(){w=null;const be=q.scrollLeft,X=se.lastX;be!==X&&(se.right=be>X),se.lastX=be;const O=q.scrollTop,U=se.lastY;O!==U&&(se.down=O>U),se.lastY=O,te(se)}))},se={right:!0,down:!0,lastX:q.scrollLeft,lastY:q.scrollTop,_eventHandler:fe};let w=null;return q.addEventListener("scroll",fe,!0),se},g.DEFAULT_SCALE_VALUE="auto",g.DEFAULT_SCALE=1,g.DEFAULT_SCALE_DELTA=1.1,g.MIN_SCALE=.1,g.MAX_SCALE=10,g.UNKNOWN_SCALE=0,g.MAX_AUTO_SCALE=1.25,g.SCROLLBAR_PADDING=40,g.VERTICAL_PADDING=5,g.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},g.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const p={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};g.SidebarView=p,g.RendererType={CANVAS:"canvas",SVG:"svg"},g.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const M={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};g.ScrollMode=M;const V={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};g.SpreadMode=V,g.AutoPrintRegExp=/\bprint\s*\(/,g.OutputScale=class Z{constructor(){const te=window.devicePixelRatio||1;this.sx=te,this.sy=te}get scaled(){return 1!==this.sx||1!==this.sy}};const de=/\x00/g,R=/[\x01-\x1F]/g;function e(q,te,fe=0){let se=fe,w=q.length-1;if(w<0||!te(q[w]))return q.length;if(te(q[se]))return se;for(;se<w;){const J=se+w>>1;te(q[J])?w=J:se=J+1}return se}function f(q,te,fe){if(q<2)return q;let se=te[q].div,w=se.offsetTop+se.clientTop;w>=fe&&(se=te[q-1].div,w=se.offsetTop+se.clientTop);for(let J=q-2;J>=0&&(se=te[J].div,!(se.offsetTop+se.clientTop+se.clientHeight<=w));--J)q=J;return q}function Q(q){let te=Math.hypot(q.deltaX,q.deltaY);const fe=Math.atan2(q.deltaY,q.deltaX);return-.25*Math.PI<fe&&fe<.75*Math.PI&&(te=-te),te}const _e=new Promise(function(q){window.requestAnimationFrame(q)});g.animationStarted=_e;var ve=new WeakSet;function ue(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}g.ProgressBar=class ye{constructor(te){if(F(this,ve),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(te+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(te){this._indeterminate=isNaN(te),this._percent=function Ae(q,te,fe){return Math.min(Math.max(q,te),fe)}(te,0,100),T(this,ve,ue).call(this)}setWidth(te){if(!te)return;const se=te.parentNode.offsetWidth-te.offsetWidth;se>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${se}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StructTreeLayerBuilder=void 0;const x={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;g.StructTreeLayerBuilder=class S{constructor({pdfPage:y}){this.pdfPage=y}render(y){return this._walk(y)}_setAttributes(y,t){void 0!==y.alt&&t.setAttribute("aria-label",y.alt),void 0!==y.id&&t.setAttribute("aria-owns",y.id),void 0!==y.lang&&t.setAttribute("lang",y.lang)}_walk(y){if(!y)return null;const t=document.createElement("span");if("role"in y){const{role:n}=y,h=n.match(m);h?(t.setAttribute("role","heading"),t.setAttribute("aria-level",h[1])):x[n]&&t.setAttribute("role",x[n])}if(this._setAttributes(y,t),y.children)if(1===y.children.length&&"id"in y.children[0])this._setAttributes(y.children[0],t);else for(const n of y.children)t.appendChild(this._walk(n));return t}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerBuilder=void 0;var m=x(3);g.TextLayerBuilder=class b{constructor({textLayerDiv:t,eventBus:n,pageIndex:h,viewport:v,highlighter:d=null,enhanceTextSelection:_=!1}){this.textLayerDiv=t,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=v,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=d,this.enhanceTextSelection=_,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(n),this._finishRendering(),this.highlighter?.enable()},function(h){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_bindMouse(){const t=this.textLayerDiv;let n=null;t.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const v=t.querySelector(".endOfContent");if(!v)return;let d=h.target!==t;if(d=d&&"none"!==window.getComputedStyle(v).getPropertyValue("-moz-user-select"),d){const _=t.getBoundingClientRect(),p=Math.max(0,(h.pageY-_.top)/_.height);v.style.top=(100*p).toFixed(2)+"%"}v.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const h=t.querySelector(".endOfContent");h&&(h.style.top="",h.classList.remove("active"))})}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayerBuilder=void 0;var m=x(3);g.XfaLayerBuilder=class S{constructor({pageDiv:y,pdfPage:t,annotationStorage:n=null,linkService:h,xfaHtml:v=null}){this.pageDiv=y,this.pdfPage=t,this.annotationStorage=n,this.linkService=h,this.xfaHtml=v,this.div=null,this._cancelled=!1}render(y,t="display"){if("print"===t){const n={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},h=document.createElement("div");this.pageDiv.appendChild(h),n.div=h;const v=m.XfaLayer.render(n);return Promise.resolve(v)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const h={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?m.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,m.XfaLayer.render(h))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFViewer=g.PDFSinglePageViewer=void 0;var m=x(6),S=x(11);g.PDFViewer=class b extends S.BaseViewer{},g.PDFSinglePageViewer=class y extends S.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(W,g,x)=>{let m;Object.defineProperty(g,"__esModule",{value:!0}),g.PagesCountLimit=g.PDFPageViewBuffer=g.BaseViewer=void 0;var S=x(3),b=x(6),y=x(2),t=x(4),n=x(12),h=x(14),v=x(5),d=x(7),_=x(15),p=x(8),c=x(9);const M="enablePermissions",V={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};g.PagesCountLimit=V;var K=new WeakMap,Z=new WeakMap,ee=new WeakSet;m=Symbol.iterator;class oe{constructor(w){F(this,ee),C(this,K,{writable:!0,value:new Set}),C(this,Z,{writable:!0,value:0}),i(this,Z,w)}push(w){const J=E(this,K);J.has(w)&&J.delete(w),J.add(w),J.size>E(this,Z)&&T(this,ee,ge).call(this)}resize(w,J=null){i(this,Z,w);const he=E(this,K);if(J){const be=he.size;let X=1;for(const O of he)if(J.has(O.id)&&(he.delete(O),he.add(O)),++X>be)break}for(;he.size>E(this,Z);)T(this,ee,ge).call(this)}has(w){return E(this,K).has(w)}[m](){return E(this,K).keys()}}function ge(){const se=E(this,K).keys().next().value;se?.destroy(),E(this,K).delete(se)}g.PDFPageViewBuffer=oe;var de=new WeakMap,R=new WeakMap,r=new WeakMap,e=new WeakMap,s=new WeakMap,o=new WeakMap,u=new WeakMap,f=new WeakSet,l=new WeakSet,k=new WeakSet,Q=new WeakSet,B=new WeakSet,Y=new WeakSet,$=new WeakSet,ie=new WeakSet,ae=new WeakSet;class _e{constructor(w){if(F(this,ae),F(this,ie),F(this,$),F(this,Y),F(this,B),F(this,Q),F(this,k),F(this,l),F(this,f),C(this,de,{writable:!0,value:null}),C(this,R,{writable:!0,value:S.AnnotationMode.ENABLE_FORMS}),C(this,r,{writable:!0,value:null}),C(this,e,{writable:!0,value:!1}),C(this,s,{writable:!0,value:0}),C(this,o,{writable:!0,value:null}),C(this,u,{writable:!0,value:null}),this.constructor===_e)throw new Error("Cannot initialize BaseViewer.");const J="2.14.305";if(S.version!==J)throw new Error(`The API version "${S.version}" does not match the Viewer version "${J}".`);if(this.container=w.container,this.viewer=w.viewer||w.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=w.eventBus,this.linkService=w.linkService||new v.SimpleLinkService,this.downloadManager=w.downloadManager||null,this.findController=w.findController||null,this._scriptingManager=w.scriptingManager||null,this.removePageBorders=w.removePageBorders||!1,this.textLayerMode=w.textLayerMode??b.TextLayerMode.ENABLE,i(this,R,w.annotationMode??S.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=w.imageResourcesPath||"",this.enablePrintAutoRotate=w.enablePrintAutoRotate||!1,this.renderer=w.renderer||b.RendererType.CANVAS,this.useOnlyCssZoom=w.useOnlyCssZoom||!1,this.maxCanvasPixels=w.maxCanvasPixels,this.l10n=w.l10n||t.NullL10n,i(this,e,w.enablePermissions||!1),this.pageColors=w.pageColors||null,w.pageColors&&(!CSS.supports("color",w.pageColors.background)||!CSS.supports("color",w.pageColors.foreground))&&((w.pageColors.background||w.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!w.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new h.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=w.renderingQueue,this._doc=document.documentElement,this.scroll=(0,b.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=b.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(w){return this._pages[w]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(w){return w?.pdfPage})}get renderForms(){return E(this,R)===S.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(w){if(!Number.isInteger(w))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(w,!0)||console.error(`currentPageNumber: "${w}" is not a valid page.`))}_setCurrentPageNumber(w,J=!1){if(this._currentPageNumber===w)return J&&T(this,Y,re).call(this),!0;if(!(0<w&&w<=this.pagesCount))return!1;const he=this._currentPageNumber;return this._currentPageNumber=w,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:w,pageLabel:this._pageLabels?.[w-1]??null,previous:he}),J&&T(this,Y,re).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(w){if(!this.pdfDocument)return;let J=0|w;if(this._pageLabels){const he=this._pageLabels.indexOf(w);he>=0&&(J=he+1)}this._setCurrentPageNumber(J,!0)||console.error(`currentPageLabel: "${w}" is not a valid page.`)}get currentScale(){return this._currentScale!==b.UNKNOWN_SCALE?this._currentScale:b.DEFAULT_SCALE}set currentScale(w){if(isNaN(w))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(w,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(w){this.pdfDocument&&this._setScale(w,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(w){if(!(0,b.isValidRotation)(w))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((w%=360)<0&&(w+=360),this._pagesRotation===w))return;this._pagesRotation=w;const J=this._currentPageNumber,he={rotation:w};for(const be of this._pages)be.update(he);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:w,pageNumber:J}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(w){var J=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=w,!w)return;const he=w.isPureXfa,be=w.numPages,X=w.getPage(1),O=w.getOptionalContentConfig(),U=E(this,e)?w.getPermissions():Promise.resolve();if(be>V.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const le=this._scrollMode=b.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:le})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:be})},()=>{}),this._onBeforeDraw=le=>{const Se=this._pages[le.pageNumber-1];Se&&E(this,de).push(Se)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=le=>{le.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:le.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,E(this,u)&&(document.removeEventListener("visibilitychange",E(this,u)),i(this,u,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([X,U]).then(([le,Se])=>{if(w!==this.pdfDocument)return;this._firstPageCapability.resolve(le),this._optionalContentConfigPromise=O,T(this,f,Ae).call(this,Se);const Te=this._scrollMode===b.ScrollMode.PAGE?null:this.viewer,ce=this.currentScale,pe=le.getViewport({scale:ce*S.PixelsPerInch.PDF_TO_CSS_UNITS}),Ce=this.textLayerMode===b.TextLayerMode.DISABLE||he?null:this,we=E(this,R)!==S.AnnotationMode.DISABLE?this:null,me=he?this:null;for(let Pe=1;Pe<=be;++Pe){const Ee=new n.PDFPageView({container:Te,eventBus:this.eventBus,id:Pe,scale:ce,defaultViewport:pe.clone(),optionalContentConfigPromise:O,renderingQueue:this.renderingQueue,textLayerFactory:Ce,textLayerMode:this.textLayerMode,annotationLayerFactory:we,annotationMode:E(this,R),xfaLayerFactory:me,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ee)}const xe=this._pages[0];xe&&(xe.setPdfPage(le),this.linkService.cachePageRef(1,le.ref)),this._scrollMode===b.ScrollMode.PAGE?T(this,k,ye).call(this):this._spreadMode!==b.SpreadMode.NONE&&this._updateSpreadMode(),T(this,l,ve).call(this).then(A(function*(){if(J.findController&&J.findController.setDocument(w),J._scriptingManager&&J._scriptingManager.setDocument(w),w.loadingParams.disableAutoFetch||be>V.FORCE_LAZY_PAGE_INIT)return void J._pagesCapability.resolve();let Pe=be-1;if(Pe<=0)J._pagesCapability.resolve();else for(let Ee=2;Ee<=be;++Ee){const Me=w.getPage(Ee).then(ke=>{const Le=J._pages[Ee-1];Le.pdfPage||Le.setPdfPage(ke),J.linkService.cachePageRef(Ee,ke.ref),0==--Pe&&J._pagesCapability.resolve()},ke=>{console.error(`Unable to get page ${Ee} to initialize viewer`,ke),0==--Pe&&J._pagesCapability.resolve()});Ee%V.PAUSE_EAGER_PAGE_INIT==0&&(yield Me)}})),this.eventBus.dispatch("pagesinit",{source:this}),w.getMetadata().then(({info:Pe})=>{w===this.pdfDocument&&Pe.Language&&(this.viewer.lang=Pe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(le=>{console.error("Unable to initialize viewer",le),this._pagesCapability.reject(le)})}setPageLabels(w){if(this.pdfDocument){w?Array.isArray(w)&&this.pdfDocument.numPages===w.length?this._pageLabels=w:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let J=0,he=this._pages.length;J<he;J++)this._pages[J].setPageLabel(this._pageLabels?.[J]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=b.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,de,new oe(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,S.createPromiseCapability)(),this._onePageRenderedCapability=(0,S.createPromiseCapability)(),this._pagesCapability=(0,S.createPromiseCapability)(),this._scrollMode=b.ScrollMode.VERTICAL,this._previousScrollMode=b.ScrollMode.UNKNOWN,this._spreadMode=b.SpreadMode.NONE,i(this,o,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),E(this,u)&&(document.removeEventListener("visibilitychange",E(this,u)),i(this,u,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(M),null!==E(this,r)&&(i(this,R,E(this,r)),i(this,r,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(w,J,he=!1,be=!1){if(this._currentScaleValue=J.toString(),T(this,B,ne).call(this,w))return void(be&&this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:J}));this._doc.style.setProperty("--zoom-factor",w);const X={scale:w};for(const O of this._pages)O.update(X);if(this._currentScale=w,!he){let U,O=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,U=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:U,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:be?J:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL?2:1}_setScale(w,J=!1){let he=parseFloat(w);if(he>0)this._setScaleUpdatePages(he,w,J,!1);else{const be=this._pages[this._currentPageNumber-1];if(!be)return;let X=b.SCROLLBAR_PADDING,O=b.VERTICAL_PADDING;this.isInPresentationMode?X=O=4:this.removePageBorders?X=O=0:this._scrollMode===b.ScrollMode.HORIZONTAL&&([X,O]=[O,X]);const U=(this.container.clientWidth-X)/be.width*be.scale/this._pageWidthScaleFactor,le=(this.container.clientHeight-O)/be.height*be.scale;switch(w){case"page-actual":he=1;break;case"page-width":he=U;break;case"page-height":he=le;break;case"page-fit":he=Math.min(U,le);break;case"auto":const Se=(0,b.isPortraitOrientation)(be)?U:Math.min(le,U);he=Math.min(b.MAX_AUTO_SCALE,Se);break;default:return void console.error(`_setScale: "${w}" is an unknown zoom value.`)}this._setScaleUpdatePages(he,w,J,!0)}}pageLabelToPageNumber(w){if(!this._pageLabels)return null;const J=this._pageLabels.indexOf(w);return J<0?null:J+1}scrollPageIntoView({pageNumber:w,destArray:J=null,allowNegativeOffset:he=!1,ignoreDestinationZoom:be=!1}){if(!this.pdfDocument)return;const X=Number.isInteger(w)&&this._pages[w-1];if(!X)return void console.error(`scrollPageIntoView: "${w}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!J)return void this._setCurrentPageNumber(w,!0);let Te,ce,O=0,U=0,le=0,Se=0;const pe=X.rotation%180!=0,Ce=(pe?X.height:X.width)/X.scale/S.PixelsPerInch.PDF_TO_CSS_UNITS,we=(pe?X.width:X.height)/X.scale/S.PixelsPerInch.PDF_TO_CSS_UNITS;let me=0;switch(J[1].name){case"XYZ":O=J[2],U=J[3],me=J[4],O=null!==O?O:0,U=null!==U?U:we;break;case"Fit":case"FitB":me="page-fit";break;case"FitH":case"FitBH":U=J[2],me="page-width",null===U&&this._location?(O=this._location.left,U=this._location.top):("number"!=typeof U||U<0)&&(U=we);break;case"FitV":case"FitBV":O=J[2],le=Ce,Se=we,me="page-height";break;case"FitR":O=J[2],U=J[3],le=J[4]-O,Se=J[5]-U,Te=(this.container.clientWidth-(this.removePageBorders?0:b.SCROLLBAR_PADDING))/le/S.PixelsPerInch.PDF_TO_CSS_UNITS,ce=(this.container.clientHeight-(this.removePageBorders?0:b.VERTICAL_PADDING))/Se/S.PixelsPerInch.PDF_TO_CSS_UNITS,me=Math.min(Math.abs(Te),Math.abs(ce));break;default:return void console.error(`scrollPageIntoView: "${J[1].name}" is not a valid destination type.`)}if(be||(me&&me!==this._currentScale?this.currentScaleValue=me:this._currentScale===b.UNKNOWN_SCALE&&(this.currentScaleValue=b.DEFAULT_SCALE_VALUE)),"page-fit"===me&&!J[4])return void T(this,Q,ue).call(this,X);const xe=[X.viewport.convertToViewportPoint(O,U),X.viewport.convertToViewportPoint(O+le,U+Se)];let Pe=Math.min(xe[0][0],xe[1][0]),Ee=Math.min(xe[0][1],xe[1][1]);he||(Pe=Math.max(Pe,0),Ee=Math.max(Ee,0)),T(this,Q,ue).call(this,X,{left:Pe,top:Ee})}_updateLocation(w){const J=this._currentScale,he=this._currentScaleValue,be=parseFloat(he)===J?Math.round(1e4*J)/100:he,X=w.id,U=this.container,le=this._pages[X-1].getPagePoint(U.scrollLeft-w.x,U.scrollTop-w.y),Se=Math.round(le[0]),Te=Math.round(le[1]);let ce=`#page=${X}`;this.isInPresentationMode||(ce+=`&zoom=${be},${Se},${Te}`),this._location={pageNumber:X,scale:be,top:Te,left:Se,rotation:this._pagesRotation,pdfOpenParams:ce}}update(){const w=this._getVisiblePages(),J=w.views,he=J.length;if(0===he)return;const be=Math.max(10,2*he+1);E(this,de).resize(be,w.ids),this.renderingQueue.renderHighestPriority(w);const X=this._spreadMode===b.SpreadMode.NONE&&(this._scrollMode===b.ScrollMode.PAGE||this._scrollMode===b.ScrollMode.VERTICAL),O=this._currentPageNumber;let U=!1;for(const le of J){if(le.percent<100)break;if(le.id===O&&X){U=!0;break}}this._setCurrentPageNumber(U?O:J[0].id),this._updateLocation(w.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(w){return this.container.contains(w)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===b.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===b.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const w=this._scrollMode===b.ScrollMode.PAGE?E(this,o).pages:this._pages,J=this._scrollMode===b.ScrollMode.HORIZONTAL;return(0,b.getVisibleElements)({scrollEl:this.container,views:w,sortByVisibility:!0,horizontal:J,rtl:J&&this._isContainerRtl})}isPageVisible(w){return!!this.pdfDocument&&(Number.isInteger(w)&&w>0&&w<=this.pagesCount?this._getVisiblePages().ids.has(w):(console.error(`isPageVisible: "${w}" is not a valid page.`),!1))}isPageCached(w){if(!this.pdfDocument)return!1;if(!(Number.isInteger(w)&&w>0&&w<=this.pagesCount))return console.error(`isPageCached: "${w}" is not a valid page.`),!1;const J=this._pages[w-1];return E(this,de).has(J)}cleanup(){for(const w of this._pages)w.renderingState!==b.RenderingStates.FINISHED&&w.reset()}_cancelRendering(){for(const w of this._pages)w.cancelRendering()}forceRendering(w){const J=w||this._getVisiblePages(),he=T(this,ie,te).call(this,J),X=this.renderingQueue.getHighestPriority(J,this._pages,he,this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL);return T(this,ae,fe).call(this,J.ids),!!X&&(T(this,$,D).call(this,X).then(()=>{this.renderingQueue.renderView(X)}),!0)}createTextLayerBuilder(w,J,he,be=!1,X,O){return new p.TextLayerBuilder({textLayerDiv:w,eventBus:X,pageIndex:J,viewport:he,enhanceTextSelection:!this.isInPresentationMode&&be,highlighter:O})}createTextHighlighter(w,J){return new _.TextHighlighter({eventBus:J,pageIndex:w,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(w,J,he=null,be="",X=!0,O=t.NullL10n,U=null,le=null,Se=null,Te=null,ce=null){return new y.AnnotationLayerBuilder({pageDiv:w,pdfPage:J,annotationStorage:he||this.pdfDocument?.annotationStorage,imageResourcesPath:be,renderForms:X,linkService:this.linkService,downloadManager:this.downloadManager,l10n:O,enableScripting:U??this.enableScripting,hasJSActionsPromise:le||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Te||this.pdfDocument?.getFieldObjects(),mouseState:Se||this._scriptingManager?.mouseState,annotationCanvasMap:ce})}createXfaLayerBuilder(w,J,he=null){return new c.XfaLayerBuilder({pageDiv:w,pdfPage:J,annotationStorage:he||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(w){return new d.StructTreeLayerBuilder({pdfPage:w})}get hasEqualPageSizes(){const w=this._pages[0];for(let J=1,he=this._pages.length;J<he;++J){const be=this._pages[J];if(be.width!==w.width||be.height!==w.height)return!1}return!0}getPagesOverview(){return this._pages.map(w=>{const J=w.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,b.isPortraitOrientation)(J)?{width:J.width,height:J.height,rotation:J.rotation}:{width:J.height,height:J.width,rotation:(J.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(w){if(!(w instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${w}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=w;const J={optionalContentConfigPromise:w};for(const he of this._pages)he.update(J);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:w})}get scrollMode(){return this._scrollMode}set scrollMode(w){if(this._scrollMode!==w){if(!(0,b.isValidScrollMode)(w))throw new Error(`Invalid scroll mode: ${w}`);this.pagesCount>V.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=w,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:w}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(w=null){const J=this._scrollMode,he=this.viewer;he.classList.toggle("scrollHorizontal",J===b.ScrollMode.HORIZONTAL),he.classList.toggle("scrollWrapped",J===b.ScrollMode.WRAPPED),this.pdfDocument&&w&&(J===b.ScrollMode.PAGE?T(this,k,ye).call(this):this._previousScrollMode===b.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(w){if(this._spreadMode!==w){if(!(0,b.isValidSpreadMode)(w))throw new Error(`Invalid spread mode: ${w}`);this._spreadMode=w,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:w}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(w=null){if(!this.pdfDocument)return;const J=this.viewer,he=this._pages;if(this._scrollMode===b.ScrollMode.PAGE)T(this,k,ye).call(this);else if(J.textContent="",this._spreadMode===b.SpreadMode.NONE)for(const be of this._pages)J.appendChild(be.div);else{const be=this._spreadMode-1;let X=null;for(let O=0,U=he.length;O<U;++O)null===X?(X=document.createElement("div"),X.className="spread",J.appendChild(X)):O%2===be&&(X=X.cloneNode(!1),J.appendChild(X)),X.appendChild(he[O].div)}w&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}_getPageAdvance(w,J=!1){switch(this._scrollMode){case b.ScrollMode.WRAPPED:{const{views:he}=this._getVisiblePages(),be=new Map;for(const{id:X,y:O,percent:U,widthPercent:le}of he){if(0===U||le<100)continue;let Se=be.get(O);Se||be.set(O,Se||=[]),Se.push(X)}for(const X of be.values()){const O=X.indexOf(w);if(-1===O)continue;const U=X.length;if(1===U)break;if(J)for(let le=O-1,Se=0;le>=Se;le--){const ce=X[le+1]-1;if(X[le]<ce)return w-ce}else for(let le=O+1,Se=U;le<Se;le++){const ce=X[le-1]+1;if(X[le]>ce)return ce-w}if(J){const le=X[0];if(le<w)return w-le+1}else{const le=X[U-1];if(le>w)return le-w+1}break}break}case b.ScrollMode.HORIZONTAL:break;case b.ScrollMode.PAGE:case b.ScrollMode.VERTICAL:{if(this._spreadMode===b.SpreadMode.NONE)break;const he=this._spreadMode-1;if(J&&w%2!==he)break;if(!J&&w%2===he)break;const{views:be}=this._getVisiblePages(),X=J?w-1:w+1;for(const{id:O,percent:U,widthPercent:le}of be)if(O===X){if(U>0&&100===le)return 2;break}break}}return 1}nextPage(){const w=this._currentPageNumber,J=this.pagesCount;if(w>=J)return!1;const he=this._getPageAdvance(w,!1)||1;return this.currentPageNumber=Math.min(w+he,J),!0}previousPage(){const w=this._currentPageNumber;if(w<=1)return!1;const J=this._getPageAdvance(w,!0)||1;return this.currentPageNumber=Math.max(w-J,1),!0}increaseScale(w=1){let J=this._currentScale;do{J=(J*b.DEFAULT_SCALE_DELTA).toFixed(2),J=Math.ceil(10*J)/10,J=Math.min(b.MAX_SCALE,J)}while(--w>0&&J<b.MAX_SCALE);this.currentScaleValue=J}decreaseScale(w=1){let J=this._currentScale;do{J=(J/b.DEFAULT_SCALE_DELTA).toFixed(2),J=Math.floor(10*J)/10,J=Math.max(b.MIN_SCALE,J)}while(--w>0&&J>b.MIN_SCALE);this.currentScaleValue=J}updateContainerHeightCss(){const w=this.container.clientHeight;w!==E(this,s)&&(i(this,s,w),this._doc.style.setProperty("--viewer-container-height",`${w}px`))}}function Ae(se){se&&(se.includes(S.PermissionFlag.COPY)||this.viewer.classList.add(M),!se.includes(S.PermissionFlag.MODIFY_ANNOTATIONS)&&!se.includes(S.PermissionFlag.FILL_INTERACTIVE_FORMS)&&E(this,R)===S.AnnotationMode.ENABLE_FORMS&&(i(this,r,E(this,R)),i(this,R,S.AnnotationMode.ENABLE)))}function ve(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const se=new Promise(w=>{i(this,u,()=>{"hidden"===document.visibilityState&&(w(),document.removeEventListener("visibilitychange",E(this,u)),i(this,u,null))}),document.addEventListener("visibilitychange",E(this,u))});return Promise.race([this._onePageRenderedCapability.promise,se])}function ye(){if(this._scrollMode!==b.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const se=this._currentPageNumber,w=E(this,o),J=this.viewer;if(J.textContent="",w.pages.length=0,this._spreadMode!==b.SpreadMode.NONE||this.isInPresentationMode){const he=new Set,be=this._spreadMode-1;-1===be?he.add(se-1):se%2!==be?(he.add(se-1),he.add(se)):(he.add(se-2),he.add(se-1));const X=document.createElement("div");if(X.className="spread",this.isInPresentationMode){const O=document.createElement("div");O.className="dummyPage",X.appendChild(O)}for(const O of he){const U=this._pages[O];U&&(X.appendChild(U.div),w.pages.push(U))}J.appendChild(X)}else{const he=this._pages[se-1];J.appendChild(he.div),w.pages.push(he)}w.scrollDown=se>=w.previousPageNumber,w.previousPageNumber=se}function ue(se,w=null){const{div:J,id:he}=se;if(this._scrollMode===b.ScrollMode.PAGE&&(this._setCurrentPageNumber(he),T(this,k,ye).call(this),this.update()),!w&&!this.isInPresentationMode){const be=J.offsetLeft+J.clientLeft,X=be+J.clientWidth,{scrollLeft:O,clientWidth:U}=this.container;(this._scrollMode===b.ScrollMode.HORIZONTAL||be<O||X>O+U)&&(w={left:0,top:0})}(0,b.scrollIntoView)(J,w)}function ne(se){return se===this._currentScale||Math.abs(se-this._currentScale)<1e-15}function re(){const se=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),T(this,Q,ue).call(this,se)}function D(se){return q.apply(this,arguments)}function q(){return(q=A(function*(se){if(se.pdfPage)return se.pdfPage;try{const w=yield this.pdfDocument.getPage(se.id);return se.pdfPage||se.setPdfPage(w),this.linkService._cachedPageNumber?.(w.ref)||this.linkService.cachePageRef(se.id,w.ref),w}catch(w){return console.error("Unable to get page for page view",w),null}})).apply(this,arguments)}function te(se){if(1===se.first?.id)return!0;if(se.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case b.ScrollMode.PAGE:return E(this,o).scrollDown;case b.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function fe(se){for(const w of se)this._pages[w-1]?.toggleLoadingIconSpinner(!0);for(const w of E(this,de))se.has(w.id)||w.toggleLoadingIconSpinner(!1)}g.BaseViewer=_e},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFPageView=void 0;var m=x(3),S=x(6),b=x(13),y=x(4);const t=b.compatibilityParams.maxCanvasPixels||16777216;var n=new WeakMap;g.PDFPageView=class h{constructor(d){C(this,n,{writable:!0,value:m.AnnotationMode.ENABLE_FORMS});const _=d.container,p=d.defaultViewport;this.id=d.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=d.scale||S.DEFAULT_SCALE,this.viewport=p,this.pdfPageRotate=p.rotation,this._optionalContentConfigPromise=d.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=d.textLayerMode??S.TextLayerMode.ENABLE,i(this,n,d.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=d.imageResourcesPath||"",this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels||t,this.pageColors=d.pageColors||null,this.eventBus=d.eventBus,this.renderingQueue=d.renderingQueue,this.textLayerFactory=d.textLayerFactory,this.annotationLayerFactory=d.annotationLayerFactory,this.xfaLayerFactory=d.xfaLayerFactory,this.textHighlighter=d.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=d.structTreeLayerFactory,this.renderer=d.renderer||S.RendererType.CANVAS,this.l10n=d.l10n||y.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=S.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const c=document.createElement("div");c.className="page",c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px",c.setAttribute("data-page-number",this.id),c.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(L=>{c.setAttribute("aria-label",L)}),this.div=c,_?.appendChild(c)}setPdfPage(d){this.pdfPage=d,this.pdfPageRotate=d.rotate,this.viewport=d.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var d=this;return A(function*(){let _=null;try{yield d.annotationLayer.render(d.viewport,"display")}catch(p){_=p}finally{d.eventBus.dispatch("annotationlayerrendered",{source:d,pageNumber:d.id,error:_})}})()}_renderXfaLayer(){var d=this;return A(function*(){let _=null;try{const p=yield d.xfaLayer.render(d.viewport,"display");d.textHighlighter&&d._buildXfaTextContentItems(p.textDivs)}catch(p){_=p}finally{d.eventBus.dispatch("xfalayerrendered",{source:d,pageNumber:d.id,error:_})}})()}_buildXfaTextContentItems(d){var _=this;return A(function*(){const p=yield _.pdfPage.getTextContent(),c=[];for(const L of p.items)c.push(L.str);_.textHighlighter.setTextMapping(d,c),_.textHighlighter.enable()})()}_resetZoomLayer(d=!1){if(!this.zoomLayer)return;const _=this.zoomLayer.firstChild;this.paintedViewportMap.delete(_),_.width=0,_.height=0,d&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:d=!1,keepAnnotationLayer:_=!1,keepXfaLayer:p=!1}={}){this.cancelRendering({keepAnnotationLayer:_,keepXfaLayer:p}),this.renderingState=S.RenderingStates.INITIAL;const c=this.div;c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px";const L=c.childNodes,M=d&&this.zoomLayer||null,V=_&&this.annotationLayer?.div||null,K=p&&this.xfaLayer?.div||null;for(let Z=L.length-1;Z>=0;Z--){const ee=L[Z];switch(ee){case M:case V:case K:continue}ee.remove()}c.removeAttribute("data-loaded"),V&&this.annotationLayer.hide(),K&&this.xfaLayer.hide(),M||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Z=>{this.loadingIconDiv?.setAttribute("aria-label",Z)}),c.appendChild(this.loadingIconDiv)}update({scale:d=0,rotation:_=null,optionalContentConfigPromise:p=null}){if(this.scale=d||this.scale,"number"==typeof _&&(this.rotation=_),p instanceof Promise&&(this._optionalContentConfigPromise=p),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:M}=document.documentElement;M.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let L=!1;if(this.canvas&&this.maxCanvasPixels>0){const M=this.outputScale;(Math.floor(this.viewport.width)*M.sx|0)*(Math.floor(this.viewport.height)*M.sy|0)>this.maxCanvasPixels&&(L=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&L)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:d=!1,keepXfaLayer:_=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!d||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!_||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:d,redrawAnnotationLayer:_=!1,redrawXfaLayer:p=!1}){const c=this.viewport.width,L=this.viewport.height,M=this.div;d.style.width=d.parentNode.style.width=M.style.width=Math.floor(c)+"px",d.style.height=d.parentNode.style.height=M.style.height=Math.floor(L)+"px";const V=this.viewport.rotation-this.paintedViewportMap.get(d).rotation,K=Math.abs(V);let Z=1,ee=1;if((90===K||270===K)&&(Z=L/c,ee=c/L),d.style.transform=`rotate(${V}deg) scale(${Z}, ${ee})`,this.textLayer){const oe=this.textLayer.viewport,de=Math.abs(this.viewport.rotation-oe.rotation);let R=c/oe.width;(90===de||270===de)&&(R=c/oe.height);const r=this.textLayer.textLayerDiv;let e,s;switch(de){case 0:e=s=0;break;case 90:e=0,s="-"+r.style.height;break;case 180:e="-"+r.style.width,s="-"+r.style.height;break;case 270:e="-"+r.style.width,s=0;break;default:console.error("Bad rotation value.")}r.style.transform=`rotate(${de}deg) scale(${R}) translate(${e}, ${s})`,r.style.transformOrigin="0% 0%"}_&&this.annotationLayer&&this._renderAnnotationLayer(),p&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(d,_){return this.viewport.convertToPdfPoint(d,_)}toggleLoadingIconSpinner(d=!1){this.loadingIconDiv?.classList.toggle("notVisible",!d)}draw(){var d=this;this.renderingState!==S.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:_,pdfPage:p}=this;if(!p)return this.renderingState=S.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=S.RenderingStates.RUNNING;const c=document.createElement("div");c.style.width=_.style.width,c.style.height=_.style.height,c.classList.add("canvasWrapper"),this.annotationLayer?.div?_.insertBefore(c,this.annotationLayer.div):_.appendChild(c);let L=null;if(this.textLayerMode!==S.TextLayerMode.DISABLE&&this.textLayerFactory){const ee=document.createElement("div");ee.className="textLayer",ee.style.width=c.style.width,ee.style.height=c.style.height,this.annotationLayer?.div?_.insertBefore(ee,this.annotationLayer.div):_.appendChild(ee),L=this.textLayerFactory.createTextLayerBuilder(ee,this.id-1,this.viewport,this.textLayerMode===S.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=L,E(this,n)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(_,p,null,this.imageResourcesPath,E(this,n)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&_.appendChild(this.xfaLayer.div);let M=null;this.renderingQueue&&(M=ee=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=S.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=S.RenderingStates.RUNNING,ee()});ee()});const V=function(){var ee=A(function*(oe=null){if(K===d.paintTask&&(d.paintTask=null),oe instanceof m.RenderingCancelledException)d._renderError=null;else if(d._renderError=oe,d.renderingState=S.RenderingStates.FINISHED,d.loadingIconDiv&&(d.loadingIconDiv.remove(),delete d.loadingIconDiv),d._resetZoomLayer(!0),d.eventBus.dispatch("pagerendered",{source:d,pageNumber:d.id,cssTransform:!1,timestamp:performance.now(),error:d._renderError}),oe)throw oe});return function(){return ee.apply(this,arguments)}}(),K=this.renderer===S.RendererType.SVG?this.paintOnSvg(c):this.paintOnCanvas(c);K.onRenderContinue=M,this.paintTask=K;const Z=K.promise.then(()=>V(null).then(()=>{if(L){const ee=p.streamTextContent({includeMarkedContent:!0});L.setTextContentStream(ee),L.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ee){return V(ee)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(_,p,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ee=>{ee.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(oe=>{if(!oe||!this.canvas)return;const ge=this.structTreeLayer.render(oe);ge.classList.add("structTree"),this.canvas.appendChild(ge)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(p)),_.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Z}paintOnCanvas(d){const _=(0,m.createPromiseCapability)(),p={promise:_.promise,onRenderContinue(r){r()},cancel(){R.cancel()}},c=this.viewport,L=document.createElement("canvas");L.hidden=!0;let M=!0;const V=function(){M&&(L.hidden=!1,M=!1)};d.appendChild(L),this.canvas=L;const K=L.getContext("2d",{alpha:!1}),Z=this.outputScale=new S.OutputScale;if(this.useOnlyCssZoom){const r=c.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});Z.sx*=r.width/c.width,Z.sy*=r.height/c.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(c.width*c.height));Z.sx>e||Z.sy>e?(Z.sx=e,Z.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ee=(0,S.approximateFraction)(Z.sx),oe=(0,S.approximateFraction)(Z.sy);L.width=(0,S.roundToDivide)(c.width*Z.sx,ee[0]),L.height=(0,S.roundToDivide)(c.height*Z.sy,oe[0]),L.style.width=(0,S.roundToDivide)(c.width,ee[1])+"px",L.style.height=(0,S.roundToDivide)(c.height,oe[1])+"px",this.paintedViewportMap.set(L,c);const de={canvasContext:K,transform:Z.scaled?[Z.sx,0,0,Z.sy,0,0]:null,viewport:this.viewport,annotationMode:E(this,n),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},R=this.pdfPage.render(de);return R.onContinue=function(r){V(),p.onRenderContinue?p.onRenderContinue(r):r()},R.promise.then(function(){V(),_.resolve()},function(r){V(),_.reject(r)}),p}paintOnSvg(d){let _=!1;const p=()=>{if(_)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},c=this.pdfPage,L=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:c.getOperatorList({annotationMode:E(this,n)}).then(V=>(p(),new m.SVGGraphics(c.commonObjs,c.objs).getSVG(V,L).then(Z=>{p(),this.svg=Z,this.paintedViewportMap.set(Z,L),Z.style.width=d.style.width,Z.style.height=d.style.height,this.renderingState=S.RenderingStates.FINISHED,d.appendChild(Z)}))),onRenderContinue(V){V()},cancel(){_=!0}}}setPageLabel(d){this.pageLabel="string"==typeof d?d:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.compatibilityParams=g.OptionKind=g.AppOptions=void 0;const x=Object.create(null);g.compatibilityParams=x;{const t=navigator.userAgent||"",n=navigator.platform||"",h=navigator.maxTouchPoints||1,v=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===n&&h>1||v)&&(x.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};g.OptionKind=m;const S={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:x.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};S.disablePreferences={value:!1,kind:m.VIEWER},S.locale={value:navigator.language||"en-US",kind:m.VIEWER},S.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},S.renderer.kind+=m.PREFERENCE;const b=Object.create(null);g.AppOptions=class y{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const h=b[n];if(void 0!==h)return h;const v=S[n];return void 0!==v?v.compatibility??v.value:void 0}static getAll(n=null){const h=Object.create(null);for(const v in S){const d=S[v];if(n){if(!(n&d.kind))continue;if(n===m.PREFERENCE){const p=d.value,c=typeof p;if("boolean"===c||"string"===c||"number"===c&&Number.isInteger(p)){h[v]=p;continue}throw new Error(`Invalid type for preference: ${v}`)}}const _=b[v];h[v]=void 0!==_?_:d.compatibility??d.value}return h}static set(n,h){b[n]=h}static setAll(n){for(const h in n)b[h]=n[h]}static remove(n){delete b[n]}static _hasUserOptions(){return Object.keys(b).length>0}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFRenderingQueue=void 0;var m=x(3),S=x(6);g.PDFRenderingQueue=class y{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,h,v,d=!1){const _=n.views,p=_.length;if(0===p)return null;for(let K=0;K<p;K++){const Z=_[K].view;if(!this.isViewFinished(Z))return Z}const c=n.first.id,L=n.last.id;if(L-c+1>p){const K=n.ids;for(let Z=1,ee=L-c;Z<ee;Z++){const oe=v?c+Z:L-Z;if(K.has(oe))continue;const ge=h[oe-1];if(!this.isViewFinished(ge))return ge}}let M=v?L:c-2,V=h[M];return V&&!this.isViewFinished(V)||d&&(M+=v?1:-1,V=h[M],V&&!this.isViewFinished(V))?V:null}isViewFinished(n){return n.renderingState===S.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case S.RenderingStates.FINISHED:return!1;case S.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case S.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case S.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof m.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextHighlighter=void 0,g.TextHighlighter=class x{constructor({findController:S,eventBus:b,pageIndex:y}){this.findController=S,this.matches=[],this.eventBus=b,this.pageIdx=y,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(S,b){this.textDivs=S,this.textContentItemsStr=b}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=S=>{(S.pageIndex===this.pageIdx||-1===S.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(S,b){if(!S)return[];const{textContentItemsStr:y}=this;let t=0,n=0;const h=y.length-1,v=[];for(let d=0,_=S.length;d<_;d++){let p=S[d];for(;t!==h&&p>=n+y[t].length;)n+=y[t].length,t++;t===y.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:t,offset:p-n}};for(p+=b[d];t!==h&&p>n+y[t].length;)n+=y[t].length,t++;c.end={divIdx:t,offset:p-n},v.push(c)}return v}_renderMatches(S){if(0===S.length)return;const{findController:b,pageIdx:y}=this,{textContentItemsStr:t,textDivs:n}=this,h=y===b.selected.pageIdx,v=b.selected.matchIdx;let _=null;function c(K,Z){const ee=K.divIdx;return n[ee].textContent="",L(ee,0,K.offset,Z)}function L(K,Z,ee,oe){let ge=n[K];if(ge.nodeType===Node.TEXT_NODE){const r=document.createElement("span");ge.parentNode.insertBefore(r,ge),r.appendChild(ge),n[K]=r,ge=r}const de=t[K].substring(Z,ee),R=document.createTextNode(de);if(oe){const r=document.createElement("span");return r.className=`${oe} appended`,r.appendChild(R),ge.appendChild(r),oe.includes("selected")?r.offsetLeft:0}return ge.appendChild(R),0}let M=v,V=M+1;if(b.state.highlightAll)M=0,V=S.length;else if(!h)return;for(let K=M;K<V;K++){const Z=S[K],ee=Z.begin,oe=Z.end,ge=h&&K===v,de=ge?" selected":"";let R=0;if(_&&ee.divIdx===_.divIdx?L(_.divIdx,_.offset,ee.offset):(null!==_&&L(_.divIdx,_.offset,undefined),c(ee)),ee.divIdx===oe.divIdx)R=L(ee.divIdx,ee.offset,oe.offset,"highlight"+de);else{R=L(ee.divIdx,ee.offset,undefined,"highlight begin"+de);for(let r=ee.divIdx+1,e=oe.divIdx;r<e;r++)n[r].className="highlight middle"+de;c(oe,"highlight end"+de)}_=oe,ge&&b.scrollMatchIntoView({element:n[ee.divIdx],selectedLeft:R,pageIndex:y,matchIndex:v})}_&&L(_.divIdx,_.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:S,matches:b,pageIdx:y}=this,{textContentItemsStr:t,textDivs:n}=this;let h=-1;for(let _=0,p=b.length;_<p;_++){const c=b[_];for(let M=Math.max(h,c.begin.divIdx),V=c.end.divIdx;M<=V;M++){const K=n[M];K.textContent=t[M],K.className=""}h=c.end.divIdx+1}S?.highlightMatches&&(this.matches=this._convertMatches(S.pageMatches[y]||null,S.pageMatchesLength[y]||null),this._renderMatches(this.matches))}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DownloadManager=void 0;var m=x(3);function S(y,t){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=y,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}g.DownloadManager=class b{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(t,n){(0,m.createValidAbsoluteUrl)(t,"http://example.com")?S(t+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${t}`)}downloadData(t,n,h){S(URL.createObjectURL(new Blob([t],{type:h})),n)}openOrDownloadData(t,n,h){const v=(0,m.isPdfFile)(h),d=v?"application/pdf":"";if(v){let p,_=this._openBlobUrls.get(t);_||(_=URL.createObjectURL(new Blob([n],{type:d})),this._openBlobUrls.set(t,_)),p="?file="+encodeURIComponent(_+"#"+h);try{return window.open(p),!0}catch(c){console.error(`openOrDownloadData: ${c}`),URL.revokeObjectURL(_),this._openBlobUrls.delete(t)}}return this.downloadData(n,h,d),!1}download(t,n,h,v="download"){S(URL.createObjectURL(t),h)}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WaitOnType=g.EventBus=g.AutomationEventBus=void 0,g.waitOnEventOrTimeout=function m({target:y,name:t,delay:n=0}){return new Promise(function(h,v){if("object"!=typeof y||!t||"string"!=typeof t||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function d(L){y instanceof S?y._off(t,_):y.removeEventListener(t,_),c&&clearTimeout(c),h(L)}const _=d.bind(null,x.EVENT);y instanceof S?y._on(t,_):y.addEventListener(t,_);const p=d.bind(null,x.TIMEOUT),c=setTimeout(p,n)})};const x={EVENT:"event",TIMEOUT:"timeout"};g.WaitOnType=x;class S{constructor(){this._listeners=Object.create(null)}on(t,n,h=null){this._on(t,n,{external:!0,once:h?.once})}off(t,n,h=null){this._off(t,n,{external:!0,once:h?.once})}dispatch(t,n){const h=this._listeners[t];if(!h||0===h.length)return;let v;for(const{listener:d,external:_,once:p}of h.slice(0))p&&this._off(t,d),_?(v||=[]).push(d):d(n);if(v){for(const d of v)d(n);v=null}}_on(t,n,h=null){(this._listeners[t]||=[]).push({listener:n,external:!0===h?.external,once:!0===h?.once})}_off(t,n,h=null){const v=this._listeners[t];if(v)for(let d=0,_=v.length;d<_;d++)if(v[d].listener===n)return void v.splice(d,1)}}g.EventBus=S,g.AutomationEventBus=class b extends S{dispatch(t,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericL10n=void 0,x(19);var m=x(4);const S=document.webL10n;g.GenericL10n=class b{constructor(t){this._lang=t,this._ready=new Promise((n,h)=>{S.setLanguage((0,m.fixupLangCode)(t),()=>{n(S)})})}getLanguage(){var t=this;return A(function*(){return(yield t._ready).getLanguage()})()}getDirection(){var t=this;return A(function*(){return(yield t._ready).getDirection()})()}get(t,n=null,h=(0,m.getL10nFallback)(t,n)){var v=this;return A(function*(){return(yield v._ready).get(t,n,h)})()}translate(t){var n=this;return A(function*(){return(yield n._ready).translate(t)})()}}},()=>{document.webL10n=function(W,g,x){var m={},S="",b="textContent",y="",t={},n="loading",h=!0;function c(r,e,s){e=e||function(f){},s=s||function(){};var o=new XMLHttpRequest;o.open("GET",r,h),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=utf-8"),o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0===o.status?e(o.responseText):s())},o.onerror=s,o.ontimeout=s;try{o.send(null)}catch{s()}}function M(r,e){r&&(r=r.toLowerCase()),e=e||function(){},function V(){m={},S="",y=""}(),y=r;var s=function v(){return g.querySelectorAll('link[type="application/l10n"]')}(),o=s.length;if(0!==o){var k,Q=0;k=function(){++Q>=o&&(e(),n="complete")};for(var Y=0;Y<o;Y++)new B(s[Y]).load(r,k)}else{var u=function d(){var r=g.querySelector('script[type="application/l10n"]');return r?JSON.parse(r.innerHTML):null}();if(u&&u.locales&&u.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=u.locales[r])){var f=u.default_locale.toLowerCase();for(var l in u.locales){if((l=l.toLowerCase())===r){m=u.locales[r];break}l===f&&(m=u.locales[f])}}e()}else console.log("no resource to load, early way out");n="complete"}function B(ie){var ae=ie.href;this.load=function(_e,Ae){!function L(r,e,s,o){var u=r.replace(/[^\/]*$/,"")||"./";function f(k){return k.lastIndexOf("\\")<0?k:k.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(r,function(k){S+=k,function l(k,Q){var B={},Y=/^\s*|\s*$/,$=/^\s*#|^\s*$/,ie=/^\s*\[(.*)\]\s*$/,ae=/^\s*@import\s+url\((.*)\)\s*$/i,_e=/^([^=\s]*)\s*=\s*(.+)$/;function Ae(ye,ue,ne){var re=ye.replace(Y,"").split(/[\r\n]+/),D="*",q=e.split("-",1)[0],te=!1,fe="";!function se(){for(;;){if(!re.length)return void ne();var w=re.shift();if(!$.test(w)){if(ue){if(fe=ie.exec(w)){D=fe[1].toLowerCase(),te="*"!==D&&D!==e&&D!==q;continue}if(te)continue;if(fe=ae.exec(w))return void ve(u+fe[1],se)}var J=w.match(_e);J&&3==J.length&&(B[J[1]]=f(J[2]))}}}()}function ve(ye,ue){c(ye,function(ne){Ae(ne,!1,ue)},function(){console.warn(ye+" not found."),ue()})}Ae(k,!0,function(){Q(B)})}(k,function(Q){for(var B in Q){var Y,$,ie=B.lastIndexOf(".");ie>0?(Y=B.substring(0,ie),$=B.substring(ie+1)):(Y=B,$=b),m[Y]||(m[Y]={}),m[Y][$]=Q[B]}s&&s()})},o)}(ae,_e,Ae,function(){console.warn(ae+" not found."),console.warn('"'+_e+'" resource not found'),y="",Ae()})}}}function Z(r,e,s){var o=m[r];if(!o){if(console.warn("#"+r+" is undefined."),!s)return null;o=s}var u={};for(var f in o){var l=o[f];l=oe(l=ee(l,e,r,f),e,r),u[f]=l}return u}function ee(r,e,s,o){var f=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(r);if(!f||!f.length)return r;var Q,l=f[1],k=f[2];return e&&k in e?Q=e[k]:k in m&&(Q=m[k]),l in t&&(r=(0,t[l])(r,Q,s,o)),r}function oe(r,e,s){return r.replace(/\{\{\s*(.+?)\s*\}\}/g,function(u,f){return e&&f in e?e[f]:f in m?m[f]:(console.log("argument {{"+f+"}} for #"+s+" is undefined."),u)})}function ge(r){var e=function p(r){if(!r)return{};var e=r.getAttribute("data-l10n-id"),s=r.getAttribute("data-l10n-args"),o={};if(s)try{o=JSON.parse(s)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:o}}(r);if(e.id){var s=Z(e.id,e.args);if(!s)return void console.warn("#"+e.id+" is undefined.");if(s[b]){if(0===function de(r){if(r.children)return r.children.length;if(typeof r.childElementCount<"u")return r.childElementCount;for(var e=0,s=0;s<r.childNodes.length;s++)e+=1===r.nodeType?1:0;return e}(r))r[b]=s[b];else{for(var o=r.childNodes,u=!1,f=0,l=o.length;f<l;f++)3===o[f].nodeType&&/\S/.test(o[f].nodeValue)&&(u?o[f].nodeValue="":(o[f].nodeValue=s[b],u=!0));if(!u){var k=g.createTextNode(s[b]);r.insertBefore(k,r.firstChild)}}delete s[b]}for(var Q in s)r[Q]=s[Q]}}return t.plural=function(r,e,s,o){var u=parseFloat(e);if(isNaN(u)||o!=b)return r;t._pluralRules||(t._pluralRules=function K(r){function s(l,k){return-1!==k.indexOf(l)}function o(l,k,Q){return k<=l&&l<=Q}var u={0:function(l){return"other"},1:function(l){return o(l%100,3,10)?"few":0===l?"zero":o(l%100,11,99)?"many":2==l?"two":1==l?"one":"other"},2:function(l){return 0!==l&&l%10==0?"many":2==l?"two":1==l?"one":"other"},3:function(l){return 1==l?"one":"other"},4:function(l){return o(l,0,1)?"one":"other"},5:function(l){return o(l,0,2)&&2!=l?"one":"other"},6:function(l){return 0===l?"zero":l%10==1&&l%100!=11?"one":"other"},7:function(l){return 2==l?"two":1==l?"one":"other"},8:function(l){return o(l,3,6)?"few":o(l,7,10)?"many":2==l?"two":1==l?"one":"other"},9:function(l){return 0===l||1!=l&&o(l%100,1,19)?"few":1==l?"one":"other"},10:function(l){return o(l%10,2,9)&&!o(l%100,11,19)?"few":l%10!=1||o(l%100,11,19)?"other":"one"},11:function(l){return o(l%10,2,4)&&!o(l%100,12,14)?"few":l%10==0||o(l%10,5,9)||o(l%100,11,14)?"many":l%10==1&&l%100!=11?"one":"other"},12:function(l){return o(l,2,4)?"few":1==l?"one":"other"},13:function(l){return o(l%10,2,4)&&!o(l%100,12,14)?"few":1!=l&&o(l%10,0,1)||o(l%10,5,9)||o(l%100,12,14)?"many":1==l?"one":"other"},14:function(l){return o(l%100,3,4)?"few":l%100==2?"two":l%100==1?"one":"other"},15:function(l){return 0===l||o(l%100,2,10)?"few":o(l%100,11,19)?"many":1==l?"one":"other"},16:function(l){return l%10==1&&11!=l?"one":"other"},17:function(l){return 3==l?"few":0===l?"zero":6==l?"many":2==l?"two":1==l?"one":"other"},18:function(l){return 0===l?"zero":o(l,0,2)&&0!==l&&2!=l?"one":"other"},19:function(l){return o(l,2,10)?"few":o(l,0,1)?"one":"other"},20:function(l){return!o(l%10,3,4)&&l%10!=9||o(l%100,10,19)||o(l%100,70,79)||o(l%100,90,99)?l%1e6==0&&0!==l?"many":l%10!=2||s(l%100,[12,72,92])?l%10!=1||s(l%100,[11,71,91])?"other":"one":"two":"few"},21:function(l){return 0===l?"zero":1==l?"one":"other"},22:function(l){return o(l,0,1)||o(l,11,99)?"one":"other"},23:function(l){return o(l%10,1,2)||l%20==0?"one":"other"},24:function(l){return o(l,3,10)||o(l,13,19)?"few":s(l,[2,12])?"two":s(l,[1,11])?"one":"other"}},f={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[r.replace(/-.*$/,"")];return f in u?u[f]:(console.warn("plural form unknown for ["+r+"]"),function(){return"other"})}(y));var f="["+t._pluralRules(u)+"]";return 0===u&&s+"[zero]"in m?r=m[s+"[zero]"][o]:1==u&&s+"[one]"in m?r=m[s+"[one]"][o]:2==u&&s+"[two]"in m?r=m[s+"[two]"][o]:s+f in m?r=m[s+f][o]:s+"[other]"in m&&(r=m[s+"[other]"][o]),r},{get:function(r,e,s){var f,o=r.lastIndexOf("."),u=b;o>0&&(u=r.substring(o+1),r=r.substring(0,o)),s&&((f={})[u]=s);var l=Z(r,e,f);return l&&u in l?l[u]:"{{"+r+"}}"},getData:function(){return m},getText:function(){return S},getLanguage:function(){return y},setLanguage:function(r,e){M(r,function(){e&&e()})},getDirection:function(){var e=y.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function R(r){for(var e=function _(r){return r?r.querySelectorAll("*[data-l10n-id]"):[]}(r=r||g.documentElement),s=e.length,o=0;o<s;o++)ge(e[o]);ge(r)},getReadyState:function(){return n},ready:function(r){r&&("complete"==n||"interactive"==n?W.setTimeout(function(){r()}):g.addEventListener&&g.addEventListener("localized",function e(){g.removeEventListener("localized",e),r()}))}}}(window,document)},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFindController=g.FindState=void 0;var m=x(6),S=x(3),b=x(21);const y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};g.FindState=y;const t=250,v={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),_=[...d.values()].map(ce=>String.fromCharCode(ce)).join(""),p=/\p{M}+/gu,c=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,L=/([^\p{M}])\p{M}*$/u,M=/^\p{M}*([^\p{M}])/u;let V=null;function K(ce){if(!V){const Le=Object.keys(v).join("");V=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const pe=[];let Ce;for(;null!==(Ce=p.exec(ce));)pe.push([Ce[0].length,Ce.index]);let we=ce.normalize("NFD");const me=[[0,0]];let xe=0,Pe=0,Ee=0,Me=0,ke=!1;return we=we.replace(V,(Le,Ne,Re,Ie,Fe,Oe)=>{if(Oe-=Ee,Ne){const De=v[Le],Ve=De.length;for(let Be=1;Be<Ve;Be++)me.push([Oe-Pe+Be,Pe-Be]);return Pe-=Ve-1,De}if(Re){const De=Re.endsWith("\n"),Ve=De?Re.length-2:Re.length;ke=!0;let Be=Ve;Oe+Me===pe[xe]?.[1]&&(Be-=pe[xe][0],++xe);for(let Ue=1;Ue<Be+1;Ue++)me.push([Oe-1-Pe+Ue,Pe-Ue]);return Pe-=Be,Ee+=Be,De?(me.push([(Oe+=Ve-1)-Pe+1,1+Pe]),Pe+=1,Ee+=1,Me+=1,Re.slice(0,Ve)):Re}return Ie?(me.push([Oe-Pe+1,1+Pe]),Pe+=1,Ee+=1,Me+=1,Ie.charAt(0)):(me.push([Oe-Pe+1,Pe-1]),Pe-=1,Ee+=1,Me+=1," ")}),me.push([we.length,Pe]),[we,me,ke]}function Z(ce,pe,Ce){if(!ce)return[pe,Ce];const we=pe,me=pe+Ce;let xe=(0,m.binarySearchFirstItem)(ce,Ee=>Ee[0]>=we);ce[xe][0]>we&&--xe;let Pe=(0,m.binarySearchFirstItem)(ce,Ee=>Ee[0]>=me,xe);return ce[Pe][0]>me&&--Pe,[we+ce[xe][1],Ce+ce[Pe][1]-ce[xe][1]]}var ee=new WeakSet,oe=new WeakSet,ge=new WeakMap,de=new WeakSet,R=new WeakSet,r=new WeakSet,e=new WeakSet,s=new WeakSet,o=new WeakSet,u=new WeakSet,f=new WeakSet,l=new WeakSet,k=new WeakSet,Q=new WeakSet,B=new WeakSet,Y=new WeakSet,$=new WeakSet,ie=new WeakSet,ae=new WeakSet,_e=new WeakSet;function ve(ce){if(!ce)return;const pe=this._pdfDocument,{type:Ce}=ce;(null===this._state||T(this,de,ne).call(this,ce))&&(this._dirtyMatch=!0),this._state=ce,"highlightallchange"!==Ce&&T(this,_e,Te).call(this,y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||pe&&this._pdfDocument!==pe)return;T(this,o,fe).call(this);const we=!this._highlightMatches,me=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Ce?this._dirtyMatch?T(this,l,J).call(this):"again"===Ce?(T(this,l,J).call(this),we&&this._state.highlightAll&&T(this,f,w).call(this)):"highlightallchange"===Ce?(me?T(this,l,J).call(this):this._highlightMatches=!0,T(this,f,w).call(this)):T(this,l,J).call(this):this._findTimeout=setTimeout(()=>{T(this,l,J).call(this),this._findTimeout=null},t)})}function ye(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,S.createPromiseCapability)()}function ue(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=K(this._state.query)),this._normalizedQuery}function ne(ce){if(ce.query!==this._state.query)return!0;switch(ce.type){case"again":const pe=this._selected.pageIdx+1,Ce=this._linkService;return pe>=1&&pe<=Ce.pagesCount&&pe!==Ce.page&&!Ce.isPageVisible(pe);case"highlightallchange":return!1}return!0}function re(ce,pe,Ce){let we=ce.slice(0,pe).match(L);if(we){const me=ce.charCodeAt(pe),xe=we[1].charCodeAt(0);if((0,b.getCharacterType)(me)===(0,b.getCharacterType)(xe))return!1}if(we=ce.slice(pe+Ce).match(M),we){const me=ce.charCodeAt(pe+Ce-1),xe=we[1].charCodeAt(0);if((0,b.getCharacterType)(me)===(0,b.getCharacterType)(xe))return!1}return!0}function D(ce,pe,Ce,we){const me=[],xe=[],Pe=this._pageDiffs[Ce];let Ee;for(;null!==(Ee=ce.exec(we));){if(pe&&!T(this,R,re).call(this,we,Ee.index,Ee[0].length))continue;const[Me,ke]=Z(Pe,Ee.index,Ee[0].length);ke&&(me.push(Me),xe.push(ke))}this._pageMatches[Ce]=me,this._pageMatchesLength[Ce]=xe}function q(ce,pe){const{matchDiacritics:Ce}=this._state;let we=!1;return(ce=ce.replace(c,(xe,Pe,Ee,Me,ke,Le)=>Pe?`[ ]*\\${Pe}[ ]*`:Ee?`[ ]*${Ee}[ ]*`:Me?"[ ]+":Ce?ke||Le:ke?d.has(ke.charCodeAt(0))?ke:"":pe?(we=!0,`${Le}\\p{M}*`):Le)).endsWith("[ ]*")&&(ce=ce.slice(0,ce.length-"[ ]*".length)),Ce&&pe&&(we=!0,ce=`${ce}(?=[${_}]|[^\\p{M}]|$)`),[we,ce]}function te(ce){let pe=E(this,ge);if(0===pe.length)return;const{caseSensitive:Ce,entireWord:we,phraseSearch:me}=this._state,xe=this._pageContents[ce],Pe=this._hasDiacritics[ce];let Ee=!1;if(me)[Ee,pe]=T(this,e,q).call(this,pe,Pe);else{const Le=pe.match(/\S+/g);Le&&(pe=Le.sort().reverse().map(Ne=>{const[Re,Ie]=T(this,e,q).call(this,Ne,Pe);return Ee||=Re,`(${Ie})`}).join("|"))}pe=new RegExp(pe,`g${Ee?"u":""}${Ce?"":"i"}`),T(this,r,D).call(this,pe,we,ce,xe),this._state.highlightAll&&T(this,u,se).call(this,ce),this._resumePageIdx===ce&&(this._resumePageIdx=null,T(this,Q,be).call(this));const ke=this._pageMatches[ce].length;ke>0&&(this._matchesCountTotal+=ke,T(this,ae,Se).call(this))}function fe(){if(this._extractTextPromises.length>0)return;let ce=Promise.resolve();for(let pe=0,Ce=this._linkService.pagesCount;pe<Ce;pe++){const we=(0,S.createPromiseCapability)();this._extractTextPromises[pe]=we.promise,ce=ce.then(()=>this._pdfDocument.getPage(pe+1).then(me=>me.getTextContent()).then(me=>{const xe=[];for(const Pe of me.items)xe.push(Pe.str),Pe.hasEOL&&xe.push("\n");[this._pageContents[pe],this._pageDiffs[pe],this._hasDiacritics[pe]]=K(xe.join("")),we.resolve()},me=>{console.error(`Unable to get text content for page ${pe+1}`,me),this._pageContents[pe]="",this._pageDiffs[pe]=null,this._hasDiacritics[pe]=!1,we.resolve()}))}}function se(ce){this._scrollMatches&&this._selected.pageIdx===ce&&(this._linkService.page=ce+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:ce})}function w(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function J(){const ce=this._state.findPrevious,pe=this._linkService.page-1,Ce=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=pe,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,T(this,f,w).call(this);for(let me=0;me<Ce;me++)this._pendingFindMatches.has(me)||(this._pendingFindMatches.add(me),this._extractTextPromises[me].then(()=>{this._pendingFindMatches.delete(me),T(this,s,te).call(this,me)}))}if(""===E(this,ge))return void T(this,_e,Te).call(this,y.FOUND);if(this._resumePageIdx)return;const we=this._offset;if(this._pagesToSearch=Ce,null!==we.matchIdx){if(!ce&&we.matchIdx+1<this._pageMatches[we.pageIdx].length||ce&&we.matchIdx>0)return we.matchIdx=ce?we.matchIdx-1:we.matchIdx+1,void T(this,Y,O).call(this,!0);T(this,B,X).call(this,ce)}T(this,Q,be).call(this)}function he(ce){const pe=this._offset,Ce=ce.length,we=this._state.findPrevious;return Ce?(pe.matchIdx=we?Ce-1:0,T(this,Y,O).call(this,!0),!0):(T(this,B,X).call(this,we),!!(pe.wrapped&&(pe.matchIdx=null,this._pagesToSearch<0))&&(T(this,Y,O).call(this,!1),!0))}function be(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let ce=null;do{const pe=this._offset.pageIdx;if(ce=this._pageMatches[pe],!ce){this._resumePageIdx=pe;break}}while(!T(this,k,he).call(this,ce))}function X(ce){const pe=this._offset,Ce=this._linkService.pagesCount;pe.pageIdx=ce?pe.pageIdx-1:pe.pageIdx+1,pe.matchIdx=null,this._pagesToSearch--,(pe.pageIdx>=Ce||pe.pageIdx<0)&&(pe.pageIdx=ce?Ce-1:0,pe.wrapped=!0)}function O(ce=!1){let pe=y.NOT_FOUND;const Ce=this._offset.wrapped;if(this._offset.wrapped=!1,ce){const we=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,pe=Ce?y.WRAPPED:y.FOUND,-1!==we&&we!==this._selected.pageIdx&&T(this,u,se).call(this,we)}T(this,_e,Te).call(this,pe,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,T(this,u,se).call(this,this._selected.pageIdx))}function U(ce){const pe=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||pe&&this._pdfDocument!==pe||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),T(this,_e,Te).call(this,y.FOUND),this._highlightMatches=!1,T(this,f,w).call(this))})}function le(){const{pageIdx:ce,matchIdx:pe}=this._selected;let Ce=0,we=this._matchesCountTotal;if(-1!==pe){for(let me=0;me<ce;me++)Ce+=this._pageMatches[me]?.length||0;Ce+=pe+1}return(Ce<1||Ce>we)&&(Ce=we=0),{current:Ce,total:we}}function Se(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:T(this,ie,le).call(this)})}function Te(ce,pe=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:ce,previous:pe,matchesCount:T(this,ie,le).call(this),rawQuery:this._state?.query??null})}g.PDFFindController=class Ae{constructor({linkService:pe,eventBus:Ce}){F(this,_e),F(this,ae),F(this,ie),F(this,$),F(this,Y),F(this,B),F(this,Q),F(this,k),F(this,l),F(this,f),F(this,u),F(this,o),F(this,s),F(this,e),F(this,r),F(this,R),F(this,de),C(this,ge,{get:ue,set:void 0}),F(this,oe),F(this,ee),this._linkService=pe,this._eventBus=Ce,T(this,oe,ye).call(this),Ce._on("find",T(this,ee,ve).bind(this)),Ce._on("findbarclose",T(this,$,U).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(pe){this._pdfDocument&&T(this,oe,ye).call(this),pe&&(this._pdfDocument=pe,this._firstPageCapability.resolve())}scrollMatchIntoView({element:pe=null,selectedLeft:Ce=0,pageIndex:we=-1,matchIndex:me=-1}){this._scrollMatches&&pe&&-1!==me&&me===this._selected.matchIdx&&-1!==we&&we===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(pe,{top:-50,left:Ce+-400},!0))}}},(W,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterType=void 0,g.getCharacterType=function p(c){return function m(c){return c<11904}(c)?function S(c){return 0==(65408&c)}(c)?function t(c){return 32===c||9===c||13===c||10===c}(c)?x.SPACE:function b(c){return c>=97&&c<=122||c>=65&&c<=90}(c)||function y(c){return c>=48&&c<=57}(c)||95===c?x.ALPHA_LETTER:x.PUNCT:function _(c){return 3584==(65408&c)}(c)?x.THAI_LETTER:160===c?x.SPACE:x.ALPHA_LETTER:function n(c){return c>=13312&&c<=40959||c>=63744&&c<=64255}(c)?x.HAN_LETTER:function h(c){return c>=12448&&c<=12543}(c)?x.KATAKANA_LETTER:function v(c){return c>=12352&&c<=12447}(c)?x.HIRAGANA_LETTER:function d(c){return c>=65376&&c<=65439}(c)?x.HALFWIDTH_KATAKANA_LETTER:x.ALPHA_LETTER};const x={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};g.CharacterType=x},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFHistory=void 0,g.isDestArraysEqual=d,g.isDestHashesEqual=v;var m=x(6),S=x(17);function n(){return document.location.hash}function v(_,p){return"string"==typeof _&&"string"==typeof p&&(_===p||(0,m.parseQueryString)(_).get("nameddest")===p)}function d(_,p){function c(L,M){if(typeof L!=typeof M||Array.isArray(L)||Array.isArray(M))return!1;if(null!==L&&"object"==typeof L&&null!==M){if(Object.keys(L).length!==Object.keys(M).length)return!1;for(const V in L)if(!c(L[V],M[V]))return!1;return!0}return L===M||Number.isNaN(L)&&Number.isNaN(M)}if(!Array.isArray(_)||!Array.isArray(p)||_.length!==p.length)return!1;for(let L=0,M=_.length;L<M;L++)if(!c(_[L],p[L]))return!1;return!0}g.PDFHistory=class h{constructor({linkService:p,eventBus:c}){this.linkService=p,this.eventBus=c,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",L=>{this._isPagesLoaded=!!L.pagesCount},{once:!0})})}initialize({fingerprint:p,resetHistory:c=!1,updateUrl:L=!1}){if(!p||"string"!=typeof p)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const M=""!==this._fingerprint&&this._fingerprint!==p;this._fingerprint=p,this._updateUrl=!0===L,this._initialized=!0,this._bindEvents();const V=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(V,!0)||c){const{hash:Z,page:ee,rotation:oe}=this._parseCurrentHash(!0);return!Z||M||c?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Z,page:ee,rotation:oe},!0)}const K=V.destination;this._updateInternalState(K,V.uid,!0),void 0!==K.rotation&&(this._initialRotation=K.rotation),K.dest?(this._initialBookmark=JSON.stringify(K.dest),this._destination.page=null):K.hash?this._initialBookmark=K.hash:K.page&&(this._initialBookmark=`page=${K.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:p=null,explicitDest:c,pageNumber:L}){if(!this._initialized)return;if(p&&"string"!=typeof p)return void console.error(`PDFHistory.push: "${p}" is not a valid namedDest parameter.`);if(!Array.isArray(c))return void console.error(`PDFHistory.push: "${c}" is not a valid explicitDest parameter.`);if(!this._isValidPage(L)&&(null!==L||this._destination))return void console.error(`PDFHistory.push: "${L}" is not a valid pageNumber parameter.`);const M=p||JSON.stringify(c);if(!M)return;let V=!1;if(this._destination&&(v(this._destination.hash,M)||d(this._destination.dest,c))){if(this._destination.page)return;V=!0}this._popStateInProgress&&!V||(this._pushOrReplaceState({dest:c,hash:M,page:L,rotation:this.linkService.rotation},V),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(p){if(this._initialized){if(!this._isValidPage(p))return void console.error(`PDFHistory.pushPage: "${p}" is not a valid page number.`);this._destination?.page!==p&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${p}`,page:p,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(p,c=!1){const L=c||!this._destination,M={fingerprint:this._fingerprint,uid:L?this._uid:this._uid+1,destination:p};let V;if(this._updateInternalState(p,M.uid),this._updateUrl&&p?.hash){const K=document.location.href.split("#")[0];K.startsWith("file://")||(V=`${K}#${p.hash}`)}L?window.history.replaceState(M,"",V):window.history.pushState(M,"",V)}_tryPushCurrentPosition(p=!1){if(!this._position)return;let c=this._position;if(p&&(c=Object.assign(Object.create(null),this._position),c.temporary=!0),!this._destination)return void this._pushOrReplaceState(c);if(this._destination.temporary)return void this._pushOrReplaceState(c,!0);if(this._destination.hash===c.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let L=!1;if(this._destination.page>=c.first&&this._destination.page<=c.page){if(void 0!==this._destination.dest||!this._destination.first)return;L=!0}this._pushOrReplaceState(c,L)}_isValidPage(p){return Number.isInteger(p)&&p>0&&p<=this.linkService.pagesCount}_isValidState(p,c=!1){if(!p)return!1;if(p.fingerprint!==this._fingerprint){if(!c)return!1;{if("string"!=typeof p.fingerprint||p.fingerprint.length!==this._fingerprint.length)return!1;const[L]=performance.getEntriesByType("navigation");if("reload"!==L?.type)return!1}}return!(!Number.isInteger(p.uid)||p.uid<0||null===p.destination||"object"!=typeof p.destination)}_updateInternalState(p,c,L=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),L&&p?.temporary&&delete p.temporary,this._destination=p,this._uid=c,this._maxUid=Math.max(this._maxUid,c),this._numPositionUpdates=0}_parseCurrentHash(p=!1){const c=unescape(n()).substring(1),L=(0,m.parseQueryString)(c),M=L.get("nameddest")||"";let V=0|L.get("page");return(!this._isValidPage(V)||p&&M.length>0)&&(V=null),{hash:c,page:V,rotation:this.linkService.rotation}}_updateViewarea({location:p}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:p.pdfOpenParams.substring(1),page:this.linkService.page,first:p.pageNumber,rotation:p.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:p}){const c=n(),L=this._currentHash!==c;if(this._currentHash=c,!p){this._uid++;const{hash:V,page:K,rotation:Z}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:V,page:K,rotation:Z},!0)}if(!this._isValidState(p))return;this._popStateInProgress=!0,L&&(this._blockHashChange++,(0,S.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const M=p.destination;this._updateInternalState(M,p.uid,!0),(0,m.isValidRotation)(M.rotation)&&(this.linkService.rotation=M.rotation),M.dest?this.linkService.goToDestination(M.dest):M.hash?this.linkService.setHash(M.hash):M.page&&(this.linkService.page=M.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var m=x(6),S=x(3);g.PDFScriptingManager=class b{constructor({eventBus:t,sandboxBundleSrc:n=null,scriptingFactory:h=null,docPropertiesLookup:v=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=t,this._sandboxBundleSrc=n,this._scriptingFactory=h,this._docPropertiesLookup=v,this._scriptingFactory||window.addEventListener("updatefromsandbox",d=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:d.detail})})}setViewer(t){this._pdfViewer=t}setDocument(t){var n=this;return A(function*(){if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=t,!t)return;const[h,v,d]=yield Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);if(h||d){if(t===n._pdfDocument){try{n._scripting=n._createScripting()}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",_=>{_?.source===window&&n._updateFromSandbox(_.detail)}),n._internalEvents.set("dispatcheventinsandbox",_=>{n._scripting?.dispatchEventInSandbox(_.detail)}),n._internalEvents.set("pagechanging",({pageNumber:_,previous:p})=>{_!==p&&(n._dispatchPageClose(p),n._dispatchPageOpen(_))}),n._internalEvents.set("pagerendered",({pageNumber:_})=>{n._pageOpenPending.has(_)&&_===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(_)}),n._internalEvents.set("pagesdestroy",function(){var _=A(function*(p){yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),n._closeCapability?.resolve()});return function(p){return _.apply(this,arguments)}}()),n._domEvents.set("mousedown",_=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",_=>{n._mouseState.isDown=!1});for(const[_,p]of n._internalEvents)n._eventBus._on(_,p);for(const[_,p]of n._domEvents)window.addEventListener(_,p,!0);try{const _=yield n._getDocProperties();if(t!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:h,calculationOrder:v,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{..._,actions:d}}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield n._destroyScripting())}yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{t===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(t){var n=this;return A(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,S.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,S.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,S.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,S.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(t){var n=this;return A(function*(){const h=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:v,siblings:d,command:_,value:p}=t;if(!v){switch(_){case"clear":console.clear();break;case"error":console.error(p);break;case"layout":if(h)return;const L=(0,m.apiPageLayoutToViewerModes)(p);n._pdfViewer.spreadMode=L.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=p+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(p);break;case"zoom":if(h)return;n._pdfViewer.currentScaleValue=p;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;n._pdfViewer.decreaseScale()}return}if(h&&t.focus)return;delete t.id,delete t.siblings;const c=d?[v,...d]:[v];for(const L of c){const M=document.getElementById(L);M?M.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):n._pdfDocument?.annotationStorage.setValue(L,t)}})()}_dispatchPageOpen(t,n=!1){var h=this;return A(function*(){const v=h._pdfDocument,d=h._visitedPages;if(n&&(h._closeCapability=(0,S.createPromiseCapability)()),!h._closeCapability)return;const _=h._pdfViewer.getPageView(t-1);if(_?.renderingState!==m.RenderingStates.FINISHED)return void h._pageOpenPending.add(t);h._pageOpenPending.delete(t);const p=A(function*(){const c=yield d.has(t)?null:_.pdfPage?.getJSActions();v===h._pdfDocument&&(yield h._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:c}))})();d.set(t,p)})()}_dispatchPageClose(t){var n=this;return A(function*(){const h=n._pdfDocument,v=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(t))return;const d=v.get(t);d&&(v.set(t,null),yield d,h===n._pdfDocument&&(yield n._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t})))})()}_getDocProperties(){var t=this;return A(function*(){if(t._docPropertiesLookup)return t._docPropertiesLookup(t._pdfDocument);const{docPropertiesLookup:n}=x(24);return n(t._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,S.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:t}=x(24);return new t(this._sandboxBundleSrc)}_destroyScripting(){var t=this;return A(function*(){if(!t._scripting)return t._pdfDocument=null,void t._destroyCapability?.resolve();t._closeCapability&&(yield Promise.race([t._closeCapability.promise,new Promise(n=>{setTimeout(n,1e3)})]).catch(n=>{}),t._closeCapability=null),t._pdfDocument=null;try{yield t._scripting.destroySandbox()}catch{}for(const[n,h]of t._internalEvents)t._eventBus._off(n,h);t._internalEvents.clear();for(const[n,h]of t._domEvents)window.removeEventListener(n,h,!0);t._domEvents.clear(),t._pageOpenPending.clear(),t._visitedPages.clear(),t._scripting=null,delete t._mouseState.isDown,t._ready=!1,t._destroyCapability?.resolve()})()}}},(W,g,x)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericScripting=void 0,g.docPropertiesLookup=function S(t){return b.apply(this,arguments)};var m=x(3);function b(){return(b=A(function*(t){const h="".split("#")[0];let{info:v,metadata:d,contentDispositionFilename:_,contentLength:p}=yield t.getMetadata();if(!p){const{length:c}=yield t.getDownloadInfo();p=c}return{...v,baseURL:h,filesize:p,filename:_||(0,m.getPdfFilenameFromUrl)(""),metadata:d?.getRaw(),authors:d?.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}g.GenericScripting=class y{constructor(n){this._ready=(0,m.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var h=this;return A(function*(){(yield h._ready).create(n)})()}dispatchEventInSandbox(n){var h=this;return A(function*(){const v=yield h._ready;setTimeout(()=>v.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return A(function*(){(yield n._ready).nukeSandbox()})()}}}],j={};function z(W){var g=j[W];if(void 0!==g)return g.exports;var x=j[W]={exports:{}};return N[W](x,x.exports,z),x.exports}var I={};return(()=>{var W=I;Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return b.AnnotationLayerBuilder}}),Object.defineProperty(W,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return g.DefaultAnnotationLayerFactory}}),Object.defineProperty(W,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return g.DefaultStructTreeLayerFactory}}),Object.defineProperty(W,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return g.DefaultTextLayerFactory}}),Object.defineProperty(W,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return g.DefaultXfaLayerFactory}}),Object.defineProperty(W,"DownloadManager",{enumerable:!0,get:function(){return y.DownloadManager}}),Object.defineProperty(W,"EventBus",{enumerable:!0,get:function(){return t.EventBus}}),Object.defineProperty(W,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(W,"LinkTarget",{enumerable:!0,get:function(){return x.LinkTarget}}),Object.defineProperty(W,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(W,"PDFFindController",{enumerable:!0,get:function(){return v.PDFFindController}}),Object.defineProperty(W,"PDFHistory",{enumerable:!0,get:function(){return d.PDFHistory}}),Object.defineProperty(W,"PDFLinkService",{enumerable:!0,get:function(){return x.PDFLinkService}}),Object.defineProperty(W,"PDFPageView",{enumerable:!0,get:function(){return _.PDFPageView}}),Object.defineProperty(W,"PDFScriptingManager",{enumerable:!0,get:function(){return p.PDFScriptingManager}}),Object.defineProperty(W,"PDFSinglePageViewer",{enumerable:!0,get:function(){return S.PDFSinglePageViewer}}),Object.defineProperty(W,"PDFViewer",{enumerable:!0,get:function(){return S.PDFViewer}}),Object.defineProperty(W,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(W,"SimpleLinkService",{enumerable:!0,get:function(){return x.SimpleLinkService}}),Object.defineProperty(W,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return c.StructTreeLayerBuilder}}),Object.defineProperty(W,"TextLayerBuilder",{enumerable:!0,get:function(){return L.TextLayerBuilder}}),Object.defineProperty(W,"XfaLayerBuilder",{enumerable:!0,get:function(){return M.XfaLayerBuilder}}),Object.defineProperty(W,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var g=z(1),x=z(5),m=z(6),S=z(10),b=z(2),y=z(16),t=z(17),n=z(18),h=z(4),v=z(20),d=z(22),_=z(12),p=z(23),c=z(7),L=z(8),M=z(9)})(),I})(),G.exports=z()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:G=>{function a(i,F,C,H,T,E,A){try{var N=i[E](A),j=N.value}catch(z){return void C(z)}N.done?F(j):Promise.resolve(j).then(H,T)}G.exports=function P(i){return function(){var F=this,C=arguments;return new Promise(function(H,T){var E=i.apply(F,C);function A(j){a(E,H,T,A,N,"next",j)}function N(j){a(E,H,T,A,N,"throw",j)}A(void 0)})}},G.exports.__esModule=!0,G.exports.default=G.exports},6521:G=>{G.exports=function a(P,i){if(i.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object")},G.exports.__esModule=!0,G.exports.default=G.exports},8912:G=>{G.exports=function a(P,i){return i.get?i.get.call(P):i.value},G.exports.__esModule=!0,G.exports.default=G.exports},3448:G=>{G.exports=function a(P,i,F){if(i.set)i.set.call(P,F);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=F}},G.exports.__esModule=!0,G.exports.default=G.exports},2625:G=>{G.exports=function a(P,i){if(P!==i)throw new TypeError("Private static access of wrong provenance")},G.exports.__esModule=!0,G.exports.default=G.exports},2506:G=>{G.exports=function a(P,i){if(void 0===P)throw new TypeError("attempted to "+i+" private static field before its declaration")},G.exports.__esModule=!0,G.exports.default=G.exports},4069:G=>{G.exports=function a(P,i,F){if(!i.has(P))throw new TypeError("attempted to "+F+" private field on non-instance");return i.get(P)},G.exports.__esModule=!0,G.exports.default=G.exports},468:(G,a,P)=>{var i=P(8912),F=P(4069);G.exports=function C(H,T){var E=F(H,T,"get");return i(H,E)},G.exports.__esModule=!0,G.exports.default=G.exports},9159:(G,a,P)=>{var i=P(6521);G.exports=function F(C,H,T){i(C,H),H.set(C,T)},G.exports.__esModule=!0,G.exports.default=G.exports},5661:(G,a,P)=>{var i=P(3448),F=P(4069);G.exports=function C(H,T,E){var A=F(H,T,"set");return i(H,A,E),E},G.exports.__esModule=!0,G.exports.default=G.exports},4467:G=>{G.exports=function a(P,i,F){if(!i.has(P))throw new TypeError("attempted to get private field on non-instance");return F},G.exports.__esModule=!0,G.exports.default=G.exports},1860:(G,a,P)=>{var i=P(6521);G.exports=function F(C,H){i(C,H),H.add(C)},G.exports.__esModule=!0,G.exports.default=G.exports},1280:(G,a,P)=>{var i=P(8912),F=P(2625),C=P(2506);G.exports=function H(T,E,A){return F(T,E),C(A,"get"),i(T,A)},G.exports.__esModule=!0,G.exports.default=G.exports},2306:(G,a,P)=>{var i=P(3448),F=P(2625),C=P(2506);G.exports=function H(T,E,A,N){return F(T,E),C(A,"set"),i(T,A,N),N},G.exports.__esModule=!0,G.exports.default=G.exports},5764:(G,a,P)=>{var i=P(2625);G.exports=function F(C,H,T){return i(C,H),T},G.exports.__esModule=!0,G.exports.default=G.exports},8416:(G,a,P)=>{var i=P(4062);G.exports=function F(C,H,T){return(H=i(H))in C?Object.defineProperty(C,H,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[H]=T,C},G.exports.__esModule=!0,G.exports.default=G.exports},5036:(G,a,P)=>{var i=P(8698).default;G.exports=function F(C,H){if("object"!==i(C)||null===C)return C;var T=C[Symbol.toPrimitive];if(void 0!==T){var E=T.call(C,H||"default");if("object"!==i(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===H?String:Number)(C)},G.exports.__esModule=!0,G.exports.default=G.exports},4062:(G,a,P)=>{var i=P(8698).default,F=P(5036);G.exports=function C(H){var T=F(H,"string");return"symbol"===i(T)?T:String(T)},G.exports.__esModule=!0,G.exports.default=G.exports},8698:G=>{function a(P){return G.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},G.exports.__esModule=!0,G.exports.default=G.exports,a(P)}G.exports=a,G.exports.__esModule=!0,G.exports.default=G.exports}}]);